webpackJsonp([1],{0:function(t,e){},"0YSe":function(t,e){},1:function(t,e){},"18+c":function(t,e){},"1bEl":function(t,e){},"1rJ7":function(t,e){},2:function(t,e){},"3HDs":function(t,e){},"6q5P":function(t,e){},"70v9":function(t,e){},"7ADV":function(t,e,a){t.exports=a.p+"img/defaultHead.fd63503.png"},"7miW":function(t,e){},"8a2d":function(t,e){},"99mT":function(t,e){},"9Py4":function(t,e){},"9vvk":function(t,e){},A5uk:function(t,e){},A6XT:function(t,e){},AbpN:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC3ElEQVRYR8WXXcifcxjHPx9CSlmy1kgOJEnzsvR4aYyMEyXtZJIDy0g7WHKwIifm5UAxsqjJ28HDvJU4kiwvaxgiL0le0mIWRU4Q46tr3Y/+Pfb879/t/y/X4X1fv+v7/V3vP/mfxaH4SdYA1wCHNpz9C9iqbltIdxCBJEcC3wKfAL82ECiV84BT1TrzLxlK4FrgduAY9c8+Ap23ngDOUD+cBoHXgXfVGxvAjwI+Bx5WN04cgiTHAt8AZ6rvNRCYBWaAU9Tfp0HgFmCtekID+KXAi8DZ6q5x+s05kOQr4BG1cmBBSXIE8CUw2xKqJgJJzgLeAo5TKwzjCDwEXAycrPZWSiuBLcDp6ooe8Pr/GrBS3dEXqvrfSyDJIcD3wM3qgwsZTXI48CnwgrqhBbyVwGXAs8AS9acxBO4DCviurkn9ADyq/jJREiZ5BjhMLSIHlCRVbpUj8z26uS8Rx4agy+gfgavUp1vd2oXtDWCvevl/9kCS64C7gcXqbwMIPACsqzmgvj0JgbrFF+raAeBXVg8ArlYf7zu3YAiSHA98DaxSX+kzVP+TLAd2Ao+p17ecGUdgJfAqsKlsjxjbB9yhjn4r8Bo+H3XzYoX6x6QEqv6fBFbPy+7t6kWjxpMcDGwHTgROU6sEm6S3Ec1ZSVK63wG3zm9ISe4B1gPnqO83IXdKQwic34XkaLVKc78kKQ89B1yhPjUEvKkTjgDVPFimVm7MgS8Dqsxq77thKHgzgRH3V/Ld39289sNas3YDF7SsaAci2BSCJBcCVYq1C+5NchDwEnBSNyX/CclQL7QSqClY7t8/jpPcCZTLZ9SPh4KO6vcS6EqsymqTem+SuXVrtfr8JOBNOZBkFfAysBRYBLwDbFFvmhS8lcDWelhUSwY+6NrzJWq9eiaWlhDsATbXmlV7HrBc/Xli5NZGlKQGUt12cfcm+Gxa4K0hOBeoN8Ft6pvTBG8iMG3A+fb+BoQzFDAmauuPAAAAAElFTkSuQmCC"},Ay24:function(t,e){},GK9X:function(t,e){},"Gzb/":function(t,e){},"J/rV":function(t,e){},Jo42:function(t,e){},"Jx/G":function(t,e){},K1CS:function(t,e){},LtDe:function(t,e){},MJkd:function(t,e){},MLBd:function(t,e){},MbLo:function(t,e){},Mx7g:function(t,e){},N3cg:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADD0lEQVRYR8WXXeiecxjHP58coJQTyciyA0ypWaxp7QSlcCaHlpRRWK1myGQ2a5h5C3mZlCyZA5GX8rIjjdq8JxQpjZADJw6EfHWte7o9//v/3Pf97F+uek6e+/e7r8/vur7X9btu+Z/Nsf6TLAYeAE4YuPc34F713a71swA8D6wGvh0IcCJwnFrgc2wUQJLjgV+Ay9XXhgAkeQM4RV02CCDJB8Au9cnJDUnWA7cBJ6l/9wEkuRJ4FjhfPTAUYBuwCbhW3dXelOQr4HV1wwDnFfqvgcfVW+db35mCJPcBN7UhkqwA9gNnqQUy1ZrQnwaco/4xCqAWT0IkuR5Yqy4f4Pwq4GngPPXTaeunirAD4mz182kvTHIy8CXwoHpnH2xvFXSlowdgb9MjzlX/OmKAiXSsUx+d76VJrgaeaPJeUei1IRE4Fvgd2NEIsxOiFfrvgJdKRsA+9Z2ZNdCc/jpghXpNks1A5XUORJIK/YUTzgqi9n44ugoOb0jyPvCNuqYBqvKsMu1LR5XtPmCNumcmgCRLmp5/sfp2C2oqRJJFQJXfj8BKtVLYaX1leHedADhVrXD+a0k6IZKUZt6rdg0sV3+aWQNJvgd2z9dKuyCSvAJcBKxSP+srg3kjkOQYoO7yyl/19La9rH4yoYmN6s4k1QH3tFN2JBG4vbmYCqZti9WDHZo4BNF36vbz3j4wkfeHm6t15aSTJDcCjwCjIAYDJKm1Jagd6v2t0x8NbFC3zwIxBqCaTDWbyfC/AFwGLFV/GAsxBuApoG7DVa3TbwTuAS5V32z9PzgdgwCSHNXMglvVhxr1XwLUXHhzOyUdEFumXctDASrErwKL1J+TnAnU7FjleKhFd1krHTvVitYcGwrwHLBEXd1Mxh81bfYC9c9pZdcH0QvQNKQaxWsafgx4CzgDWKb+OqTmk6wFSkN3qXeM6gNJrgBerPADt9Rc2FwwXwxx3tLEOuAGdelYgN11GQHPNL//KH4MxEwaSFIA9VVzeqVBre/CBbMhGqgPjBpAPj5cggvmHegFWEhnXe/6B87LbTCgN0JaAAAAAElFTkSuQmCC"},NHJI:function(t,e,a){t.exports=a.p+"img/WePayLogo.ac49e82.png"},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("//Fk"),s=a.n(i),o=a("mvHQ"),n=a.n(o),r=a("7+uW"),l=a("zL8q"),c=a.n(l),d=(a("tvR6"),a("/ocq")),u=a("woOf"),h=a.n(u),p=a("mtWM"),v=a.n(p),m=a("7t+N"),f=a.n(m),_={name:"Login",data:function(){return{userName:"",password:"",tips_Msg:"",ifTips:!1,MinuteNum:60,CountDown:""}},mounted:function(){f()("input").attr("maxlength","50"),window.VersionShow=this.VersionShow,window.Device_Ajax=this.Device_Ajax,this.loginVueMounted(),this.getItem("SXJF_phone")&&(this.userName=this.getItem("SXJF_phone")),this.getItem("SXJF_USERDATA")&&(this.$store.state.userInfo=this.getItem("SXJF_USERDATA"),this.pluginGetUser(this.$store.state.userInfo.cellphone+"",""),this.$router.push({name:"Index"}))},created:function(){},beforeDestroy:function(){clearInterval(this.CountDown)},methods:{loginVueMounted:function(){try{CallAndroidOrIOS.callAndroid("登录页面已加载","")}catch(t){}try{window.webkit.messageHandlers.messageSend.postMessage({a:"登录页面已加载"})}catch(t){}},VersionShow:function(t){this.$store.state.App_Version=t},Device_Ajax:function(t){this.$store.state.Device=t},pluginGetUser:function(t,e){try{CallAndroidOrIOS.callAndroidTrack(t,e)}catch(t){}try{window.webkit.messageHandlers.messageSend.postMessage({a:"记住帐号密码",b:t})}catch(t){}},sendIdentifying:function(){var t=this;if(60==t.MinuteNum){var e=t.userName+"";if(e.length<=0)t.$alert("请输入手机号","提示",{confirmButtonText:"确定",callback:function(t){}});else if(11!=e.length)t.$alert("请输入正确的手机格式","提示",{confirmButtonText:"确定"});else{var a={cellphone:t.userName,next_page:"denglu"};this.httpRequest("sendYzmToCellphone.do",a,function(e){t.ifTips=!0,t.tips_Msg="验证码已发送",f()(".button").css("color","#555").html("重新发送("+t.MinuteNum+")"),t.CountDown=setInterval(function(){t.MinuteNum--,f()(".button").html("重新发送("+t.MinuteNum+")"),t.MinuteNum<0&&(f()(".button").css("color"," #038EEA").html("重新获取验证码"),t.MinuteNum=60,clearInterval(t.CountDown))},1e3),setTimeout(function(){t.ifTips=!1},1500)})}}},sfkcLogin:function(){var t=this;if(this.userName)if(this.password){var e={cellphone:this.userName,verificationCode:this.password};this.httpRequest("sfkcAppLogin.do",e,function(e){t.$store.state.userInfo=e.data,t.$store.state.WaybillData=[],t.$store.state.Waybill_NoSearchFrom=!0,t.$store.state.Waybill_needRefresh=!0,t.pluginGetUser(t.userName+"",""),t.setItem({name:"SXJF_USERDATA",value:e.data,expires:6048e5}),t.setItem({name:"SXJF_phone",value:t.userName}),t.$router.push({name:"Index",query:{}})})}else t.$alert("请输入验证码","提示",{confirmButtonText:"确定",callback:function(t){}});else t.$alert("请输入手机号","提示",{confirmButtonText:"确定",callback:function(t){}})},login:function(){var t=this;if(this.userName)if(this.password){var e={cellphone:this.userName,password:this.password,wxOpenid:""};this.httpRequest("login.do",e,function(e){t.$store.state.userInfo=e.data,t.$store.state.WaybillData=[],t.$store.state.Waybill_NoSearchFrom=!0,t.$store.state.Waybill_needRefresh=!0,t.setItem({name:"SXJF_USERDATA",value:e.data,expires:6048e5}),t.setItem({name:"SXJF_phone",value:t.userName}),t.pluginGetUser(t.userName+"",""),t.$router.push({name:"Index",query:{}})})}else t.$alert("密码不能为空","提示",{confirmButtonText:"确定",callback:function(t){}});else t.$alert("用户名不能为空","提示",{confirmButtonText:"确定",callback:function(t){}})},constructor:function(t){this.name="storage"},setItem:function(t){var e={name:"",value:"",expires:"",startTime:(new Date).getTime()},a={};if(h()(a,e,t),a.expires)localStorage.setItem(a.name,n()(a));else{Object.prototype.toString.call(a.value);"[object Object]"==Object.prototype.toString.call(a.value)&&(a.value=n()(a.value)),"[object Array]"==Object.prototype.toString.call(a.value)&&(a.value=n()(a.value)),localStorage.setItem(a.name,a.value)}},getItem:function(t){var e=localStorage.getItem(t);try{e=JSON.parse(e)}catch(t){e=e}return e&&e.startTime?(new Date).getTime()-e.startTime>e.expires?(localStorage.removeItem(t),!1):e.value:e},removeItem:function(t){localStorage.removeItem(t)},clear:function(){localStorage.clear()},repwd:function(){this.$router.push({name:"Identifying",query:{page:"ForgotPwd"}})},reg:function(){this.$router.push({name:"Identifying",query:{page:"Reg"}})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Login"},[a("div",{staticClass:"container"},[t._m(0),t._v(" "),a("div",{staticClass:" identeContainer"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],ref:"userName",attrs:{placeholder:"请输入手机号"},domProps:{value:t.userName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("password")},input:function(e){e.target.composing||(t.userName=e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password",attrs:{placeholder:"请输入密码",type:"password"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"login",on:{click:t.login}},[t._v("登录")]),t._v(" "),a("div",{staticClass:"repswd"},[a("span",{on:{click:t.repwd}},[t._v("忘记密码")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"LoginLogo"},[e("img",{attrs:{src:a("iQH9"),alt:""}})])}]};var y=a("VU/8")(_,g,!1,function(t){a("gPS4")},"data-v-16e674be",null).exports,C={name:"Reg",data:function(){return{typeMShow:!1,cellphone:"",userName:"",password:"",IDCardNum:"",vicheNo:"",vehicleType:"请选择",vehicleType_code:"",vehicleLength:"",vehicleWide:"",vehicleHeight:"",maxLoadWeight:"",maxLoadVolumn:"",tips_Msg:"",ifTips:!1,typeOfCarList:[],dialogImageUrl:"",dialogVisible:!1,uploadParams:{}}},mounted:function(){this.$refs.userName.focus()},created:function(){var t=this;if(this.cellphone=this.$route.query.phoneNum,this.uploadParams.cellphone=this.cellphone,this.$store.state.typeOfCarList.length)this.typeOfCarList=t.$store.state.typeOfCarList;else{this.httpRequest("queryCodeLukupData.do",{listName:"TMS-客户指定车型",tenantCode:"SFKC"},function(e){t.typeOfCarList=e.data,t.$store.state.typeOfCarList=e.data})}},methods:{goPrev:function(){this.$router.push({name:"Identifying",query:{page:"Reg"}})},regBtn:function(){var t=this;if(t.userName&&t.password&&t.IDCardNum&&t.vicheNo&&t.maxLoadWeight&&t.maxLoadVolumn)if(t.vehicleType_code)if(t.password.length<6)t.$alert("密码不能小于六位数","提示",{confirmButtonText:"确定"});else{this.$refs.upload_info1.submit(),this.$refs.upload_info2.submit(),this.$refs.upload_info3.submit(),this.$refs.upload_info4.submit();var e={loginname:"",username:t.userName,idNo:t.IDCardNum,password:t.password,cellphone:t.cellphone,vicheNo:t.vicheNo,vehicleType:t.vehicleType_code,vehicleLength:t.vehicleLength,vehicleWide:t.vehicleWide,vehicleHeight:t.vehicleHeight,maxLoadWeight:t.maxLoadWeight,maxLoadVolumn:t.maxLoadVolumn};t.httpRequest("registerAppUser.do",e,function(e){t.ifTips=!0,t.tips_Msg=e.Msg,setTimeout(function(){t.ifTips=!1,t.toLogin()},1500)})}else t.$alert("请选择车型","提示",{confirmButtonText:"确定"});else t.$alert("请输入必填项","提示",{confirmButtonText:"确定"})},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},TypeOfCar:function(){this.typeMShow=!0},SelectComit:function(t){this.typeMShow=!1,this.vehicleType=this.typeOfCarList[t].description,this.vehicleType_code=this.typeOfCarList[t].code}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Reg"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goPrev}}),a("span",[t._v("注册")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"regContainer"},[a("div",{staticClass:"regInfo"},[t._m(0),t._v(" "),a("div",[a("span",[t._v("手机号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cellphone,expression:"cellphone"}],attrs:{readonly:""},domProps:{value:t.cellphone},on:{input:function(e){e.target.composing||(t.cellphone=e.target.value)}}})]),t._v(" "),a("div",[a("span",[t._v("姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],ref:"userName",attrs:{placeholder:"必填"},domProps:{value:t.userName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("password")},input:function(e){e.target.composing||(t.userName=e.target.value)}}}),t.userName?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("userName")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password",attrs:{placeholder:"必填"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("IDCardNum")},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.password?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("password")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("身份证号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.IDCardNum,expression:"IDCardNum"}],ref:"IDCardNum",attrs:{placeholder:"必填"},domProps:{value:t.IDCardNum},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("vicheNo")},input:function(e){e.target.composing||(t.IDCardNum=e.target.value)}}}),t.IDCardNum?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("IDCardNum")}}}):t._e()]),t._v(" "),t._m(1),t._v(" "),a("div",[a("span",[t._v("车牌号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vicheNo,expression:"vicheNo"}],ref:"vicheNo",attrs:{placeholder:"必填"},domProps:{value:t.vicheNo},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("vehicleLength")},input:function(e){e.target.composing||(t.vicheNo=e.target.value)}}}),t.vicheNo?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("vicheNo")}}}):t._e()]),t._v(" "),a("div",{on:{click:t.TypeOfCar}},[a("span",[t._v("车型")]),a("div",[a("span",[t._v(t._s(t.vehicleType))]),a("i",{staticClass:"iconfont icon-xiangshang"})])]),t._v(" "),a("div",[a("span",[t._v("车长（米）")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vehicleLength,expression:"vehicleLength"}],ref:"vehicleLength",attrs:{placeholder:"车长",type:"number"},domProps:{value:t.vehicleLength},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("vehicleWide")},input:function(e){e.target.composing||(t.vehicleLength=e.target.value)}}}),t.vehicleLength.length?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("vehicleLength")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("车宽（米）")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vehicleWide,expression:"vehicleWide"}],ref:"vehicleWide",attrs:{placeholder:"车宽",type:"number"},domProps:{value:t.vehicleWide},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("vehicleHeight")},input:function(e){e.target.composing||(t.vehicleWide=e.target.value)}}}),t.vehicleWide.length?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("vehicleWide")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("车高（米）")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vehicleHeight,expression:"vehicleHeight"}],ref:"vehicleHeight",attrs:{placeholder:"车高",type:"number"},domProps:{value:t.vehicleHeight},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("maxLoadWeight")},input:function(e){e.target.composing||(t.vehicleHeight=e.target.value)}}}),t.vehicleHeight.length?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("vehicleHeight")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("载重（吨）")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.maxLoadWeight,expression:"maxLoadWeight"}],ref:"maxLoadWeight",attrs:{placeholder:"必填",type:"number"},domProps:{value:t.maxLoadWeight},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("maxLoadVolumn")},input:function(e){e.target.composing||(t.maxLoadWeight=e.target.value)}}}),t.maxLoadWeight.length?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("maxLoadWeight")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("载重体积(方)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.maxLoadVolumn,expression:"maxLoadVolumn"}],ref:"maxLoadVolumn",attrs:{placeholder:"必填",type:"number"},domProps:{value:t.maxLoadVolumn},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.regBtn(e)},input:function(e){e.target.composing||(t.maxLoadVolumn=e.target.value)}}}),t.maxLoadVolumn?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("maxLoadVolumn")}}}):t._e()]),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("身份证正面照片")]),t._v(" "),a("div",[a("el-upload",{ref:"upload_info1",attrs:{action:t.HOST+"registerUploadPicture.do",limit:2,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadError,"on-success":t.uploadSuccess,"on-preview":t.handlePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)]),t._v(" "),a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("身份证反面照片")]),t._v(" "),a("div",[a("el-upload",{ref:"upload_info2",attrs:{action:t.HOST+"registerUploadPicture.do",limit:2,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadError,"on-success":t.uploadSuccess,"on-preview":t.handlePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)]),t._v(" "),a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("驾驶证照片")]),t._v(" "),a("div",[a("el-upload",{ref:"upload_info3",attrs:{action:t.HOST+"registerUploadPicture.do",limit:3,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadError,"on-success":t.uploadSuccess,"on-preview":t.handlePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)]),t._v(" "),a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("行驶证照片")]),t._v(" "),a("div",[a("el-upload",{ref:"upload_info4",attrs:{action:t.HOST+"registerUploadPicture.do",limit:3,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadError,"on-success":t.uploadSuccess,"on-preview":t.handlePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])]),t._v(" "),a("div",{staticClass:"g_signBtn",on:{click:t.regBtn}},[t._v("注册")])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e(),t._v(" "),t.typeMShow?a("div",{staticClass:"SelectMeng"},[a("div",{staticClass:"SelectWarehouses"},[a("div",{staticClass:"SelectTitle"},[t._v("请选择车型")]),t._v(" "),a("div",{staticClass:"SelectItem"},t._l(t.typeOfCarList,function(e,i){return a("div",{key:i,attrs:{id:i},on:{click:function(e){return t.SelectComit(i)}}},[t._v(t._s(e.description))])}),0),t._v(" "),a("div",{staticClass:"cancel",on:{click:function(e){return t.selectCancel("e")}}},[t._v("取消")])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[this._v("个人信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[this._v("车辆信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[this._v("上传资料")])])}]};var L=a("VU/8")(C,b,!1,function(t){a("GK9X")},"data-v-e52cb6ae",null).exports,N={name:"ForgotPwd",data:function(){return{newPassWord:"",rePassWord:"",tips_Msg:"",ifTips:!1}},mounted:function(){this.$refs.newPassWord.focus()},methods:{goPrev:function(){this.$router.push({name:"Identifying",query:{page:"ForgotPwd"}})},submit:function(){var t=this;if(""!=t.newPassWord)if(""!=t.rePassWord)if(t.newPassWord==t.rePassWord)if(t.newPassWord.length<6)t.$alert("密码不能小于六位数","提示",{confirmButtonText:"确定"});else{var e={cellphone:t.$route.query.phoneNum,next_page:"wangjimima",oldPassword:t.newPassWord,password:t.newPassWord};t.httpRequest("updateUserPassword.do",e,function(e){t.ifTips=!0,t.tips_Msg=e.Msg,setTimeout(function(){t.ifTips=!1,t.toLogin()},1500)})}else t.$alert("两次密码输入不一致","提示",{confirmButtonText:"确定"});else t.$alert("请输入确认密码","提示",{confirmButtonText:"确定"});else t.$alert("请输入新密码","提示",{confirmButtonText:"确定"})}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ForgotPwd"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goPrev}}),a("span",[t._v("忘记密码")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"identeContainer"},[a("div",[a("span",[t._v("新密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassWord,expression:"newPassWord"}],ref:"newPassWord",attrs:{placeholder:"请输入新密码"},domProps:{value:t.newPassWord},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("rePassWord")},input:function(e){e.target.composing||(t.newPassWord=e.target.value)}}}),t.newPassWord?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("newPassWord")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("确认密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.rePassWord,expression:"rePassWord"}],ref:"rePassWord",attrs:{placeholder:"请确认新密码"},domProps:{value:t.rePassWord},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},input:function(e){e.target.composing||(t.rePassWord=e.target.value)}}}),t.rePassWord?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("rePassWord")}}}):t._e()]),t._v(" "),a("div",{staticClass:"g_signBtn",on:{click:t.submit}},[t._v("找回密码")])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])])},staticRenderFns:[]};var I=a("VU/8")(N,S,!1,function(t){a("tf4A")},"data-v-bb01ccf4",null).exports,D={name:"Identifying",data:function(){return{page:"wangjimima",phoneNum:"",identifyingCode:"",tips_Msg:"",ifTips:!1,MinuteNum:60,CountDown:""}},mounted:function(){this.$refs.phoneNum.focus()},created:function(){this.$route.query.page&&("ForgotPwd"==this.$route.query.page?this.page="wangjimima":"Reg"==this.$route.query.page&&(this.page="zhucezhanghao"))},beforeDestroy:function(){clearInterval(this.CountDown)},methods:{sendIdentifying:function(){var t=this;if(60==t.MinuteNum)if(t.phoneNum.length)if(11!=t.phoneNum.length)t.$alert("请输入正确的手机格式","提示",{confirmButtonText:"确定"});else{var e={cellphone:t.phoneNum,next_page:t.page};this.httpRequest("sendYzmToCellphone.do",e,function(e){t.ifTips=!0,t.tips_Msg="验证码已发送",f()(".button").css("color","#555").html("重新发送("+t.MinuteNum+")"),t.CountDown=setInterval(function(){t.MinuteNum--,f()(".button").html("重新发送("+t.MinuteNum+")"),t.MinuteNum<0&&(f()(".button").css("color"," #038EEA").html("重新获取验证码"),t.MinuteNum=60,clearInterval(t.CountDown))},1e3),setTimeout(function(){t.ifTips=!1},1500)})}else t.$alert("请输入手机号","提示",{confirmButtonText:"确定",callback:function(t){}})},nextTo:function(){var t=this;if(t.phoneNum)if(11!=t.phoneNum.length)t.$alert("请输入正确的手机格式","提示",{confirmButtonText:"确定"});else if(t.identifyingCode){var e={cellphone:t.phoneNum,verificationCode:t.identifyingCode,next_page:t.page};this.httpRequest("validateVerificationCode.do",e,function(e){t.$route.query.page&&("ForgotPwd"==t.$route.query.page?t.$router.push({name:"ForgotPwd",query:{phoneNum:t.phoneNum}}):"Reg"==t.$route.query.page&&t.$router.push({name:"Reg",query:{phoneNum:t.phoneNum}}))})}else t.$alert("请输入验证码","提示",{confirmButtonText:"确定",callback:function(t){}});else t.$alert("请输入手机号","提示",{confirmButtonText:"确定",callback:function(t){}})}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Identifying"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.toLogin}}),a("span",[t._v("验证手机号")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"identeContainer"},[a("div",[t._v("我们将发送验证码到您的手机")]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNum,expression:"phoneNum"}],ref:"phoneNum",attrs:{placeholder:"请输入手机号"},domProps:{value:t.phoneNum},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("identifyingCode")},input:function(e){e.target.composing||(t.phoneNum=e.target.value)}}}),t._v(" "),t.phoneNum?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("phoneNum")}}}):t._e()]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.identifyingCode,expression:"identifyingCode"}],ref:"identifyingCode",attrs:{placeholder:"请输入验证码"},domProps:{value:t.identifyingCode},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.nextTo(e)},input:function(e){e.target.composing||(t.identifyingCode=e.target.value)}}}),t.identifyingCode?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("identifyingCode")}}}):t._e(),t._v(" "),a("div",{staticClass:"button",on:{click:t.sendIdentifying}},[t._v("获取验证码")])]),t._v(" "),a("div",{staticClass:"g_signBtn",on:{click:t.nextTo}},[t._v("下一步")])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])])},staticRenderFns:[]};var k=a("VU/8")(D,w,!1,function(t){a("A6XT")},"data-v-c9d84894",null).exports,T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("footer",t._l(t.footList,function(e,i){return a("div",{key:i,class:{active:t.active==e.title},attrs:{id:i},on:{click:function(e){return t.toggle(i)}}},[a("i",{staticClass:"iconfont",class:e.icon}),t._v(" "),a("p",[t._v(t._s(e.title))])])}),0)])},staticRenderFns:[]};var x=a("VU/8")({name:"FooterIndex",data:function(){return{footList:[{path:"Index",title:"首页",icon:"icon-shouye-blue"},{path:"Waybill",title:"任务",icon:"icon-woderenwu"},{path:"HomeIndex",title:"我的",icon:"icon-gerenzhongxin"}],active:"首页"}},created:function(){for(var t=0;t<this.footList.length;t++){if("historyList"==this.$route.name)return void(this.active="任务");if(this.$route.name==this.footList[t].path)return void(this.active=this.footList[t].title)}this.$route.query.active&&(this.active=this.$route.query.active)},methods:{toggle:function(t){this.$store.state.Waybill_needRefresh=!1,this.active=this.footList[t].title,this.$router.push({name:this.footList[t].path,query:{active:this.footList[t].title}})}}},T,!1,function(t){a("9Py4")},"data-v-29cab2f6",null).exports;a("i5pW");var $={name:"Index",data:function(){return{noticeList:[],numberPerPage:10,loadPage:1,allLoaded:!0,autoFill:!1,is_NoData:!1,LoadingIndex:!1,loadingIndexText:"拼命加载中",AuditWeightLimits:!1,printFlag:"F",AirMasterScanLimits:!1}},components:{FooterIndex:x},mounted:function(){this.allLoaded=!1},created:function(){this.$store.state.userInfo.reviewWeightFlag&&1==this.$store.state.userInfo.reviewWeightFlag?this.AuditWeightLimits=!0:this.AuditWeightLimits=!1,this.$store.state.userInfo.airlineMasterScanFlag&&1==this.$store.state.userInfo.airlineMasterScanFlag?this.AirMasterScanLimits=!0:this.AirMasterScanLimits=!1,this.$store.state.userInfo.printFlag&&(this.printFlag=this.$store.state.userInfo.printFlag),this.loadData()},methods:{loadData:function(t){var e=this,a={currentPage:this.loadPage,numberPerPage:this.numberPerPage,cellphone:e.$store.state.userInfo.cellphone};this.LoadingIndex=!0,this.httpRequest("deriverAueryShipmentData",a,function(a){e.LoadingIndex=!1,t&&("TopLoad"==t?e.$refs.loadmore.onTopLoaded():"BottomLoad"==t&&e.$refs.loadmore.onBottomLoaded()),e.loadPage>1?e.noticeList=e.noticeList.concat(a.data):(e.noticeList=a.data,a.data.length?e.is_NoData=!1:e.is_NoData=!0),a.data.length<e.numberPerPage?e.allLoaded=!0:e.allLoaded=!1})},toWaybillInfo:function(t,e,a){this.$store.state.Waybill.WaybillInfo.clickShipmentId=t;var i="Link_PickUp";"提货"==a?i="Link_PickUp":"中转"==a?i="Link_Transit":"派件"==a&&(i="Link_ToSend"),"WEI"==e?(this.$store.state.Waybill.waybillLinkStatus=i,this.$router.push({name:"WaybillInfo",query:{LinkStatus:i}})):(this.$store.state.history_LinkStatus=i,this.$router.push({name:"WaybillDetail",query:{LinkStatus:i}}))},loadTop:function(){this.loadPage=1,this.allLoaded=!1,this.loadData("TopLoad")},loadBottom:function(){this.allLoaded?this.$refs.loadmore.onBottomLoaded():(this.loadPage+=1,this.loadData("BottomLoad"))}}},P={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Index"},[t._m(0),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"swipper"},[i("div",{staticClass:"block"},[i("el-carousel",{attrs:{trigger:"click",height:"150px"}},[i("el-carousel-item",[i("img",{staticStyle:{height:"150px",width:"100%"},attrs:{src:a("l9IN")}})]),t._v(" "),i("el-carousel-item",[i("img",{staticStyle:{height:"150px",width:"100%"},attrs:{src:a("n55d")}})])],1)],1)]),t._v(" "),i("div",{staticClass:"option"},[i("router-link",{attrs:{to:"/PrintExpress"}},[i("i",{staticClass:"iconfont icon-dayin"}),t._v(" "),i("span",[t._v("打印面单")])]),t._v(" "),i("router-link",{attrs:{to:{name:"AviationTransitScan",query:{pagetype:"air"}}}},[i("i",{staticClass:"iconfont icon-saomiao"}),t._v(" "),i("span",[t._v("航空出港扫描")])]),t._v(" "),i("router-link",{attrs:{to:"/ExceptionList"}},[i("i",{staticClass:"iconfont icon-qianshou"}),t._v(" "),i("span",[t._v("异常单签收")])]),t._v(" "),i("router-link",{attrs:{to:"/SweepCodePrinting"}},[i("i",{staticClass:"iconfont icon-dayin"}),t._v(" "),i("span",[t._v("揽收扫码打印")])]),t._v(" "),t.AirMasterScanLimits?i("router-link",{attrs:{to:"/AirMasterScan"}},[i("i",{staticClass:"iconfont icon-saomiao"}),t._v(" "),i("span",[t._v("航空主单扫描")])]):t._e(),t._v(" "),t.AuditWeightLimits?i("router-link",{attrs:{to:"/AuditWeight"}},[i("i",{staticClass:"iconfont icon-accAudit"}),t._v(" "),i("span",[t._v("重量稽核")])]):t._e(),t._v(" "),t.printFlag&&"T"==t.printFlag?i("router-link",{attrs:{to:"/PrintExpressShein"}},[i("i",{staticClass:"iconfont icon-dayin"}),t._v(" "),i("span",[t._v("打印顺丰面单")])]):t._e()],1),t._v(" "),i("div",{staticClass:"noticeHeader"},[t._v("通知：")]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.LoadingIndex,expression:"LoadingIndex",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"noticeContent",staticStyle:{overflow:"scroll",height:"calc(100% - 310px)"},attrs:{"element-loading-text":t.loadingIndexText,"element-loading-background":"rgba(0, 0, 0, 0)"}},[i("mt-loadmore",{ref:"loadmore",staticStyle:{"text-align":"center"},attrs:{topDropText:"下拉刷新",topLoadingText:"",topPullText:"",bottomPullText:"",bottomDropText:"上拉加载",bottomLoadingText:"","top-method":t.loadTop,"bottom-method":t.loadBottom,autoFill:t.autoFill}},[i("div",[t._l(t.noticeList,function(e,a){return i("div",{key:a,staticClass:"noticeItem",attrs:{id:a},on:{click:function(a){return t.toWaybillInfo(e.shipmentID,e.appointLoadingSite,e.transportLinks)}}},[i("div",["未查看"==e.daoDaPlace?i("i",{staticClass:"iconfont icon-weiduxiaoxi  red"}):i("i",{staticClass:"iconfont icon-yiduxiaoxi-"}),t._v(" "),i("span",[t._v("配载单号：")]),i("span",[t._v(t._s(e.code))]),t._v(" "),i("span",[t._v(t._s(e.addDate))])])])}),t._v(" "),t.allLoaded&&t.noticeList.length?i("div",{staticClass:"nodata_label"},[t._v("没有更多数据")]):t._e(),t._v(" "),i("div",{staticClass:"kong"}),t._v(" "),t.is_NoData?i("div",{staticClass:"nodata_kong"}):t._e()],2)]),t._v(" "),t.is_NoData?i("div",{staticClass:"NoData"},[t._m(1)]):t._e()],1)]),t._v(" "),i("FooterIndex")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("span",[this._v("首页")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),this._v(" "),e("div",[this._v("没有通知")])])}]};var B=a("VU/8")($,P,!1,function(t){a("8a2d")},"data-v-6ad97fde",null).exports,A={name:"ExceptionList",data:function(){return{AbnormalListData:[],is_NoData:!1,is_NoData_text:"没有异常订单",numberPerPage:15,loadPage:1,allLoaded:!0,autoFill:!1,tips_Msg:"",ifTips:!1}},mounted:function(){},created:function(){this.loadData()},methods:{loadData:function(t){var e=this,a={currentPage:e.loadPage,numberPerPage:e.numberPerPage,cellphone:e.$store.state.userInfo.cellphone};this.httpRequest("abnormalOrderSFData.do",a,function(a){t&&("TopLoad"==t?e.$refs.loadmore.onTopLoaded():"BottomLoad"==t&&e.$refs.loadmore.onBottomLoaded()),e.loadPage>1?e.AbnormalListData=e.AbnormalListData.concat(a.data):(e.AbnormalListData=a.data,a.data.length?e.is_NoData=!1:(e.is_NoData_text="没有异常订单",e.is_NoData=!0)),a.data.length<e.numberPerPage?e.allLoaded=!0:e.allLoaded=!1})},abnormalSign:function(t){event.stopPropagation();this.$router.push({name:"AbnormalScan",query:{omsNo:this.AbnormalListData[t].omsNo,actualQty:this.AbnormalListData[t].actualQty,AbHasScanNum:this.AbnormalListData[t].deliveryNumber,orderId:this.AbnormalListData[t].orderId,deliveryId:this.AbnormalListData[t].deliveryId}})},ScanQueryOrderInfo:function(){this.$router.push({name:"ScanQueryOrderInfo"})},goprev:function(){this.$router.push({name:"Index"})},loadTop:function(){this.loadPage=1,this.allLoaded=!1,this.loadData("TopLoad")},loadBottom:function(){this.allLoaded?this.$refs.loadmore.onBottomLoaded():(this.loadPage+=1,this.loadData("BottomLoad"))},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ExceptionList"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("异常单列表")]),a("i",{staticClass:"iconfont icon-sousuoxiawu-",on:{click:t.ScanQueryOrderInfo}})]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"AbnormalContainer ",staticStyle:{overflow:"scroll"}},[a("mt-loadmore",{ref:"loadmore",attrs:{topDropText:"下拉刷新",topLoadingText:"",topPullText:"",bottomPullText:"",bottomDropText:"上拉加载",bottomLoadingText:"","top-method":t.loadTop,"bottom-method":t.loadBottom,autoFill:t.autoFill}},[a("div",{staticClass:"AbnormalList"},[t._l(t.AbnormalListData,function(e,i){return a("div",{key:i,staticClass:"AbnormalItem",attrs:{id:i}},[a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("订单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.omsNo,expression:"dataItem.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(e.omsNo)+"\n\t\t\t\t      "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.omsNo,expression:"dataItem.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})])]),t._v(" "),a("div",[a("span",[t._v("SF运单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.clientOrderNo,expression:"dataItem.clientOrderNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(e.clientOrderNo)+"\n\t\t\t\t      "),e.clientOrderNo?a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.clientOrderNo,expression:"dataItem.clientOrderNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"}):t._e()])]),t._v(" "),a("div",[a("span",[t._v("发起时间：")]),a("span",[t._v(t._s(e.sponsorTime))])])]),t._v(" "),a("div",{staticClass:"AreaBox"},[a("div",[a("span",[t._v("收货联系人：")]),a("span",[t._v(t._s(e.receivePartyContactName))]),t._v("    "),a("span",[t._v(t._s(e.receivePartyPhone))]),t._v("  "),a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(a){return t.callPhone(e.receivePartyPhone)}}})]),t._v(" "),a("div",[a("span",[t._v("收货地址：")]),a("span",[t._v(t._s(e.receivePartyAddr1))])])]),t._v(" "),a("div",{staticClass:"nomalList"},[a("div",[a("div",[a("span",[t._v("发起人：")]),a("span",[t._v(t._s(e.sponsorName))])]),t._v(" "),a("div",[a("span",[t._v("发起人承运商：")]),a("span",[t._v(t._s(e.operateRdcName))])])]),t._v(" "),a("div",[a("div",[a("span",[t._v("异常环节：")]),a("span",[t._v(t._s(e.abnormalLink))])]),t._v(" "),a("div",[a("span",[t._v("异常类型：")]),a("span",[t._v(t._s(e.abnormalType))])])]),t._v(" "),a("div",[a("span",[t._v("责任方：")]),a("span",[t._v(t._s(e.responsibleParty))])]),t._v(" "),a("div",[a("span",[t._v("异常描述：")]),a("span",[t._v(t._s(e.abnormalExplain))])])]),t._v(" "),a("div",{staticClass:"operateBtn"},[a("div",{on:{click:function(e){return t.abnormalSign(i)}}},[t._v("异常单签收")])])])}),t._v(" "),t.allLoaded&&t.AbnormalListData.length?a("div",{staticClass:"nodata_label"},[t._v("没有更多数据")]):t._e(),t._v(" "),a("div",{staticClass:"kong"}),t._v(" "),t.is_NoData?a("div",{staticClass:"nodata_kong"}):t._e()],2)])],1)]),t._v(" "),t.is_NoData?a("div",{staticClass:"NoData"},[a("div",[a("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),t._v(" "),a("div",[t._v(t._s(t.is_NoData_text))])])]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var O=a("VU/8")(A,F,!1,function(t){a("ndWM")},"data-v-3c673520",null).exports,U=new r.default,W={name:"scan",props:["loadingData","switchScan","textre","deliveryNoSF"],data:function(){return{codeUrl:"",code:"",activeFlash:!1,imgSelect:a("b2XV"),scanState:!1,placeholdertext:"手动输入标签号..."}},created:function(){this.textre&&(this.placeholdertext=this.textre),this.deliveryNoSF&&(this.code=this.deliveryNoSF,this.$emit("scanData",this.code))},mounted:function(){},methods:{QRScanAjax:function(t){this[this.$store.state.ScanQRCodeInputName]=t,this.commitInput()},commitInput:function(){""!==this.code&&this.$emit("scanData",this.code)},startRecognize:function(){this.$emit("scanData","")}}},R={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scan-box"},[i("div",{staticClass:"kongscan"}),t._v(" "),i("div",{ref:"scan",attrs:{id:"bcid"},on:{click:function(e){return t.androidScan("code")}}},[t._m(0)]),t._v(" "),i("div",{staticClass:"input-order-number"},[i("img",{attrs:{src:a("i1Yn")}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"code",attrs:{type:"text",placeholder:t.placeholdertext},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),i("div",{staticClass:"button-add",on:{click:t.commitInput}},[t._v("确认")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("扫描")]),e("i",{staticClass:"iconfont icon-sousuoxiawu-"})])}]};var M=a("VU/8")(W,R,!1,function(t){a("xlxA")},"data-v-b9667400",null).exports,q={name:"ScanQueryOrderInfo",data:function(){return{AbnormalInfoData:[],loadingData:!1,AbnormalInfo_show:!1,scanLabel:"",LocateAbnormalScanLabel:""}},components:{"v-scan":M},mounted:function(){},created:function(){this.$route.query.LocateAbnormalScanLabel&&(this.LocateAbnormalScanLabel=this.$route.query.LocateAbnormalScanLabel,this.scanData(this.LocateAbnormalScanLabel))},methods:{scanData:function(t){var e=this;this.scanLabel=t,e.AbnormalInfo_show=!0;var a={scanLabel:t,cellphone:e.$store.state.userInfo.cellphone,currentPage:1,numberPerPage:3};this.httpRequest("abnormalOrderSFData.do",a,function(t){e.AbnormalInfoData=t.data,e.AbnormalInfo_show=!0})},abnormalSign:function(){event.stopPropagation();this.$router.push({name:"AbnormalScan",query:{omsNo:this.AbnormalInfoData[0].omsNo,LocateAbnormalScanLabel:this.scanLabel,actualQty:this.AbnormalInfoData[0].actualQty,AbHasScanNum:this.AbnormalInfoData[0].deliveryNumber,orderId:this.AbnormalInfoData[0].orderId,deliveryId:this.AbnormalInfoData[0].deliveryId}})},goprev:function(){this.$router.push({name:"ExceptionList"})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ScanQueryOrderInfo"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("定位异常单")])]),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"containerInfo"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.AbnormalInfo_show,expression:"AbnormalInfo_show"}],staticClass:"orderInfo"},[t.AbnormalInfoData.length?a("div",{staticClass:"AbnormalItem"},[a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("订单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.AbnormalInfoData[0].omsNo,expression:"AbnormalInfoData[0].omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.AbnormalInfoData[0].omsNo)+"\n\t\t\t\t\t      "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.AbnormalInfoData[0].omsNo,expression:"AbnormalInfoData[0].omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})])]),t._v(" "),a("div",[a("span",[t._v("SF运单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.AbnormalInfoData[0].clientOrderNo,expression:"AbnormalInfoData[0].clientOrderNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.AbnormalInfoData[0].clientOrderNo)+"\n\t\t\t\t\t      "),t.AbnormalInfoData[0].clientOrderNo?a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.AbnormalInfoData[0].clientOrderNo,expression:"AbnormalInfoData[0].clientOrderNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"}):t._e()])]),t._v(" "),a("div",[a("span",[t._v("发起时间：")]),a("span",[t._v(t._s(t.AbnormalInfoData[0].sponsorTime))])])]),t._v(" "),a("div",{staticClass:"AreaBox"},[a("div",[a("span",[t._v("收货联系人：")]),a("span",[t._v(t._s(t.AbnormalInfoData[0].receivePartyContactName))]),t._v("    "),a("span",[t._v(t._s(t.AbnormalInfoData[0].receivePartyPhone))]),t._v("  "),a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(e){return t.callPhone(t.AbnormalInfoData[0].receivePartyPhone)}}})]),t._v(" "),a("div",[a("span",[t._v("收货地址：")]),a("span",[t._v(t._s(t.AbnormalInfoData[0].receivePartyAddr1))])])]),t._v(" "),a("div",{staticClass:"nomalList"},[a("div",[a("div",[a("span",[t._v("发起人：")]),a("span",[t._v(t._s(t.AbnormalInfoData[0].sponsorName))])]),t._v(" "),a("div",[a("span",[t._v("发起人承运商：")]),a("span",[t._v(t._s(t.AbnormalInfoData[0].operateRdcName))])])]),t._v(" "),a("div",[a("div",[a("span",[t._v("异常环节：")]),a("span",[t._v(t._s(t.AbnormalInfoData[0].abnormalLink))])]),t._v(" "),a("div",[a("span",[t._v("异常类型：")]),a("span",[t._v(t._s(t.AbnormalInfoData[0].abnormalType))])])]),t._v(" "),a("div",[a("span",[t._v("责任方：")]),a("span",[t._v(t._s(t.AbnormalInfoData[0].responsibleParty))])]),t._v(" "),a("div",[a("span",[t._v("异常描述：")]),a("span",[t._v(t._s(t.AbnormalInfoData[0].abnormalExplain))])])]),t._v(" "),a("div",{staticClass:"operateBtn"},[a("div",{on:{click:t.abnormalSign}},[t._v("异常单签收")])])]):t._e()])])])},staticRenderFns:[]};var H=a("VU/8")(q,E,!1,function(t){a("al6c")},"data-v-5655aab2",null).exports,Q={name:"PrintExpress",data:function(){return{OrderInfoData:{},OrderInfoDataList:[],printData:[],is_NoData:!1,loadingData:!1,OrderInfo_show:!1,scanLabel:"",tips_Msg:"",ifTips:!1}},components:{"v-scan":M},mounted:function(){},created:function(){},methods:{scanData:function(t){this.is_NoData=!1;var e=this;this.scanLabel=t;var a={scanLabel:t};e.$emit("isLoading",!0,"拼命加载中"),v.a.post(e.HOST+"surfacePrint.do",{params:n()(a)}).then(function(t){if(e.$emit("isLoading",!1),1==t.data.status){for(var a in t.data.data.length?e.is_NoData=!1:e.is_NoData=!0,t.data.data[0].bsOrderWt&&(t.data.data[0].bsOrderWt=parseFloat(t.data.data[0].bsOrderWt/1e3)),t.data.data[0])0==t.data.data[0][a]&&(t.data.data[0][a]="-");e.OrderInfoData=t.data.data[0],e.OrderInfoDataList=t.data.data[1],e.printData=t.data.data,e.OrderInfo_show=!0}else{var i;e.is_NoData=!0,e.OrderInfoData={},e.OrderInfoDataList=[],e.printData=[],e.OrderInfo_show=!1,i=t.data.Msg?t.data.Msg:"请求失败",e.$alert(i,"提示",{confirmButtonText:"确定"})}}).catch(function(t){e.$emit("isLoading",!1),e.$alert("请求失败","提示",{confirmButtonText:"确定"})})},printBtn:function(t,e){var a=[];t&&"item"==t?(a[0]=this.OrderInfoData,a[1]=[this.OrderInfoDataList[e]],a=n()(a)):a=n()(this.printData);try{CallAndroidOrIOS.callAndroid("打印",a)}catch(t){}try{window.webkit.messageHandlers.messageSend.postMessage({a:"打印",b:a})}catch(t){}},goprev:function(){this.$router.push({name:"Index"})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"PrintExpress"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("打印面单")])]),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"order-level"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.OrderInfo_show,expression:"OrderInfo_show"}],staticClass:"orderInfo"},[t.OrderInfoData?a("div",{staticClass:"ExpressListHead"},[t._v("订单信息")]):t._e(),t._v(" "),t.OrderInfoData?a("div",{staticClass:"AbnormalItem"},[a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("订单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.OrderInfoData.omsNo,expression:"OrderInfoData.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.OrderInfoData.omsNo)+"\n\t\t\t\t\t      "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.OrderInfoData.omsNo,expression:"OrderInfoData.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})])]),t._v(" "),a("div",[a("span",[t._v("寄件时间：")]),a("span",[t._v(t._s(t.OrderInfoData.actualPieceTime))])]),t._v(" "),a("div",[a("span",[t._v("月结卡号：")]),a("span",[t._v(t._s(t.OrderInfoData.monthCardNumber))])]),t._v(" "),a("div",[a("span",[t._v("货物名称：")]),a("span",[t._v(t._s(t.OrderInfoData.productName))])])]),t._v(" "),a("div",{staticClass:"AreaBox"},[a("div",[a("div",[a("span",[t._v("发货城市：")]),a("span",[t._v(t._s(t.OrderInfoData.issuePartyCity))])]),t._v(" "),a("div",[a("span",[t._v("发货区县：")]),a("span",[t._v(t._s(t.OrderInfoData.issuePartyDistricict))])])]),t._v(" "),a("div",[a("span",[t._v("发货联系人：")]),a("span",[t._v(t._s(t.OrderInfoData.issuePartyContact))]),t._v("    "),a("span",[t._v(t._s(t.OrderInfoData.issuePartyTel))]),t._v("  "),a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(e){return t.callPhone(t.OrderInfoData.issuePartyTel)}}})]),t._v(" "),a("div",[a("span",[t._v("发货地址：")]),a("span",[t._v(t._s(t.OrderInfoData.issuePartyAddr))])])]),t._v(" "),a("div",{staticClass:"AreaBox"},[a("div",[a("div",[a("span",[t._v("收货城市：")]),a("span",[t._v(t._s(t.OrderInfoData.receivePartyCity))])]),t._v(" "),a("div",[a("span",[t._v("收货区县：")]),a("span",[t._v(t._s(t.OrderInfoData.receicePartyDistricict))])])]),t._v(" "),a("div",[a("span",[t._v("收货联系人：")]),a("span",[t._v(t._s(t.OrderInfoData.receivePartyContactName))]),t._v("    "),a("span",[t._v(t._s(t.OrderInfoData.receivePartyPhone))]),t._v("  "),a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(e){return t.callPhone(t.OrderInfoData.receivePartyPhone)}}})]),t._v(" "),a("div",[a("span",[t._v("收货地址：")]),a("span",[t._v(t._s(t.OrderInfoData.receivePartyAddr1))])])]),t._v(" "),a("div",{staticClass:"nomalList"},[a("div",[a("div",[a("span",[t._v("费用合计：")]),a("span",[t._v(t._s(t.OrderInfoData.orderAmount))])]),t._v(" "),a("div",[a("span",[t._v("运费：")]),a("span",[t._v(t._s(t.OrderInfoData.transportFee))])])]),t._v(" "),a("div",[a("div",[a("span",[t._v("件数：")]),a("span",[t._v(t._s(t.OrderInfoData.orderQty))])]),t._v(" "),a("div",[a("span",[t._v("实重：")]),a("span",[t._v(t._s(t.OrderInfoData.displayWt))])])]),t._v(" "),a("div",[a("div",[a("span",[t._v("计重：")]),a("span",[t._v(t._s(t.OrderInfoData.chargeWeight))])]),t._v(" "),a("div",[a("span",[t._v("付款方式：")]),a("span",[t._v(t._s(t.OrderInfoData.chargeTypes))])])]),t._v(" "),a("div",[a("div",[a("span",[t._v("附加服务：")]),a("span",[t._v(t._s(t.OrderInfoData.insuranceFee))])]),t._v(" "),a("div",[a("span",[t._v("声明价值：")]),a("span",[t._v(t._s(t.OrderInfoData.valuationMoney))])])]),t._v(" "),a("div",[a("div",[a("span",[t._v("代收货款：")]),a("span",[t._v(t._s(t.OrderInfoData.collectPayment))])]),t._v(" "),a("div",[a("span",[t._v("签回单：")]),a("span",[t._v(t._s(t.OrderInfoData.returnBillFlag))])])]),t._v(" "),a("div",[a("span",[t._v("尺寸：")]),a("span",[t._v(t._s(t.OrderInfoData.productSize))])]),t._v(" "),a("div",[a("span",[t._v("备注：")]),a("span",[t._v(t._s(t.OrderInfoData.remark))])])]),t._v(" "),a("div",{staticClass:"operateBtn"},[a("div",{on:{click:t.printBtn}},[t._v("打印所有标签")])])]):t._e(),t._v(" "),t.OrderInfoDataList.length?a("div",{staticClass:"ExpressListHead"},[t._v("标签列表")]):t._e(),t._v(" "),t._l(t.OrderInfoDataList,function(e,i){return a("div",{key:i,staticClass:"AbnormalItem",attrs:{id:i}},[a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("标签号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.productNo,expression:"dataItem.productNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(e.productNo)+"\n\t\t\t\t\t      "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.productNo,expression:"dataItem.productNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})])])]),t._v(" "),a("div",{staticClass:"operateBtn"},[a("div",{on:{click:function(e){return t.printBtn("item",i)}}},[t._v("打印")])])])})],2),t._v(" "),t.is_NoData?a("div",{staticClass:"NoData"},[t._m(0)]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),this._v(" "),e("div",[this._v("没有数据")])])}]};var z=a("VU/8")(Q,V,!1,function(t){a("nFsX")},"data-v-8006696a",null).exports,G={name:"PrintExpressShein",data:function(){return{OrderInfoData:{},OrderInfoDataList:[],printData:[],is_NoData:!1,loadingData:!1,OrderInfo_show:!1,scanLabel:"",tips_Msg:"",ifTips:!1}},components:{"v-scan":M},mounted:function(){},created:function(){},methods:{scanData:function(t){this.is_NoData=!1;var e=this;this.scanLabel=t;var a={clientOrderNo:t};e.$emit("isLoading",!0,"拼命加载中"),v.a.post(e.HOST+"getFaceListToScpPrint.do",{params:n()(a)}).then(function(t){var a;(e.$emit("isLoading",!1),1==t.data.status)?(t.data.data.length?e.is_NoData=!1:e.is_NoData=!0,e.OrderInfoData=t.data.data[0][0],e.OrderInfoDataList=t.data.data[0][1],e.printData=t.data.data[1],e.OrderInfo_show=!0):(e.is_NoData=!0,e.OrderInfoData={},e.OrderInfoDataList=[],e.printData=[],e.OrderInfo_show=!1,a=t.data.Msg?t.data.Msg:"请求失败",e.$alert(a,"提示",{confirmButtonText:"确定"}))}).catch(function(t){e.$emit("isLoading",!1),e.$alert("请求失败","提示",{confirmButtonText:"确定"})})},printBtn:function(t,e){try{CallAndroidOrIOS.callAndroid("shein打印",this.printData)}catch(t){}},goprev:function(){this.$router.push({name:"Index"})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"PrintExpressShein"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("打印顺丰面单")])]),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"order-level"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.OrderInfo_show,expression:"OrderInfo_show"}],staticClass:"orderInfo"},[t.OrderInfoData?a("div",{staticClass:"ExpressListHead"},[t._v("订单信息")]):t._e(),t._v(" "),t.OrderInfoData?a("div",{staticClass:"AbnormalItem"},[a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("订单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.OrderInfoData.omsNo,expression:"OrderInfoData.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.OrderInfoData.omsNo)+"\n\t\t\t\t\t      "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.OrderInfoData.omsNo,expression:"OrderInfoData.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})])]),t._v(" "),a("div",[a("span",[t._v("寄件时间：")]),a("span",[t._v(t._s(t.OrderInfoData.actualPieceTime))])]),t._v(" "),a("div",[a("span",[t._v("月结卡号：")]),a("span",[t._v(t._s(t.OrderInfoData.monthCardNumber))])]),t._v(" "),a("div",[a("span",[t._v("货物名称：")]),a("span",[t._v(t._s(t.OrderInfoData.productName))])])]),t._v(" "),a("div",{staticClass:"AreaBox"},[a("div",[a("div",[a("span",[t._v("发货城市：")]),a("span",[t._v(t._s(t.OrderInfoData.issuePartyCity))])]),t._v(" "),a("div",[a("span",[t._v("发货区县：")]),a("span",[t._v(t._s(t.OrderInfoData.issuePartyDistricict))])])]),t._v(" "),a("div",[a("span",[t._v("发货联系人：")]),a("span",[t._v(t._s(t.OrderInfoData.issuePartyContact))]),t._v("    "),a("span",[t._v(t._s(t.OrderInfoData.issuePartyTel))]),t._v("  "),a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(e){return t.callPhone(t.OrderInfoData.issuePartyTel)}}})]),t._v(" "),a("div",[a("span",[t._v("发货地址：")]),a("span",[t._v(t._s(t.OrderInfoData.issuePartyAddr))])])]),t._v(" "),a("div",{staticClass:"AreaBox"},[a("div",[a("div",[a("span",[t._v("收货城市：")]),a("span",[t._v(t._s(t.OrderInfoData.receivePartyCity))])]),t._v(" "),a("div",[a("span",[t._v("收货区县：")]),a("span",[t._v(t._s(t.OrderInfoData.receicePartyDistricict))])])]),t._v(" "),a("div",[a("span",[t._v("收货联系人：")]),a("span",[t._v(t._s(t.OrderInfoData.receivePartyContactName))]),t._v("    "),a("span",[t._v(t._s(t.OrderInfoData.receivePartyPhone))]),t._v("  "),a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(e){return t.callPhone(t.OrderInfoData.receivePartyPhone)}}})]),t._v(" "),a("div",[a("span",[t._v("收货地址：")]),a("span",[t._v(t._s(t.OrderInfoData.receivePartyAddr1))])])]),t._v(" "),a("div",{staticClass:"nomalList"},[a("div",[a("div",[a("span",[t._v("费用合计：")]),a("span",[t._v(t._s(t.OrderInfoData.orderAmount))])]),t._v(" "),a("div",[a("span",[t._v("运费：")]),a("span",[t._v(t._s(t.OrderInfoData.transportFee))])])]),t._v(" "),a("div",[a("div",[a("span",[t._v("件数：")]),a("span",[t._v(t._s(t.OrderInfoData.orderQty))])]),t._v(" "),a("div",[a("span",[t._v("实重：")]),a("span",[t._v(t._s(t.OrderInfoData.displayWt))])])]),t._v(" "),a("div",[a("div",[a("span",[t._v("计重：")]),a("span",[t._v(t._s(t.OrderInfoData.chargeWeight))])]),t._v(" "),a("div",[a("span",[t._v("付款方式：")]),a("span",[t._v(t._s(t.OrderInfoData.chargeTypes))])])]),t._v(" "),a("div",[a("div",[a("span",[t._v("附加服务：")]),a("span",[t._v(t._s(t.OrderInfoData.insuranceFee))])]),t._v(" "),a("div",[a("span",[t._v("声明价值：")]),a("span",[t._v(t._s(t.OrderInfoData.valuationMoney))])])]),t._v(" "),a("div",[a("div",[a("span",[t._v("代收货款：")]),a("span",[t._v(t._s(t.OrderInfoData.collectPayment))])]),t._v(" "),a("div",[a("span",[t._v("签回单：")]),a("span",[t._v(t._s(t.OrderInfoData.returnBillFlag))])])]),t._v(" "),a("div",[a("span",[t._v("尺寸：")]),a("span",[t._v(t._s(t.OrderInfoData.productSize))])]),t._v(" "),a("div",[a("span",[t._v("备注：")]),a("span",[t._v(t._s(t.OrderInfoData.remark))])])]),t._v(" "),a("div",{staticClass:"operateBtn"},[a("div",{on:{click:t.printBtn}},[t._v("打印所有标签")])])]):t._e(),t._v(" "),t.OrderInfoDataList.length?a("div",{staticClass:"ExpressListHead"},[t._v("标签列表")]):t._e(),t._v(" "),t._l(t.OrderInfoDataList,function(e,i){return a("div",{key:i,staticClass:"AbnormalItem",attrs:{id:i}},[a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("标签号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.productNo,expression:"dataItem.productNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(e.productNo)+"\n\t\t\t\t\t      "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.productNo,expression:"dataItem.productNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})])])]),t._v(" "),a("div",{staticClass:"operateBtn"})])})],2),t._v(" "),t.is_NoData?a("div",{staticClass:"NoData"},[t._m(0)]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),this._v(" "),e("div",[this._v("没有数据")])])}]};var X=a("VU/8")(G,j,!1,function(t){a("Mx7g")},"data-v-2aa022e8",null).exports,Y={name:"PrintExpress",data:function(){return{OrderInfoData:{},is_NoData:!1,loadingData:!1,OrderInfo_show:!1,deliveryNoSF:"",tips_Msg:"",ifTips:!1,ChangeInfo_show:!1,ChangeOrderWt:"",orderId:""}},components:{"v-scan":M},mounted:function(){},created:function(){},methods:{scanData:function(t){this.is_NoData=!1;var e=this;this.deliveryNoSF=t;var a={deliveryNoSF:t};e.$emit("isLoading",!0,"拼命加载中"),v.a.post(e.HOST+"selectOrder.do",{params:n()(a)}).then(function(t){var a;(e.$emit("isLoading",!1),1==t.data.status)?(t.data.data.orderWt&&(t.data.data.orderWt=parseFloat(t.data.data.orderWt/1e3)),t.data.data.chargeWeight&&(t.data.data.chargeWeight=parseFloat(t.data.data.chargeWeight/1e3)),e.ChangeOrderWt=parseFloat(t.data.data.checkWt/1e3),e.orderId=t.data.data.orderId,e.OrderInfoData=t.data.data,e.OrderInfo_show=!0):(e.is_NoData=!0,e.OrderInfoData={},e.OrderInfo_show=!1,a=t.data.Msg?t.data.Msg:"请求失败",e.$alert(a,"提示",{confirmButtonText:"确定"}))}).catch(function(t){e.$emit("isLoading",!1),e.$alert("请求失败","提示",{confirmButtonText:"确定"})})},CheckWeight:function(){this.ChangeInfo_show=!0},ChangeInfoCancel:function(){this.ChangeInfo_show=!1},ChangeInfoConfirm:function(){var t=this;if(t.ChangeOrderWt)if("NaN"==parseInt(t.ChangeOrderWt).toString()||parseInt(t.ChangeOrderWt)<=0||t.ChangeOrderWt!=parseFloat(t.ChangeOrderWt))alert("复核重量请输入正数");else{var e={orderId:t.orderId,checkWt:parseFloat(1e3*t.ChangeOrderWt)};t.$emit("isLoading",!0,"拼命加载中"),v.a.post(t.HOST+"updateCheckWt.do",{params:n()(e)}).then(function(e){var a;(t.$emit("isLoading",!1),t.ChangeInfo_show=!1,1==e.data.status)?t.$alert(e.data.Msg,"提示",{confirmButtonText:"确定",callback:function(){t.scanData(t.deliveryNoSF)}}):(a=e.data.Msg?e.data.Msg:"请求失败",t.$alert(a,"提示",{confirmButtonText:"确定"}))}).catch(function(e){t.$emit("isLoading",!1),t.$alert("请求失败","提示",{confirmButtonText:"确定"})})}},goprev:function(){this.$router.push({name:"Index"})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"PrintExpress"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("重量稽核")])]),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"order-level"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.OrderInfo_show,expression:"OrderInfo_show"}],staticClass:"orderInfo"},[t.OrderInfoData?a("div",{staticClass:"AbnormalItem"},[a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("订单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.OrderInfoData.omsNo,expression:"OrderInfoData.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.OrderInfoData.omsNo)+"\n                "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.OrderInfoData.omsNo,expression:"OrderInfoData.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})])])]),t._v(" "),a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("发货联系人：")]),a("span",[t._v(t._s(t.OrderInfoData.issuePartyContact))]),t._v("    "),a("span",[t._v(t._s(t.OrderInfoData.issuePartyTel))]),t._v("  "),a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(e){return t.callPhone(t.OrderInfoData.issuePartyTel)}}})]),t._v(" "),a("div",[a("span",[t._v("发货地址：")]),a("span",[t._v(t._s(t.OrderInfoData.issuePartyAddr))])]),t._v(" "),a("div",[a("span",[t._v("收货联系人：")]),a("span",[t._v(t._s(t.OrderInfoData.receivePartyContactName))]),t._v("    "),a("span",[t._v(t._s(t.OrderInfoData.receivePartyPhone))]),t._v("  "),a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(e){return t.callPhone(t.OrderInfoData.receivePartyPhone)}}})]),t._v(" "),a("div",[a("span",[t._v("收货地址：")]),a("span",[t._v(t._s(t.OrderInfoData.receivePartyAddr1))])]),t._v(" "),a("div",[a("div",[a("span",[t._v("件数：")]),a("span",[t._v(t._s(t.OrderInfoData.orderQty))])]),t._v(" "),a("div",[a("span",[t._v("包裹重量：")]),a("span",[t._v(t._s(t.OrderInfoData.orderWt))]),t._v("  KG")])]),t._v(" "),a("div",[a("div",[a("span",[t._v("计费重量：")]),a("span",[t._v(t._s(t.OrderInfoData.chargeWeight))]),t._v("  KG")]),t._v(" "),t.ChangeOrderWt?a("div",[a("span",[t._v("复核重量：")]),a("span",[t._v(t._s(t.ChangeOrderWt))]),t._v("  KG")]):t._e()])]),t._v(" "),a("div",{staticClass:"operateBtn"},[a("div",{on:{click:t.CheckWeight}},[t._v("复核重量")])])]):t._e()]),t._v(" "),t.ChangeInfo_show?a("div",{staticClass:"BatchCommitPopBox"},[a("div",{staticClass:"BatchCommit_"},[a("div",{staticClass:"BatchCommit_head"},[t._v("复核重量")]),t._v(" "),a("div",{staticClass:"BatchCommit_ChangeInfo"},[a("div",[t._m(0),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ChangeOrderWt,expression:"ChangeOrderWt"}],attrs:{type:"number"},domProps:{value:t.ChangeOrderWt},on:{input:function(e){e.target.composing||(t.ChangeOrderWt=e.target.value)}}})]),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"BatchCommit_btn"},[a("div",{staticClass:"commit-button",on:{click:t.ChangeInfoCancel}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"commit-button",on:{click:t.ChangeInfoConfirm}},[t._v("确定")])])])]):t._e(),t._v(" "),t.is_NoData?a("div",{staticClass:"NoData"},[t._m(2)]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("KG")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),this._v(" "),e("div",[this._v("没有数据")])])}]};var J=a("VU/8")(Y,K,!1,function(t){a("ueb9")},"data-v-77fc3a7b",null).exports,Z={data:function(){return{isShowConfirm:!1,titleText:"操作提示",content:"Say Something ...",cancelText:"取消",confirmText:"确认",type:"confirm",outerData:null}},methods:{show:function(t,e){this.content=t||"Say Something ...","[object Object]"===Object.prototype.toString.call(e)&&(this.titleText=e.titleText||"操作提示",this.cancelText=e.cancelText||"取消",this.confirmText=e.confirmText||"确认",this.type=e.type||"confirm",this.outerData=e.data||null),this.isShowConfirm=!0},hidden:function(){this.isShowConfirm=!1,this.titleText="操作提示",this.cancelText="取消",this.confirmText="确认",this.type="confirm",this.outerData=null},clickFun:function(t){this.$emit("userBehavior",t,this.outerData),this.hidden()}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"confirm-fade"}},[t.isShowConfirm?a("div",{staticClass:"my-confirm",on:{click:function(e){return e.stopPropagation(),t.clickFun("clickCancel")}}},[a("div",{staticClass:"confirm-content-wrap",on:{click:function(t){t.stopPropagation()}}},[a("h3",{staticClass:"my-confirm-title"},[t._v(t._s(t.titleText))]),t._v(" "),a("p",{staticClass:"my-confirm-content"},[t._v(t._s(t.content))]),t._v(" "),a("div",{staticClass:"my-operation"},["confirm"===t.type?a("div",{staticClass:"my-cancel-btn",on:{click:function(e){return t.clickFun("clickCancel")}}},[a("p",{staticClass:"my-btn-text my-border-right"},[t._v(t._s(t.cancelText))])]):t._e(),t._v(" "),a("div",{staticClass:"confirm-btn",on:{click:function(e){return t.clickFun("clickConfirm")}}},[a("p",{staticClass:"my-btn-text"},[t._v(t._s(t.confirmText))])])])])]):t._e()])},staticRenderFns:[]};var et=a("VU/8")(Z,tt,!1,function(t){a("0YSe")},"data-v-083399c9",null).exports,at={name:"headers",components:{"v-confirm":et},data:function(){return{index:!0,flash:a("N3cg"),activeFlash:!1}},props:["headerName","orderList"],mounted:function(){"/"===this.$route.path||"Index"===this.$route.path?this.index=!1:this.index=!0},methods:{flashSwitch:function(){U.$emit("flashActive",this.activeFlash),this.activeFlash?(this.activeFlash=!1,this.flash=a("N3cg")):(this.activeFlash=!0,this.flash=a("AbpN"))},userBehaviorFun:function(t){"clickCancel"!==t&&this.$router.go(-1)},checkForBack:function(){0!==this.orderList.length?this.$refs.myConfirm.show("表单内有未提交保存的运单数据",{type:"confirm",cancelText:"取消",confirmText:"确定",titleText:"是否返回首页?",data:this.orderList}):this.$router.go(-1)},backToHome:function(){0!==this.orderList.length||this.$router.go(-1)}}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header-box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.index,expression:"index"}],staticClass:"back-button",on:{click:t.checkForBack}}),t._v(" "),a("div",{staticClass:"right-text"},[t._v("\n      "+t._s(t.headerName)+"\n    ")]),t._v(" "),a("div",{staticClass:"flash",on:{click:t.flashSwitch}},[a("img",{attrs:{src:t.flash}})])]),t._v(" "),a("v-confirm",{ref:"myConfirm",on:{userBehavior:t.userBehaviorFun}})],1)},staticRenderFns:[]};var st=a("VU/8")(at,it,!1,function(t){a("WA/e")},"data-v-44290d96",null).exports,ot={name:"ScanAirMaster",props:["loadingData","switchScan","textre"],data:function(){return{codeUrl:"",code:"",activeFlash:!1,imgSelect:a("b2XV"),scanState:!1,placeholdertext:"手动输入标签号..."}},created:function(){this.textre&&(this.placeholdertext=this.textre)},mounted:function(){},watch:{code:function(t){this.$emit("scanData",t)}},methods:{QRScanAjax:function(t){this[this.$store.state.ScanQRCodeInputName]=t,this.commitInput()},commitInput:function(){""!==this.code&&this.$emit("scanData_com",this.code)},startRecognize:function(){this.$emit("scanData","")}}},nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scan-box"},[i("div",{staticClass:"kongscan"}),t._v(" "),i("div",{ref:"scan",attrs:{id:"bcid"},on:{click:function(e){return t.androidScan("code")}}},[t._m(0)]),t._v(" "),i("div",{staticClass:"input-order-number"},[i("img",{attrs:{src:a("i1Yn")}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"code",attrs:{type:"text",placeholder:t.placeholdertext},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),i("div",{staticClass:"button-add",on:{click:t.commitInput}},[t._v("确认")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("扫描")]),e("i",{staticClass:"iconfont icon-sousuoxiawu-"})])}]};var rt=a("VU/8")(ot,nt,!1,function(t){a("YRCf")},"data-v-65b2360b",null).exports;v.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var lt="http://113.105.119.25:8099/tmsApp/",ct=function(t){return v.a.post(lt+"verificationLabel.do",t)},dt=function(t){return v.a.post(lt+"commitScan.do",t)},ut=function(t){return v.a.post(lt+"commitShipScan.do",t)},ht=function(t){return v.a.post(lt+"hkAviationCommitScan.do",t)},pt={name:"AirMasterScan",components:{"v-header":st,"v-scan":rt},data:function(){return{dialogImageUrl:"",dialogVisible:!1,uploadParams:{},uploadParamsgoods:{},uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,loadingData:!1,switchScan:!0,airlineMasterNumber:"",PaperSheetimgDataList:[],GoodsPictures:[],srcList:[],tips_Msg:"",ifTips:!1}},mounted:function(){},created:function(){},methods:{goprev:function(){this.$router.push({name:"Index"})},updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length,this.airlineMasterNumber?f()("div.PaperSheet ul>li").length>0&&this.PaperSheetimgDataList.length+f()("div.PaperSheet ul>li").length>1?this.$alert("纸质单最多上传一张图片，如需更新请先删除","提示",{confirmButtonText:"确定"}):f()("div.GoodsPictures ul>li").length>0&&this.GoodsPictures.length+f()("div.GoodsPictures ul>li").length>6?this.$alert("货物照片最多上传6张，如需更新请先删除","提示",{confirmButtonText:"确定"}):f()("div.PaperSheet ul>li").length<=0&&f()("div.GoodsPictures ul>li").length<=0?this.$alert("请上传照片","提示",{confirmButtonText:"确定"}):(this.uploadParams.fileType="纸质单",this.uploadParams.airlineMasterNumber=this.airlineMasterNumber,this.uploadParams.orgnizationId=this.$store.state.userInfo.orgnizationId,this.uploadParams.cellphone=this.$store.state.userInfo.cellphone,this.uploadParamsgoods.fileType="货物",this.uploadParamsgoods.airlineMasterNumber=this.airlineMasterNumber,this.uploadParamsgoods.orgnizationId=this.$store.state.userInfo.orgnizationId,this.uploadParamsgoods.cellphone=this.$store.state.userInfo.cellphone,this.$emit("isLoading",!0,"拼命加载中"),this.$refs.upload_refTransit.submit(),this.$refs.upload_refTransitgoods.submit()):this.$alert("请输入航空主单号","提示",{confirmButtonText:"确定"})},selectimg:function(){var t=this;if(11==t.airlineMasterNumber.length){var e=[];e[0]=t.airlineMasterNumber;var a={waybillNolist:e};t.$emit("isLoading",!0,"拼命加载中"),v.a.post(t.HOST+"airlineMasterNumberGetImageApp.do",{params:n()(a)}).then(function(e){var a;if(t.$emit("isLoading",!1),1==e.data.status)if(e.data.data.length){t.PaperSheetimgDataList=e.data.data[0].mainNoPic,t.GoodsPictures=e.data.data[0].cargoTypePic,t.srcList=e.data.data[0].mainNoPic.concat(e.data.data[0].cargoTypePic);for(var i=0;i<t.srcList.length;i++)t.srcList[i]=t.HOSTimg+t.srcList[i]}else t.PaperSheetimgDataList=[],t.GoodsPictures=[],t.srcList=[];else a=e.data.Msg?e.data.Msg:"请求失败",t.$alert(a,"提示",{confirmButtonText:"确定"})}).catch(function(e){t.$emit("isLoading",!1),t.$alert("请求失败","提示",{confirmButtonText:"确定"})})}else t.$alert("航空主单号必须为11位","提示",{confirmButtonText:"确定"})},deleteimg:function(t,e){var a=this,i="";this.$confirm("确认要删除图片吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){"PaperSheet"==e?i=a.PaperSheetimgDataList[t].split("=")[1]:"Goods"==e&&(i=a.GoodsPictures[t].split("=")[1]);var s={imageId:i};a.$emit("isLoading",!0,"拼命加载中"),v.a.post(a.HOST+"airlineMasterNumberDeleteImage.do",{params:n()(s)}).then(function(t){var e;(a.$emit("isLoading",!1),1==t.data.status)?(a.ifTips=!0,a.tips_Msg=t.data.Msg,setTimeout(function(){a.ifTips=!1,a.selectimg()},1500)):(e=t.data.Msg?t.data.Msg:"请求失败",a.$alert(e,"提示",{confirmButtonText:"确定"}))}).catch(function(t){a.$emit("isLoading",!1),a.$alert("请求失败","提示",{confirmButtonText:"确定"})})}).catch(function(t){a.$emit("isLoading",!1),alert("删除失败")})},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},switchScanFun:function(t){this.switchScan=!!t},scanData:function(t){this.airlineMasterNumber=t},scanData_com:function(t){this.airlineMasterNumber=t,this.selectimg()},finishUpload:function(t){var e=this;e.$emit("isLoading",!1),this.$refs.upload_refTransit.clearFiles(),this.$refs.upload_refTransitgoods.clearFiles(),this.$alert(t,"提示",{confirmButtonText:"确定",callback:function(){e.selectimg()}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)!=parseInt(this.uploadTotalNum)?this.finishUpload(t.Msg):this.finishUpload("部分图片上传失败"):this.finishUpload("图片上传成功")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AirMasterScan"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("航空主单扫描")])]),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData,textre:"手动输入航空主单号"},on:{scanData:t.scanData,scanData_com:t.scanData_com}})],1),t._v(" "),a("div",{staticClass:"order-level"},[t.airlineMasterNumber?a("div",{staticClass:"orderinfo"},[a("div",[a("span",[t._v("航空主单号：")]),t._v(" "),a("span",[t._v(t._s(t.airlineMasterNumber))])])]):t._e(),t._v(" "),t.GoodsPictures&&t.GoodsPictures.length||t.PaperSheetimgDataList&&t.PaperSheetimgDataList.length?a("div",{staticClass:"UploadedPicture"},[t.PaperSheetimgDataList&&t.PaperSheetimgDataList.length?a("div",{staticClass:"UploadedPictureimg"},[a("div",{staticClass:"UploadedPicturehead"},[t._v("纸质单（已上传照片）： ")]),t._v(" "),t._l(t.PaperSheetimgDataList,function(e,i){return a("div",{key:i,staticClass:"UploadedPictureimgitem",attrs:{id:i}},[a("el-image",{attrs:{"preview-src-list":t.srcList,src:t.HOSTimg+e,alt:""}}),t._v(" "),a("i",{staticClass:"iconfont Uploadicon_imgicon icon-iconfontcuowu",on:{click:function(e){return t.deleteimg(i,"PaperSheet")}}})],1)})],2):t._e(),t._v(" "),t.GoodsPictures&&t.GoodsPictures.length?a("div",{staticClass:"UploadedPictureimg"},[a("div",{staticClass:"UploadedPicturehead"},[t._v("货物（已上传照片）： ")]),t._v(" "),t._l(t.GoodsPictures,function(e,i){return a("div",{key:i,staticClass:"UploadedPictureimgitem",attrs:{id:i}},[a("el-image",{attrs:{"preview-src-list":t.srcList,src:t.HOSTimg+e,alt:""}}),t._v(" "),a("i",{staticClass:"iconfont Uploadicon_imgicon icon-iconfontcuowu",on:{click:function(e){return t.deleteimg(i,"Goods")}}})],1)})],2):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg PaperSheet"},[a("div",{staticClass:"LoadImg_head"},[t._v("纸质单照片（限1张）")]),t._v(" "),a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refTransit",attrs:{action:t.HOST+"airlineMasterNumberUploadImage.do",limit:1,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])]),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg GoodsPictures"},[a("div",{staticClass:"LoadImg_head"},[t._v("货物照片（限6张）")]),t._v(" "),a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refTransitgoods",attrs:{action:t.HOST+"airlineMasterNumberUploadImage.do",limit:6,multiple:!0,data:t.uploadParamsgoods,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])]),t._v(" "),a("div",{staticClass:"submitBtn"},[a("div",{staticClass:"g_signBtn",on:{click:t.updateimg}},[t._v("上传")])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var mt=a("VU/8")(pt,vt,!1,function(t){a("70v9")},"data-v-620a2544",null).exports,ft={name:"SweepCodePrinting",data:function(){return{OrderInfoData:{},printData:[],is_NoData:!1,loadingData:!1,OrderInfo_show:!1,clientOrderNo:"",tips_Msg:"",ifTips:!1,ChangeInfo_show:!1,ChangeInfoThreeHigh_show:!1,displayQty:"",displayWt:"",displayLength:"",displayWide:"",displayHigh:"",ThreeHigh:!1,deliveryNoSF:"",LightBehindList:[],textre:"手动输入单号",CastLightWeight:"",LightBeIndex:0,needLoseWt:0}},components:{"v-scan":M},mounted:function(){},created:function(){this.$route.query.deliveryNoSF&&(this.deliveryNoSF=this.$route.query.deliveryNoSF),this.$route.query.LightBeIndex&&(this.LightBeIndex=this.$route.query.LightBeIndex),this.$route.query.needLoseWt&&(this.needLoseWt=this.$route.query.needLoseWt)},methods:{scanData:function(t){this.is_NoData=!1,this.deliveryNoSF=t;var e=this;-1!=t.indexOf("-")?(t=t.split("-")[0],this.clientOrderNo=t):this.clientOrderNo=t;var a={clientOrderNo:this.clientOrderNo};e.$emit("isLoading",!0,"拼命加载中"),v.a.post(e.HOST+"selectOrderByClientOrderNo.do",{params:n()(a)}).then(function(t){if(e.$emit("isLoading",!1),1==t.data.status){t.data.data.length?(e.is_NoData=!1,e.OrderInfo_show=!0):(e.is_NoData=!0,e.OrderInfo_show=!1);for(var a=0;a<t.data.data.length;a++)t.data.data[a].orderInfo.bsOrderWt&&(t.data.data[a].orderInfo.bsOrderWt=parseFloat(t.data.data[a].orderInfo.bsOrderWt/1e3)),t.data.data[a].orderInfo.qpWt&&(t.data.data[a].orderInfo.qpWt=parseFloat(t.data.data[a].orderInfo.qpWt/1e3)),t.data.data[a].orderInfo.qpWtFill=t.data.data[a].orderInfo.qpWt,t.data.data[a].orderInfo.orderQtyFill=t.data.data[a].orderInfo.orderQty,t.data.data[a].orderInfo.displayWtFill=t.data.data[a].orderInfo.displayWt;e.OrderInfoData=t.data.data,e.$route.query.CastLightWeight&&(e.CastLightWeight=e.$route.query.CastLightWeight,"NaN"==parseFloat(e.CastLightWeight).toString()||parseFloat(e.CastLightWeight)<=0||e.CastLightWeight!=parseFloat(e.CastLightWeight)||(e.OrderInfoData[e.LightBeIndex].orderInfo.qpWtFill=e.CastLightWeight)),e.$route.query.displayWtFill&&(e.OrderInfoData[e.LightBeIndex].orderInfo.displayWtFill=e.$route.query.displayWtFill),e.$route.query.LightBehindNum&&(e.OrderInfoData[e.LightBeIndex].orderInfo.orderQtyFill=e.$route.query.LightBehindNum)}else{var i;e.is_NoData=!0,e.OrderInfo_show=!1,e.OrderInfoData=[],i=t.data.Msg?t.data.Msg:"请求失败",e.$alert(i,"提示",{confirmButtonText:"确定"})}}).catch(function(t){e.$emit("isLoading",!1),e.$alert("请求失败","提示",{confirmButtonText:"确定"})})},reviewBtnThreeHigh:function(t){this.OrderInfoData[t].orderInfo.orderQtyFill<=0?this.$alert("件数必须是正整数","提示",{confirmButtonText:"确定"}):this.OrderInfoData[t].orderInfo.lightFoamCoefficient?this.$router.push({name:"LightBehind",query:{deliveryNoSF:this.deliveryNoSF,CastLightCoefficient:this.OrderInfoData[t].orderInfo.lightFoamCoefficient,LightBehindNum:parseInt(this.OrderInfoData[t].orderInfo.orderQtyFill),LightBeIndex:t,displayWtFill:this.OrderInfoData[t].orderInfo.displayWtFill}}):this.$alert("请联系客服在系统维护轻抛系数","提示",{confirmButtonText:"确定"})},modifyLightBe:function(t){var e=this;if(this.OrderInfoData[t].orderInfo.orderQtyFill<=0)e.$alert("件数必须是正整数","提示",{confirmButtonText:"确定"});else{e.$emit("isLoading",!0,"拼命加载中");var a={omsNo:e.OrderInfoData[t].orderInfo.omsNo,orderQty:e.OrderInfoData[t].orderInfo.orderQtyFill?e.OrderInfoData[t].orderInfo.orderQtyFill:0,displayWt:e.OrderInfoData[t].orderInfo.displayWtFill?e.OrderInfoData[t].orderInfo.displayWtFill:0,needLoseWt:e.needLoseWt?e.needLoseWt:0,qpWt:e.OrderInfoData[t].orderInfo.qpWtFill?e.OrderInfoData[t].orderInfo.qpWtFill:0};v.a.post(e.HOST+"checkUpdateOrder.do",{params:n()(a)}).then(function(t){var a;(e.$emit("isLoading",!1),1==t.data.status)?e.$alert(t.data.Msg,"提示",{confirmButtonText:"确定",callback:function(){e.$route.query.displayWtFill=null,e.$route.query.LightBehindNum=null,e.scanData(e.deliveryNoSF)}}):(a=t.data.Msg?t.data.Msg:"请求失败",e.$alert(a,"提示",{confirmButtonText:"确定"}))}).catch(function(t){e.$emit("isLoading",!1),e.$alert("请求失败","提示",{confirmButtonText:"确定"})})}},printBtn:function(t,e,a){var i=[];t&&"item"==t?(i[0]=this.OrderInfoData[e].orderInfo,i[1]=[this.OrderInfoData[e].orderDetailArray[a]]):t&&"el"==t&&(i[0]=this.OrderInfoData[e].orderInfo,i[1]=this.OrderInfoData[e].orderDetailArray);try{for(var s in i[0])0==i[0][s]&&(i[0][s]="-");i=n()(i),CallAndroidOrIOS.callAndroid("打印",i)}catch(t){}try{for(var s in i[0])0==i[0][s]&&(i[0][s]="-");i=n()(i),window.webkit.messageHandlers.messageSend.postMessage({a:"打印",b:i})}catch(t){}},goprev:function(){this.$router.push({name:"Index"})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SweepCodePrinting"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("揽收扫码打印")])]),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{deliveryNoSF:t.deliveryNoSF,textre:t.textre,loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"order-level"},[t._l(t.OrderInfoData,function(e,i){return a("div",{key:i,staticClass:"orderInfo",attrs:{id:i}},[a("div",{staticClass:"ExpressListHead"},[t._v("订单信息")]),t._v(" "),a("div",{staticClass:"AbnormalItem"},[a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("订单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.orderInfo.omsNo,expression:"listItem.orderInfo.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(e.orderInfo.omsNo)+"\n\t\t\t\t\t\t      "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.orderInfo.omsNo,expression:"listItem.orderInfo.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})])]),t._v(" "),a("div",[a("span",[t._v("货物名称：")]),a("span",[t._v(t._s(e.orderInfo.productName))])])]),t._v(" "),a("div",{staticClass:"AreaBox"},[a("div",[a("div",[a("span",[t._v("发货城市：")]),a("span",[t._v(t._s(e.orderInfo.issuePartyCity))])]),t._v(" "),a("div",[a("span",[t._v("发货区县：")]),a("span",[t._v(t._s(e.orderInfo.issuePartyDistricict))])])]),t._v(" "),a("div",[a("span",[t._v("发货联系人：")]),a("span",[t._v(t._s(e.orderInfo.issuePartyContact))]),t._v("    "),a("span",[t._v(t._s(e.orderInfo.issuePartyTel))]),t._v("  "),a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(a){return t.callPhone(e.orderInfo.issuePartyTel)}}})]),t._v(" "),a("div",[a("span",[t._v("发货地址：")]),a("span",[t._v(t._s(e.orderInfo.issuePartyAddr))])])]),t._v(" "),a("div",{staticClass:"AreaBox"},[a("div",[a("div",[a("span",[t._v("收货城市：")]),a("span",[t._v(t._s(e.orderInfo.receivePartyCity))])]),t._v(" "),a("div",[a("span",[t._v("收货区县：")]),a("span",[t._v(t._s(e.orderInfo.receicePartyDistricict))])])]),t._v(" "),a("div",[a("span",[t._v("收货联系人：")]),a("span",[t._v(t._s(e.orderInfo.receivePartyContactName))]),t._v("    "),a("span",[t._v(t._s(e.orderInfo.receivePartyPhone))]),t._v("  "),a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(a){return t.callPhone(e.orderInfo.receivePartyPhone)}}})]),t._v(" "),a("div",[a("span",[t._v("收货地址：")]),a("span",[t._v(t._s(e.orderInfo.receivePartyAddr1))])])]),t._v(" "),a("div",{staticClass:"nomalList"},[a("div"),t._v(" "),a("div",[a("div",[a("span",[t._v("件数：")]),a("span",[t._v(t._s(e.orderInfo.orderQty))])]),t._v(" "),a("div",[a("span",[t._v("实重：")]),a("span",[t._v(t._s(e.orderInfo.displayWt))]),t._v("   kg")])]),t._v(" "),a("div",[a("div",[a("span",[t._v("运费：")]),a("span",[t._v(t._s(e.orderInfo.transportFee))])]),t._v(" "),a("div",[a("span",[t._v("付款方式：")]),a("span",[t._v(t._s(e.orderInfo.chargeTypes))])])]),t._v(" "),a("div"),t._v(" "),a("div",[a("span",[t._v("轻抛重量：")]),a("span",[t._v(t._s(e.orderInfo.qpWt))]),t._v("   kg")]),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("div"),t._v(" "),a("div",[a("span",[t._v("备注：")]),a("span",[t._v(t._s(e.orderInfo.remark))])]),t._v(" "),a("fieldset",[a("legend",[t._v("请填写")]),t._v(" "),a("div",[t._m(0,!0),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.orderInfo.orderQtyFill,expression:"listItem.orderInfo.orderQtyFill"}],attrs:{type:"number"},domProps:{value:e.orderInfo.orderQtyFill},on:{input:function(a){a.target.composing||t.$set(e.orderInfo,"orderQtyFill",a.target.value)}}})])]),t._v(" "),a("div",[t._m(1,!0),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.orderInfo.qpWtFill,expression:"listItem.orderInfo.qpWtFill"}],attrs:{type:"number",disabled:""},domProps:{value:e.orderInfo.qpWtFill},on:{input:function(a){a.target.composing||t.$set(e.orderInfo,"qpWtFill",a.target.value)}}})]),t._v(" "),t._m(2,!0),t._v(" "),a("div",{on:{click:function(e){return t.reviewBtnThreeHigh(i)}}},[t._v("轻抛件")])]),t._v(" "),a("div",[t._m(3,!0),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.orderInfo.displayWtFill,expression:"listItem.orderInfo.displayWtFill"}],attrs:{type:"number"},domProps:{value:e.orderInfo.displayWtFill},on:{input:function(a){a.target.composing||t.$set(e.orderInfo,"displayWtFill",a.target.value)}}})]),t._v(" "),t._m(4,!0)]),t._v(" "),a("div",{staticClass:"fieldset_btn",on:{click:function(e){return t.modifyLightBe(i)}}},[a("span",[t._v("确定修改")])])])]),t._v(" "),a("div",{staticClass:"operateBtn"},[a("div",{on:{click:function(e){return t.printBtn("el",i)}}},[t._v("打印所有标签")])])]),t._v(" "),t.OrderInfoData[i].orderDetailArray.length?a("div",{staticClass:"ExpressListHead"},[t._v("标签列表")]):t._e(),t._v(" "),t._l(t.OrderInfoData[i].orderDetailArray,function(e,s){return a("div",{key:s,staticClass:"AbnormalItem",attrs:{id:s}},[a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("标签号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.productNo,expression:"dataItem.productNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(e.productNo)+"\n\t\t\t\t\t\t      "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.productNo,expression:"dataItem.productNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})])])]),t._v(" "),a("div",{staticClass:"operateBtn"},[a("div",{on:{click:function(e){return t.printBtn("item",i,s)}}},[t._v("打印")])])])})],2)}),t._v(" "),t.is_NoData?a("div",{staticClass:"NoData"},[t._m(5)]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("件数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("轻抛重量")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fieldset_unit"},[e("span",[this._v("KG")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("总重量")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fieldset_unit"},[e("span",[this._v("KG")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),this._v(" "),e("div",[this._v("没有数据")])])}]};var gt=a("VU/8")(ft,_t,!1,function(t){a("g1e/")},"data-v-15d09274",null).exports,yt={name:"LightBehind",data:function(){return{LightBehindList:[],tips_Msg:"",ifTips:!1,deliveryNoSF:"",LightBeIndex:0,CastLightCoefficient:"",LightBehindNum:0,addLB_show:!1,ChangeInfo_show:!1,displayQty:"",oldQty:"",oldQtyIndex:"",displayWtFill:0}},components:{"v-scan":M},mounted:function(){},created:function(){this.$route.query.deliveryNoSF&&(this.deliveryNoSF=this.$route.query.deliveryNoSF),this.$route.query.CastLightCoefficient&&(this.CastLightCoefficient=this.$route.query.CastLightCoefficient),this.$route.query.LightBeIndex&&(this.LightBeIndex=this.$route.query.LightBeIndex),this.$route.query.displayWtFill&&(this.displayWtFill=this.$route.query.displayWtFill),this.$route.query.LightBehindNum&&(this.LightBehindNum=this.$route.query.LightBehindNum,this.LightBehindNum>1&&(this.addLB_show=!0)),this.LightBehindList=[{LB_wt:"",LB_len:"",LB_wide:"",LB_high:"",LB_volume_wt:0,LB_number:1}]},methods:{LB_jian:function(t){this.LightBehindList[t].LB_number>1&&(this.LightBehindList[t].LB_number=parseInt(this.LightBehindList[t].LB_number)-1,this.addLB_show=!0)},LB_jia:function(t){for(var e=0,a=0;a<this.LightBehindList.length;a++)e+=parseInt(this.LightBehindList[a].LB_number);e<this.LightBehindNum&&(this.LightBehindList[t].LB_number=parseInt(this.LightBehindList[t].LB_number)+1,parseInt(e)+1>=this.LightBehindNum&&(this.addLB_show=!1))},entryShow:function(t){this.oldQty=this.LightBehindList[t].LB_number,this.displayQty=this.LightBehindList[t].LB_number,this.oldQtyIndex=t,this.ChangeInfo_show=!0},addLightBehind:function(){for(var t=0,e=0;e<this.LightBehindList.length;e++)t+=parseInt(this.LightBehindList[e].LB_number);t<this.LightBehindNum&&(r.default.set(this.LightBehindList,this.LightBehindList.length,{LB_wt:"",LB_len:"",LB_wide:"",LB_high:"",LB_volume_wt:0,LB_number:1}),parseInt(t)+1>=this.LightBehindNum&&(this.addLB_show=!1))},del_lb:function(t){this.LightBehindList.length>1&&(this.LightBehindList.splice(t,1),this.addLB_show=!0)},ChangeInfoThreeHighConfirm:function(){for(var t=this,e=0;e<t.LightBehindList.length;e++){if("NaN"==parseFloat(t.LightBehindList[e].LB_wt).toString()||parseFloat(t.LightBehindList[e].LB_wt)<=0||t.LightBehindList[e].LB_wt!=parseFloat(t.LightBehindList[e].LB_wt))return void t.$alert("重量必须大于0","提示",{confirmButtonText:"确定"});if("NaN"==parseFloat(t.LightBehindList[e].LB_len).toString()||parseFloat(t.LightBehindList[e].LB_len)<=0||t.LightBehindList[e].LB_len!=parseFloat(t.LightBehindList[e].LB_len))return void t.$alert("长宽高必须大于0","提示",{confirmButtonText:"确定"});if("NaN"==parseFloat(t.LightBehindList[e].LB_wide).toString()||parseFloat(t.LightBehindList[e].LB_wide)<=0||t.LightBehindList[e].LB_wide!=parseFloat(t.LightBehindList[e].LB_wide))return void t.$alert("长宽高必须大于0","提示",{confirmButtonText:"确定"});if("NaN"==parseFloat(t.LightBehindList[e].LB_high).toString()||parseFloat(t.LightBehindList[e].LB_high)<=0||t.LightBehindList[e].LB_high!=parseFloat(t.LightBehindList[e].LB_high))return void t.$alert("长宽高必须大于0","提示",{confirmButtonText:"确定"})}for(var a=0,i=0,s=0;s<t.LightBehindList.length;s++)t.LightBehindList[s].LB_wt*t.LightBehindList[s].LB_number<parseFloat(t.LightBehindList[s].LB_volume_wt)&&(i+=parseFloat(t.LightBehindList[s].LB_wt*t.LightBehindList[s].LB_number),a+=parseFloat(t.LightBehindList[s].LB_volume_wt));t.$confirm("确认吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.push({name:"SweepCodePrinting",query:{deliveryNoSF:t.deliveryNoSF,CastLightWeight:a,LightBeIndex:t.LightBeIndex,displayWtFill:t.displayWtFill,LightBehindNum:t.LightBehindNum,needLoseWt:i}})}).catch(function(){})},ChangeInfoThreeHighCancel:function(){this.$router.push({name:"SweepCodePrinting",query:{deliveryNoSF:this.deliveryNoSF}})},ChangeInfoConfirm:function(){var t=0;if(this.displayQty)if("NaN"==parseInt(this.displayQty).toString()||parseInt(this.displayQty)<=0||this.displayQty!=parseInt(this.displayQty))alert("请输入正整数");else{for(var e=0;e<this.LightBehindList.length;e++)t+=parseInt(this.LightBehindList[e].LB_number);parseInt(t)-parseInt(this.oldQty)+parseInt(this.displayQty)<=this.LightBehindNum?(this.LightBehindList[this.oldQtyIndex].LB_number=this.displayQty,t-this.oldQty+this.displayQty>=this.LightBehindNum?this.addLB_show=!1:this.addLB_show=!0,this.ChangeInfo_show=!1):alert("该页面添加的轻抛件数量总和不能超过订单总件数，请重新输入")}},ChangeInfoCancel:function(){this.ChangeInfo_show=!1},goprev:function(){this.$router.push({name:"SweepCodePrinting",query:{deliveryNoSF:this.deliveryNoSF,displayWtFill:this.displayWtFill,LightBeIndex:this.LightBeIndex,LightBehindNum:this.LightBehindNum}})}}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"LightBehind"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("轻抛件")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"_CastLightCoefficient"},[a("span",[t._v("轻抛系数")]),t._v(" "),a("span",[t._v(t._s(t.CastLightCoefficient))])]),t._v(" "),a("div",{staticClass:"LightCastList"},[t._l(t.LightBehindList,function(e,i){return a("div",{key:i,staticClass:"BatchCommit_ThreeHigh",attrs:{id:i}},[a("div",{staticClass:"BatchCommit_head"},[t._v("轻抛件"),t.LightBehindList.length>1?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.del_lb(i)}}}):t._e()]),t._v(" "),a("div",{staticClass:"BatchCommitThreeHigh_ChangeInfo"},[a("div",[a("div",{attrs:{id:"ThreeHighadd"}},[a("div",{staticClass:"ThreeHigh_"},[a("div",[t._m(0,!0),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.LB_len,expression:"dataItem.LB_len"}],attrs:{type:"number"},domProps:{value:e.LB_len},on:{input:function(a){a.target.composing||t.$set(e,"LB_len",a.target.value)}}})])]),t._v(" "),a("div",[t._m(1,!0),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.LB_wide,expression:"dataItem.LB_wide"}],attrs:{type:"number"},domProps:{value:e.LB_wide},on:{input:function(a){a.target.composing||t.$set(e,"LB_wide",a.target.value)}}})])]),t._v(" "),a("div",[t._m(2,!0),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.LB_high,expression:"dataItem.LB_high"}],attrs:{type:"number"},domProps:{value:e.LB_high},on:{input:function(a){a.target.composing||t.$set(e,"LB_high",a.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"ThreeHigh_wt"},[a("div",[t._m(3,!0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.LB_wt,expression:"dataItem.LB_wt"}],attrs:{type:"number",placeholder:"填写单件重量"},domProps:{value:e.LB_wt},on:{input:function(a){a.target.composing||t.$set(e,"LB_wt",a.target.value)}}}),a("span",[t._v("KG")]),a("span",[t._v("总重量")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.LB_wt*e.LB_number,expression:"dataItem.LB_wt*dataItem.LB_number"}],attrs:{type:"number",disabled:""},domProps:{value:e.LB_wt*e.LB_number},on:{input:function(a){a.target.composing||t.$set(e.LB_wt*e,"LB_number",a.target.value)}}}),a("span",[t._v("KG")])]),t._v(" "),a("div",[a("div",[a("span",[t._v("体积重量")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.LB_volume_wt=(e.LB_len*e.LB_wide*e.LB_high/t.CastLightCoefficient*e.LB_number).toFixed(3),expression:"dataItem.LB_volume_wt=(dataItem.LB_len*dataItem.LB_wide*dataItem.LB_high/CastLightCoefficient*dataItem.LB_number).toFixed(3)"}],attrs:{type:"text",disabled:""},domProps:{value:e.LB_volume_wt=(e.LB_len*e.LB_wide*e.LB_high/t.CastLightCoefficient*e.LB_number).toFixed(3)},on:{input:function(a){a.target.composing||t.$set(e.LB_volume_wt=e.LB_len*e.LB_wide*e.LB_high/t.CastLightCoefficient*e.LB_number,"toFixed(3)",a.target.value)}}}),a("span",[t._v("公斤/厘米")])]),t._v(" "),a("div",{staticClass:"listLast"},[a("i",{staticClass:"iconfont icon-jian",on:{click:function(e){return t.LB_jian(i)}}}),t._v(" "),a("span",{on:{click:function(e){return t.entryShow(i)}}},[t._v(t._s(e.LB_number))]),t._v(" "),a("i",{staticClass:"iconfont icon-jia",on:{click:function(e){return t.LB_jia(i)}}})])])])])])])])}),t._v(" "),t.addLB_show?a("div",{staticClass:"ThreeHigh_iconjia",on:{click:t.addLightBehind}},[a("i",{staticClass:"iconfont icon-jia"}),a("span",[t._v("添加一个轻抛件")])]):t._e(),t._v(" "),a("div",{staticClass:"BatchCommit_btn"},[a("div",{staticClass:"commit-button",on:{click:t.ChangeInfoThreeHighCancel}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"commit-button",on:{click:t.ChangeInfoThreeHighConfirm}},[t._v("确定")])])],2),t._v(" "),t.ChangeInfo_show?a("div",{staticClass:"BatchCommitPopBox"},[a("div",{staticClass:"BatchCommit_"},[a("div",{staticClass:"BatchCommit_head"},[t._v("请输入数量")]),t._v(" "),a("div",{staticClass:"BatchCommit_lb"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.displayQty,expression:"displayQty"}],attrs:{type:"number"},domProps:{value:t.displayQty},on:{input:function(e){e.target.composing||(t.displayQty=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"BatchCommit_btn"},[a("div",{staticClass:"commit-button",on:{click:t.ChangeInfoCancel}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"commit-button",on:{click:t.ChangeInfoConfirm}},[t._v("确定")])])])]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("长(cm)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("宽(cm)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("高(cm)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("重量"),e("i",[this._v("*")])])}]};var bt=a("VU/8")(yt,Ct,!1,function(t){a("upgA")},"data-v-7241f816",null).exports,Lt={name:"WaybillInfo_template",data:function(){return{currentAddressInfo:{},address_listData:[],typeMShow:!1,Navigate_addressList:[],shipmentIdx:0,tips_Msg:"",ifTips:!1}},props:{shipmentListData:{},LinkStatus:""},created:function(){},methods:{_ewm:function(t){event.stopPropagation();this.$route.query.LinkStatus=this.LinkStatus,this.$router.push({name:"QRCode",query:{shipmentCode:t,LinkStatus:this.LinkStatus}})},OrderReceiving:function(t,e){var a=this,i={shipmentID:a.shipmentListData[e].shipmentID,type:t};a.httpRequest("updateReceivingStatus.do",i,function(t){a.$alert("成功","提示",{confirmButtonText:"确定",callback:function(){"Waybill"==a.$route.name?a.$emit("fatherMethodloadData"):a.$parent.loadData()}})},"isLoading_")},toPickUpRandomScan:function(t){event.stopPropagation();this.$router.push({name:"PickUpRandomScan",query:{shipmentCode:this.shipmentListData[t].shipmentCode}})},toToSendRandomScan:function(t){event.stopPropagation();this.$router.push({name:"ToSendRandomScan",query:{shipmentCode:this.shipmentListData[t].shipmentCode}})},toSignRandomScan:function(t){event.stopPropagation();this.$router.push({name:"SignRandomScan",query:{shipmentCode:this.shipmentListData[t].shipmentCode}})},toDepartTakingPictures:function(t){event.stopPropagation();this.$router.push({name:"DepartTakingPictures",query:{shipmentCode:this.shipmentListData[t].shipmentCode}})},toUnloadingTakingPictures:function(t){event.stopPropagation();this.$router.push({name:"UnloadingTakingPictures",query:{shipmentCode:this.shipmentListData[t].shipmentCode}})},toDeliveryScanXH:function(t){event.stopPropagation();this.$router.push({name:"DeliveryScanXH",query:{shipmentCode:this.shipmentListData[t].shipmentCode}})},toTransitScan:function(t){event.stopPropagation();this.$router.push({name:"TransitScan",query:{shipmentCode:this.shipmentListData[t].shipmentCode}})},toMassTransfer:function(t){event.stopPropagation();this.$router.push({name:"MassTransfer",query:{shipmentCode:this.shipmentListData[t].shipmentCode}})},toAbnormal:function(t){event.stopPropagation();this.$router.push({name:"Abnormal",query:{shipmentCode:this.shipmentListData[t].shipmentCode,linkno:"20"}})},toTrackOnTheWay:function(t){event.stopPropagation();this.$router.push({name:"TrackOnTheWay",query:{shipmentID:this.shipmentListData[t].shipmentID}})},Details_waybill:function(t,e){"WaybillInfo"!=this.$route.name&&10!=this.DriverError(e)&&(this.$store.state.Waybill.WaybillInfo.clickWaybillInfo=[this.shipmentListData[e]],this.$store.state.Waybill.WaybillInfo.clickShipmentId=t,this.$router.push({name:"WaybillInfo",query:{LinkStatus:this.LinkStatus}}))},DriverError:function(t){var e=this;if("F"==e.shipmentListData[t].countDelivery)return e.$alert("该配载单中没有运单，请与调度联系","提示",{confirmButtonText:"确定",callback:function(t){"Waybill"==e.$route.name?e.$emit("fatherMethodloadData"):e.$router.push({name:"WaybillInfo"})}}),10},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},Nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_template_WaybillInfo"},[t._l(t.shipmentListData,function(e,i){return a("div",{key:i,staticClass:"bigList",attrs:{id:i}},[a("div",{staticClass:"listHead",on:{click:function(a){return t.Details_waybill(e.shipmentID,i,t.LinkStatus)}}},[a("span",{staticClass:"Navigation",on:{click:function(e){return t.Navigation(i)}}},[t._v("导航")]),t._v(" "),e.status?a("span",{staticClass:"LicensePlate"},[t._v(t._s(e.status))]):t._e(),t._v(" "),t._m(0,!0),t._v(" "),a("div",{staticClass:"codestyle"},[a("span",[t._v("配载单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.shipmentCode,expression:"dataItem.shipmentCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],on:{click:t.stopevent}},[t._v(t._s(e.shipmentCode))]),t._v("  \n\t\t  "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.shipmentCode,expression:"dataItem.shipmentCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi",on:{click:t.stopevent}}),t._v("  \n\t\t  "),a("i",{staticClass:"iconfont icon-iconfonterweima",on:{click:function(a){return t._ewm(e.shipmentCode)}}})]),t._v(" "),a("div",[a("span",[t._v("货   量：")]),t._v(" "),a("span",[t._v(t._s(e.countDelivery)+" 单   ")]),t._v(" "),a("span",[t._v(t._s((1e-6*e.vol).toFixed(1))+" 方   ")]),t._v(" "),a("span",[t._v(t._s((1e-6*e.wt).toFixed(1))+" 吨   ")])]),t._v(" "),a("div",[a("div",[a("span",[t._v("物流公司：")]),t._v(" "),a("span",[t._v(t._s(e.transPartyName))])])]),t._v(" "),1==e.issueAddrLiat.length?a("div",[a("span",[t._v("装货地址：")]),t._v(" "),a("span",[t._v(t._s(e.issueAddrLiat[0].issueAddr1))])]):t._e(),t._v(" "),1==e.issueAddrLiat.length?a("div",[a("span",[t._v("联 系  人：")]),t._v(" "),a("span",[t._v(t._s(e.issueAddrLiat[0].issueUser)+"    "+t._s(e.issueAddrLiat[0].issuePhone))]),t._v("      "),e.issueAddrLiat[0].issuePhone?a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(a){return t.callPhone(e.issueAddrLiat[0].issuePhone)}}}):t._e()]):t._e(),t._v(" "),1!=e.issueAddrLiat.length&&0!=e.issueAddrLiat.length?a("div",[a("i",{staticClass:"iconfont icon-tishi"}),t._v(" "),a("span",{staticStyle:{color:"#038EEA"},on:{click:function(e){return t.MultiAddress(i)}}},[t._v("查看多装货地址")])]):t._e()]),t._v(" "),a("p",["Link_PickUp"==t.LinkStatus&&"未接单"==e.receivingStatus?a("span",{on:{click:function(e){return t.OrderReceiving("接单",i)}}},[t._v("接单")]):t._e(),t._v(" "),"Link_PickUp"==t.LinkStatus&&"/WaybillInfo"==t.$route.path&&"WEI"==e.loadFeeStatus?a("span",{on:{click:function(e){return t.toPickUpRandomScan(i)}}},[t._v("提货扫描")]):t._e(),t._v(" "),"Link_ToSend"==t.LinkStatus&&"/WaybillInfo"==t.$route.path&&"WEI"==e.loadFeeStatus?a("span",{on:{click:function(e){return t.toToSendRandomScan(i)}}},[t._v("装车扫描")]):t._e(),t._v(" "),"Link_ToSend"==t.LinkStatus&&"/WaybillInfo"==t.$route.path&&"YI"==e.loadingStatus&&"WEI"==e.signStatus?a("span",{on:{click:function(e){return t.toSignRandomScan(i)}}},[t._v("签收扫描")]):t._e(),t._v(" "),"Link_ToSend"==t.LinkStatus&&"未到达"==e.daoDaStatus?a("span",{on:{click:function(e){return t.OrderReceiving("到达",i)}}},[t._v("到场确认")]):t._e(),t._v(" "),"Link_Transit"==t.LinkStatus?a("span",{on:{click:function(e){return t.toAbnormal(i)}}},[t._v("异常上报")]):t._e()])])}),t._v(" "),a("div",{staticClass:"MultiAddress"},[a("div",[a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:t.closeAddress}}),t._v(" "),a("div",{staticClass:"addressHead"},t._l(t.address_listData,function(e,i){return a("span",{key:i,attrs:{id:i},on:{click:function(e){return t.address_SwitchView(i)}}},[t._v("地址"+t._s(i+1))])}),0),t._v(" "),a("div",{staticClass:"addressContent"},[a("div",[a("span",[t._v("地址：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.issueAddr1))])]),t._v(" "),a("div",[a("span",[t._v("联系人：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.issueUser))])]),t._v(" "),a("div",[a("span",[t._v("电话：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.issuePhone))]),t._v("       "),t.currentAddressInfo.issuePhone?a("i",{staticClass:"iconfont icon-dianhua-copy",staticStyle:{color:"#038EEA"},on:{click:function(e){return t.callPhone(t.currentAddressInfo.issuePhone)}}}):t._e()])])])]),t._v(" "),t.typeMShow?a("div",{staticClass:"Navigate_MultiAddress"},[a("div",[a("div",{staticClass:"SelectTitle"},[t._v("请选择导航地址")]),t._v(" "),a("div",{staticClass:"SelectContent"},t._l(t.Navigate_addressList,function(e,i){return a("div",{key:i,staticClass:"addressContent",attrs:{id:i},on:{click:function(a){return t.Navigate_SelectComit(e.issueAddr1)}}},[a("div",[a("span",{staticClass:"ORFlag"},[t._v(t._s(e.ORFlag?e.ORFlag:"发"))]),a("span",[t._v(t._s(e.issueAddr1))])]),t._v(" "),a("div",[a("span",[t._v(t._s(e.issueUser)+"      ")]),a("span",[t._v(t._s(e.issuePhone))]),e.issuePhone?a("i",{staticClass:"iconfont icon-dianhua-copy",staticStyle:{color:"#038EEA"},on:{click:function(a){return t.callPhone(e.issuePhone)}}}):t._e()])])}),0),t._v(" "),a("div",{staticClass:"cancel",on:{click:function(e){return t.selectCancel("e")}}},[t._v("取消")])])]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"firstLine"},[e("i",{staticClass:"iconfont"})])}]};var St=a("VU/8")(Lt,Nt,!1,function(t){a("18+c")},"data-v-fd0c1b7c",null).exports,It={name:"Waybill",data:function(){return{shipmentListData:[],is_NoData:!1,is_NoData_text:"没有任务",numberPerPage:15,loadPage:1,allLoaded:!0,autoFill:!1,LinkStatus:"Link_PickUp"}},components:{FooterIndex:x,WaybillInfo_template:St},mounted:function(){this.allLoaded=!1},created:function(){this.$route.query.LinkStatus&&(this.LinkStatus=this.$route.query.LinkStatus),this.$store.state.Waybill.waybillLinkStatus&&(this.LinkStatus=this.$store.state.Waybill.waybillLinkStatus),this.loadData()},methods:{LinkChoose:function(t){this.loadPage=1,this.allLoaded=!1,this.LinkStatus=t,this.$store.state.Waybill.waybillLinkStatus=t,this.loadData()},loadData:function(t){var e=this,a={currentPage:e.loadPage,numberPerPage:e.numberPerPage,startDate:null,endDate:null,deliveryNoinput:null,shipmentCodeinput:null,clientOrderNo:null,cellphone:e.$store.state.userInfo.cellphone,transportLinks:"Link_PickUp"==e.LinkStatus?"提货":"Link_Transit"==e.LinkStatus?"中转":"Link_ToSend"==e.LinkStatus?"派件":"",searchNumberNo:e.$store.state.Waybill.Waybill_SearchData,searchType:e.$store.state.Waybill.Waybill_SearchType};e.httpRequest("queryShipmentData.do",a,function(a){t&&("TopLoad"==t?e.$refs.loadmore.onTopLoaded():"BottomLoad"==t&&e.$refs.loadmore.onBottomLoaded()),e.loadPage>1?e.shipmentListData=e.shipmentListData.concat(a.data):(e.shipmentListData=a.data,a.data.length?e.is_NoData=!1:(e.is_NoData_text="没有任务",e.is_NoData=!0)),a.data.length<e.numberPerPage?e.allLoaded=!0:e.allLoaded=!1})},SearchSelect:function(t){"order"==t?(this.$store.state.Waybill.Waybill_SearchType=1,f()(".SearchBoxOrder").css("color","#038EEA").siblings().css("color","#000")):(this.$store.state.Waybill.Waybill_SearchType=2,f()(".SearchBoxSFOrder").css("color","#038EEA").siblings().css("color","#000"))},SearchWaybill:function(){0==this.$store.state.Waybill.Waybill_SearchType&&(this.$store.state.Waybill.Waybill_SearchType=2),""==this.$store.state.Waybill.Waybill_SearchData&&(this.$store.state.Waybill.Waybill_SearchType=0),this.loadData()},searchLabel_close:function(){this.$store.state.Waybill.Waybill_SearchData="",this.$store.state.Waybill.Waybill_SearchType=0,this.loadData()},fatherMethodloadData:function(){this.loadData()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},historyTask:function(){this.$router.push({name:"historyList"})},loadTop:function(){this.loadPage=1,this.allLoaded=!1,this.loadData("TopLoad")},loadBottom:function(){this.allLoaded?this.$refs.loadmore.onBottomLoaded():(this.loadPage+=1,this.loadData("BottomLoad"))}}},Dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Waybill"},[a("header",[a("div",{staticClass:"currentTask"},[t._v("当前任务")]),t._v(" "),a("div",{staticClass:"historyTask",on:{click:t.historyTask}},[t._v("历史任务")])]),t._v(" "),a("div",{staticClass:"SwitchTab"},[a("div",{class:{selected_head:"Link_PickUp"==t.LinkStatus},on:{click:function(e){return t.LinkChoose("Link_PickUp")}}},[a("span",[t._v("提货")])]),t._v(" "),a("div",{class:{selected_head:"Link_Transit"==t.LinkStatus},on:{click:function(e){return t.LinkChoose("Link_Transit")}}},[a("span",[t._v("中转")])]),t._v(" "),a("div",{class:{selected_head:"Link_ToSend"==t.LinkStatus},on:{click:function(e){return t.LinkChoose("Link_ToSend")}}},[a("span",[t._v("派件")])])]),t._v(" "),a("div",{staticClass:"SearchBox"},[a("div",[a("div",{staticClass:"SearchBoxInput"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.Waybill.Waybill_SearchData,expression:"$store.state.Waybill.Waybill_SearchData"}],attrs:{type:"text",placeholder:"支持模糊查询"},domProps:{value:t.$store.state.Waybill.Waybill_SearchData},on:{input:function(e){e.target.composing||t.$set(t.$store.state.Waybill,"Waybill_SearchData",e.target.value)}}}),t._v(" "),a("div",[a("span",{staticClass:"SearchBoxOrder",on:{click:function(e){return t.SearchSelect("order")}}},[t._v("订单号")]),t._v(" "),a("span",{staticClass:"SearchBoxSFOrder",on:{click:function(e){return t.SearchSelect("SFOrder")}}},[t._v("SF运单号")])])]),t._v(" "),a("div",{staticClass:"SearchBoxBtn"},[a("div",{on:{click:t.SearchWaybill}},[t._v("查询")])])])]),t._v(" "),a("div",{staticClass:"container",staticStyle:{overflow:"scroll"}},[a("div",{staticClass:"topKong"}),t._v(" "),t.$store.state.Waybill.Waybill_SearchData?a("div",{staticClass:"search_Label"},[t.$store.state.Waybill.Waybill_SearchData?a("div",{on:{click:t.searchLabel_close}},[a("span",[t._v(t._s(t.$store.state.Waybill.Waybill_SearchData))]),a("i",{staticClass:"iconfont icon-guanbi"})]):t._e()]):t._e(),t._v(" "),a("mt-loadmore",{ref:"loadmore",staticStyle:{"text-align":"center"},attrs:{topDropText:"下拉刷新",topLoadingText:"",topPullText:"",bottomPullText:"",bottomDropText:"上拉加载",bottomLoadingText:"","top-method":t.loadTop,"bottom-method":t.loadBottom,autoFill:t.autoFill}},[a("div",{staticClass:"waybillContainer"},[a("WaybillInfo_template",{attrs:{shipmentListData:t.shipmentListData,LinkStatus:t.LinkStatus},on:{fatherMethodloadData:t.fatherMethodloadData,isLoading_:t.fullscreenLoading}}),t._v(" "),t.allLoaded&&t.shipmentListData.length?a("div",{staticClass:"nodata_label"},[t._v("没有更多数据")]):t._e(),t._v(" "),a("div",{staticClass:"kong"}),t._v(" "),t.is_NoData?a("div",{staticClass:"nodata_kong"}):t._e()],1)])],1),t._v(" "),t.is_NoData?a("div",{staticClass:"NoData"},[a("div",[a("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),t._v(" "),a("div",[t._v(t._s(t.is_NoData_text))])])]):t._e(),t._v(" "),a("FooterIndex")],1)},staticRenderFns:[]};var wt=a("VU/8")(It,Dt,!1,function(t){a("MJkd")},"data-v-338983ca",null).exports,kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("footer",t._l(t.footList,function(e,i){return a("div",{key:i,class:{active:t.active==e.title},attrs:{id:i},on:{click:function(e){return t.toggle(i)}}},[a("i",{staticClass:"iconfont",class:e.icon}),t._v(" "),a("p",[t._v(t._s(e.title))])])}),0)])},staticRenderFns:[]};var Tt=a("VU/8")({name:"FooterIndex",data:function(){return{footList:[{path:"Index",title:"首页",icon:"icon-shouye-blue"},{path:"AviationWaybill",title:"航空任务",icon:"icon-woderenwu"}],active:"航空任务"}},created:function(){for(var t=0;t<this.footList.length;t++){if("historyList"==this.$route.name)return void(this.active="航空任务");if(this.$route.name==this.footList[t].path)return void(this.active=this.footList[t].title)}this.$route.query.active&&(this.active=this.$route.query.active)},methods:{toggle:function(t){this.$store.state.Waybill_needRefresh=!1,this.active=this.footList[t].title,this.$router.push({name:this.footList[t].path,query:{active:this.footList[t].title}})}}},kt,!1,function(t){a("MLBd")},"data-v-46272bc2",null).exports,xt={name:"Aviation_template_WaybillInfo",data:function(){return{currentAddressInfo:{},address_listData:[],typeMShow:!1,Navigate_addressList:[],shipmentIdx:0,tips_Msg:"",ifTips:!1}},props:{shipmentListData:{},LinkStatus:""},created:function(){},methods:{_ewm:function(t){event.stopPropagation();this.$route.query.LinkStatus=this.LinkStatus,this.$router.push({name:"QRCode",query:{shipmentCode:t,LinkStatus:this.LinkStatus}})},OrderReceiving:function(t,e){var a=this,i={shipmentID:a.shipmentListData[e].shipmentID,type:t};a.httpRequest("updateReceivingStatus.do",i,function(t){a.$alert("成功","提示",{confirmButtonText:"确定",callback:function(){"Waybill"==a.$route.name?a.$emit("fatherMethodloadData"):a.$parent.loadData()}})},"isLoading_")},toDeliveryScanXH:function(t){event.stopPropagation();this.$router.push({name:"DeliveryScanXH",query:{shipmentCode:this.shipmentListData[t].shipmentCode}})},toMassTransfer:function(t){event.stopPropagation();this.$router.push({name:"MassTransfer",query:{shipmentCode:this.shipmentListData[t].shipmentCode}})},toAbnormal:function(t){event.stopPropagation();this.$router.push({name:"Abnormal",query:{shipmentCode:this.shipmentListData[t].shipmentCode,linkno:"20"}})},Details_waybill:function(t){this.$router.push({name:"AviationWaybillInfo",query:{deliveryId:t}})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Aviation_template_WaybillInfo"},[t._l(t.shipmentListData,function(e,i){return a("div",{key:i,staticClass:"bigList",attrs:{id:i}},[a("div",{staticClass:"listHead",on:{click:function(a){return t.Details_waybill(e.deliveryId,i)}}},[e.status?a("span",{staticClass:"LicensePlate"},[t._v(t._s(e.status))]):t._e(),t._v(" "),a("div",{staticClass:"codestyle"},[a("span",[t._v("订单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.omsNo,expression:"dataItem.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],on:{click:t.stopevent}},[t._v(t._s(e.omsNo))]),t._v("  \n\t\t  "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.omsNo,expression:"dataItem.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi",on:{click:t.stopevent}}),t._v("  \n\t\t  ")]),t._v(" "),a("div",{staticClass:"codestyle"},[a("span",[t._v("SF运单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.deliveryNoSF,expression:"dataItem.deliveryNoSF",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],on:{click:t.stopevent}},[t._v(t._s(e.deliveryNoSF))]),t._v("  \n      "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.deliveryNoSF,expression:"dataItem.deliveryNoSF",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi",on:{click:t.stopevent}}),t._v("  \n      ")]),t._v(" "),a("div",[a("span",[t._v("指派时间：")]),t._v(" "),a("span",[t._v(t._s(e.assignFlightTime))])]),t._v(" "),a("div",[a("span",[t._v("提货司机：")]),t._v(" "),a("span",[t._v(t._s(e.driverName)+"    "+t._s(e.driverPhone)+"    ")]),t._v(" "),e.driverPhone?a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(a){return t.callPhone(e.driverPhone)}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("司机车牌：")]),t._v(" "),a("span",[t._v(t._s(e.vehicleCode))])]),t._v(" "),a("div",[a("div",[a("span",[t._v("件数：")]),t._v(" "),a("span",[t._v(t._s(e.orderQty))])]),t._v(" "),a("div",[a("span",[t._v("重量：")]),t._v(" "),a("span",[t._v(t._s(e.orderWt))])])])]),t._v(" "),a("p",["Link_Transit"==t.LinkStatus?a("span",{on:{click:function(e){return t.toAbnormal(i)}}},[t._v("异常上报")]):t._e()])])}),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()],2)},staticRenderFns:[]};var Pt={name:"AviationWaybill",data:function(){return{shipmentListData:[],is_NoData:!1,is_NoData_text:"没有任务",numberPerPage:10,loadPage:1,allLoaded:!0,autoFill:!1}},components:{AviationFooter:Tt,WaybillInfo_template:a("VU/8")(xt,$t,!1,function(t){a("nt/e")},"data-v-b7236320",null).exports},mounted:function(){var t=this;t.$store.state.userInfo.aiportCode?(this.allLoaded=!1,1==this.$store.state.AviationWaybill.Waybill_SearchType?f()(".SearchBoxOrder").css("color","#038EEA").siblings().css("color","#000"):f()(".SearchBoxSFOrder").css("color","#038EEA").siblings().css("color","#000"),this.loadData()):this.$alert("未获取到机场信息，请联系负责人维护该账号的机场信息，维护后请退出app账号重新登录","提示",{confirmButtonText:"确定",callback:function(){t.$router.push({name:"Index"})}})},created:function(){},methods:{loadData:function(t){var e=this;""==this.$store.state.AviationWaybill.Waybill_SearchData&&(this.$store.state.AviationWaybill.Waybill_SearchType=0);var a={currentPage:e.loadPage,numberPerPage:e.numberPerPage,aviationIsLoaded:"WEI",transporterId:e.$store.state.userInfo.orgnizationId,searchNumberNo:e.$store.state.AviationWaybill.Waybill_SearchData,searchType:e.$store.state.AviationWaybill.Waybill_SearchType,flightDepcode:e.$store.state.userInfo.aiportCode};e.httpRequest("queryAviationDeliveryData.do",a,function(a){t&&("TopLoad"==t?e.$refs.loadmore.onTopLoaded():"BottomLoad"==t&&e.$refs.loadmore.onBottomLoaded()),e.loadPage>1?e.shipmentListData=e.shipmentListData.concat(a.data):(e.shipmentListData=a.data,a.data.length?e.is_NoData=!1:(e.is_NoData_text="没有任务",e.is_NoData=!0)),a.data.length<e.numberPerPage?e.allLoaded=!0:e.allLoaded=!1})},SearchSelect:function(t){"order"==t?(this.$store.state.AviationWaybill.Waybill_SearchType=1,f()(".SearchBoxOrder").css("color","#038EEA").siblings().css("color","#000")):(this.$store.state.AviationWaybill.Waybill_SearchType=2,f()(".SearchBoxSFOrder").css("color","#038EEA").siblings().css("color","#000"))},SearchWaybill:function(){0==this.$store.state.AviationWaybill.Waybill_SearchType&&(this.$store.state.AviationWaybill.Waybill_SearchType=2),""==this.$store.state.AviationWaybill.Waybill_SearchData&&(this.$store.state.AviationWaybill.Waybill_SearchType=0),this.loadData()},searchLabel_close:function(){this.$store.state.AviationWaybill.Waybill_SearchData="",this.$store.state.AviationWaybill.Waybill_SearchType=0,f()(".SearchBoxSFOrder").css("color","#038EEA").siblings().css("color","#000"),this.loadData()},fatherMethodloadData:function(){this.loadData()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},historyTask:function(){this.$router.push({name:"AviationHistoryList"})},toAviationAllTransitScan:function(){this.$router.push({name:"AviationAllTransitScan"})},loadTop:function(){this.loadPage=1,this.allLoaded=!1,this.loadData("TopLoad")},loadBottom:function(){this.allLoaded?this.$refs.loadmore.onBottomLoaded():(this.loadPage+=1,this.loadData("BottomLoad"))}}},Bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AviationWaybill"},[a("header",[a("div",{staticClass:"currentTask"},[t._v("当前任务")]),t._v(" "),a("div",{staticClass:"historyTask",on:{click:t.historyTask}},[t._v("历史任务")])]),t._v(" "),a("div",{staticClass:"SwitchTab"},[a("div",{on:{click:t.toAviationAllTransitScan}},[a("span",[t._v("航空出港扫描")]),a("i",{staticClass:"iconfont icon-sousuoxiawu-"})])]),t._v(" "),a("div",{staticClass:"container",staticStyle:{overflow:"scroll"}},[a("div",{staticClass:"topKong"}),t._v(" "),t.$store.state.AviationWaybill.Waybill_SearchData?a("div",{staticClass:"search_Label"},[t.$store.state.AviationWaybill.Waybill_SearchData?a("div",{on:{click:t.searchLabel_close}},[a("span",[t._v(t._s(t.$store.state.AviationWaybill.Waybill_SearchData))]),a("i",{staticClass:"iconfont icon-guanbi"})]):t._e()]):t._e(),t._v(" "),a("mt-loadmore",{ref:"loadmore",staticStyle:{"text-align":"center"},attrs:{topDropText:"下拉刷新",topLoadingText:"",topPullText:"",bottomPullText:"",bottomDropText:"上拉加载",bottomLoadingText:"","top-method":t.loadTop,"bottom-method":t.loadBottom,autoFill:t.autoFill}},[a("div",{staticClass:"waybillContainer"},[a("div",{staticClass:"SearchBox"},[a("div",[a("div",{staticClass:"SearchBoxInput"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.AviationWaybill.Waybill_SearchData,expression:"$store.state.AviationWaybill.Waybill_SearchData"}],attrs:{type:"text",placeholder:"支持模糊查询"},domProps:{value:t.$store.state.AviationWaybill.Waybill_SearchData},on:{input:function(e){e.target.composing||t.$set(t.$store.state.AviationWaybill,"Waybill_SearchData",e.target.value)}}}),t._v(" "),a("div",[a("span",{staticClass:"SearchBoxOrder",on:{click:function(e){return t.SearchSelect("order")}}},[t._v("订单号")]),t._v(" "),a("span",{staticClass:"SearchBoxSFOrder",on:{click:function(e){return t.SearchSelect("SFOrder")}}},[t._v("SF运单号")])])]),t._v(" "),a("div",{staticClass:"SearchBoxBtn"},[a("i",{staticClass:"iconfont icon-sousuoxiawu-"})])]),t._v(" "),a("div",{staticClass:"SearchBoxBtnquery"},[a("div",{on:{click:t.SearchWaybill}},[t._v("查询")])])]),t._v(" "),a("WaybillInfo_template",{attrs:{shipmentListData:t.shipmentListData},on:{fatherMethodloadData:t.fatherMethodloadData,isLoading_:t.fullscreenLoading}}),t._v(" "),t.allLoaded&&t.shipmentListData.length?a("div",{staticClass:"nodata_label"},[t._v("没有更多数据")]):t._e(),t._v(" "),a("div",{staticClass:"kong"}),t._v(" "),t.is_NoData?a("div",{staticClass:"nodata_kong"}):t._e()],1)])],1),t._v(" "),t.is_NoData?a("div",{staticClass:"NoData"},[a("div",[a("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),t._v(" "),a("div",[t._v(t._s(t.is_NoData_text))])])]):t._e(),t._v(" "),a("AviationFooter")],1)},staticRenderFns:[]};var At=a("VU/8")(Pt,Bt,!1,function(t){a("Omus")},"data-v-0d1b44d1",null).exports,Ft=a("bOdI"),Ot=a.n(Ft),Ut=a("lHA8"),Wt=a.n(Ut),Rt=a("c/Tr"),Mt=a.n(Rt),qt=a("BO1k"),Et=a.n(qt),Ht={name:"commit-footer",components:{"v-confirm":et},data:function(){return{params:{params:[],longitude:"",latitude:""},CurrentCity:"",CurrentLocation:"",CurrentDistrict:"",cleanOrderList:[],commitImgDialog:!1,imageUrl:null,imgObj:null,latitude:"",longitude:"",tips_Msg:"",ifTips:!1,SelectDelivery_show:!1,deliveryMethod_crru:"",forwardSupplier_crru:"",forwardSupplierId_crru:"",CarrierList:[],CarrierSelection_show:!1,CarrierSelecteditem:0,commitPopUp_show:!1,AllCommitPopUp_show:!1}},props:["count","orderCount","countData","orderList","cacheResponseData","hideBitch","transportLinks","actualQty","HasLoading","AbHasScanNum","deliveryMethod","forwardSupplier","forwardSupplierId","reference10","chargeTypes","shipmentNum"],mounted:function(){this.onPlusReady("e"),this.deliveryMethod_crru=this.deliveryMethod,this.forwardSupplier_crru=this.forwardSupplier,this.forwardSupplierId_crru=this.forwardSupplierId},methods:{RefreshPositioning:function(){this.onPlusReady("e")},SetCurrAddress:function(t){var e=this,a=JSON.parse(t);if(e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),"0"==a.lng)this.$alert("定位失败","提示",{confirmButtonText:"确定",callback:function(t){e.$router.go(-1)}});else try{AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"}),i=[parseFloat(a.lng),parseFloat(a.lat)];e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),t.getAddress(i,function(t,a){"complete"===t&&"OK"===a.info?(e.CurrentCity=a.regeocode.addressComponent.city?a.regeocode.addressComponent.city:a.regeocode.addressComponent.province,e.CurrentLocation=a.regeocode.formattedAddress,e.CurrentDistrict=a.regeocode.addressComponent.district?a.regeocode.addressComponent.district:a.regeocode.addressComponent.township):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})})}catch(t){e.$alert(t,"提示",{confirmButtonText:"确定"})}},getTheFile:function(t){this.imageUrl=t.url},beforeAvatarUpload:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},closeImgInput:function(){this.commitImgDialog=!1,this.$emit("scanFun",!0)},commitImg:function(){this.commitImgDialog=!1,this.$refs.myConfirm.show("是否提交数据？",{type:"confirm",cancelText:"取消",confirmText:"确定",titleText:"消息提示",data:this.count})},selectFile:function(t){this.imgUrl=t,this.setTheFormData()},setTheFormData:function(){var t=this,e=new FormData;e.append("data",this.imgUrl.srcElement.files[0]),this.imgObj=e.get("data");var a=new FileReader;a.readAsDataURL(e.get("data")),a.onload=function(e){t.$refs.img.src=e.target.result}},userBehaviorFun:function(t,e){"clickCancel"!==t?this.commitData():this.$emit("scanFun",!0)},commitPopUpCancel:function(){this.commitPopUp_show=!1},commitPopUpConfirm:function(){this.commitData()},AllCcommitPopUpCancel:function(){this.AllCommitPopUp_show=!1},AllCcommitPopUpConfirm:function(){this.commitData()},checkForCommit:function(){if(0!==this.count.length){if(this.count.length<this.actualQty)return void(this.commitPopUp_show=!0);this.AllCommitPopUp_show=!0,this.$emit("scanFun",!1)}},commitData:function(){var t=this,e=this;this.commitPopUp_show=!1,e.$emit("isLoading_",!0,"拼命加载中"),this.SelectDelivery_show=!1,e.AllCommitPopUp_show=!1,"直送"==e.deliveryMethod_crru&&(e.forwardSupplier_crru="",e.forwardSupplierId_crru="");var a=this.$store.state.userInfo.userName,i=this.$store.state.userInfo.cellphone,s=this.$store.state.userInfo.orgnizationId,o=this.$store.state.userInfo.orgnizationName,r=this.longitude,l=this.latitude,c=this.CurrentLocation,d=this.CurrentDistrict,u=this.CurrentCity,h=this.deliveryMethod_crru,p=this.forwardSupplier_crru,v=this.forwardSupplierId_crru,m=[];for(var _ in this.count){var g={};g.omsNo=this.count[_].omsno,g.labelNo=this.count[_].order,g.linkNode="10",g.scanPerson=a,g.cellphone=i,g.scanTime=this.count[_].time,g.supplierId=s,g.supplierName=o,g.longitude=r,g.latitude=l,g.address=c,g.city=u,g.districict=d,g.deliveryMethod=h,g.forwardSupplier=p,g.forwardSupplierId=v,m.push(g)}var y=[];for(var C in this.cacheResponseData){var b={},L=this.cacheResponseData[C];b.omsNo=L.omsNo,b.displayWt=L.displayWt,b.linkNode="10",y.push(b)}for(var N in this.cleanOrderList=[],this.count)this.cleanOrderList.push(this.count[N].order);this.params={params:n()(m),labelNo:n()(this.cleanOrderList)},ut(this.params).then(function(a){"1"==a.data.status?(f()("div.uploadImg ul>li").length>0?e.$parent.updateimg():(e.$emit("isLoading_",!1),e.$alert(a.data.Msg,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})),t.$emit("reflash",!0),t.$emit("scanFun",!0)):(e.$emit("isLoading_",!1),e.$alert(a.data.Msg,"提示",{confirmButtonText:"确定"}),t.$emit("scanFun",!0))}).catch(function(t){e.$emit("isLoading_",!1)})}}},Qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commit-footer"},[a("div",{staticClass:"addr_foot"},[a("div",{staticClass:"addr_foot_f"},[a("div",[a("span",[t._v("当前城市：")]),a("span",[t._v(t._s(t.CurrentCity))])]),t._v(" "),a("div",[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",[a("span",[t._v("当前地址：")]),a("span",[t._v(t._s(t.CurrentLocation))])])]),t._v(" "),a("div",{staticClass:"addr_foot_s"},[a("div",{on:{click:t.RefreshPositioning}},[t._v("刷新定位")])])]),t._v(" "),a("div",{staticClass:"left-countbox"},[a("div",{staticClass:"left-count"},[a("div",{staticClass:"top"},[t._v("\n        配载总件数:"),a("i",[t._v(t._s(t.shipmentNum))]),t._v("件\n      ")]),t._v(" "),a("div",{staticClass:"bottom"},[t._v("\n        当前扫描:"),a("i",[t._v(t._s(t.count.length))]),t._v("件\n      ")])]),t._v(" "),a("div",{staticClass:"commit-button-box"},[a("div",{staticClass:"commit-button",on:{click:t.checkForCommit}},[t._v("提交")])]),t._v(" "),a("v-confirm",{ref:"myConfirm",on:{userBehavior:t.userBehaviorFun}})],1),t._v(" "),t.commitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("订单未扫描完，是否提交？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("订单总件数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.actualQty))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前提交数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.count.length))])])]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.commitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.commitPopUpConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.AllCommitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.AllCcommitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.AllCcommitPopUpConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var Vt,zt=(Vt={name:"PickUpRandomScan",components:{"v-header":st,"v-scan":M,"v-footer":a("VU/8")(Ht,Qt,!1,function(t){a("3HDs")},"data-v-18ded3ad",null).exports,"v-confirm":et},watch:{},data:function(){return{activeName:"first",headerName:"提货扫描-配载",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],historyLabelNo:[],notScanLabelNo:[],dialogImageUrl:"",dialogVisible:!1,uploadParamsList:[{}],uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,loadingData:!1,linkNode:"",showSliderData:!1,showSliderData01:!1,scanResult:{issuePartyAddr:"--",receivePartyAddr1:"--",orderQty:"--",orderWt:"--",displayWt:"--"},propScanData:"",responseData:{},switchScan:!0,cacheResponseData:[],shipmentCode:"",transportLinks:"",scanNumber:0,actualQty:0,notScanned:[],scanned:[],orderListScanned:[],shipmentNum:0}},mounted:function(){}},Ot()(Vt,"watch",{}),Ot()(Vt,"created",function(){var t=this;if(this.$route.query.transportLinks&&(this.transportLinks=this.$route.query.transportLinks),this.$route.query.actualQty&&(this.actualQty=this.$route.query.actualQty),this.$route.query.shipmentCode){this.shipmentCode=this.$route.query.shipmentCode;var e={shipmentCode:this.shipmentCode,linkNode:"10"};t.httpRequest("shipmentCodeSelectInfo.do",e,function(e){e.data.notScanned?t.notScanned=e.data.notScanned:t.notScanned=[],e.data.scanned?t.scanned=e.data.scanned:t.scanned=[],t.historyLabelNo=[],t.notScanLabelNo=[];for(var a=0;a<t.scanned.length;a++)t.historyLabelNo=t.historyLabelNo.concat(t.scanned[a].waybillNumber);for(var i=0;i<t.notScanned.length;i++)t.notScanLabelNo=t.notScanLabelNo.concat(t.notScanned[i].waybillNumber);t.shipmentNum=parseInt(t.historyLabelNo.length)+parseInt(t.notScanLabelNo.length)})}}),Ot()(Vt,"methods",{updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length;for(var t=0;t<this.orderListScanned.length;t++)this.uploadParamsList[t]={cellphone:this.$store.state.userInfo.cellphone,omsNo:this.orderListScanned[t].order,fileType:"装车扫描",labelNo:"10"},this.$refs.upload_refXH[t].submit()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},switchScanFun:function(t){this.switchScan=!!t},showSearchResult:function(){this.switchScan?this.switchScan=!1:this.switchScan=!0,this.showSliderData&&(this.showSliderData=!1)},userBehaviorFun:function(){},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this;if(0===this.historyLabelNo.length&&0===this.notScanLabelNo.length&&0===this.orderList.length){var a={scanLabel:t,linkNode:this.linkNode,omsNo:e.omsNo};this.getTheOrderNum(a,t)}else e.step0(t).then(function(a){0!==a.length?e.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):e.step1(t).then(function(a){0!==a.length?e.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):e.step2(t).then(function(a){if(0!==a.length){for(var i in e.cacheResponseData)-1!==e.cacheResponseData[i].allOrder.indexOf(t)&&(e.scanResult=e.cacheResponseData[i]);e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t});for(var s=0;s<e.notScanned.length;s++)e.notScanned[s].waybillNumber=e.notScanned[s].waybillNumber.filter(function(a){if(a==t)if(e.orderList.push({order:t,omsno:e.notScanned[s].omsNo,orderBooting:"",time:e.getTheTimeNow()}),e.orderListScanned.length){for(var i=!1,o=0;o<e.orderListScanned.length;o++)e.orderListScanned[o].order==e.notScanned[s].omsNo&&(e.orderListScanned[o].waybillNumber.push(a),i=!0);i||e.orderListScanned.push({order:e.notScanned[s].omsNo,orderBooting:"",time:e.getTheTimeNow(),waybillNumber:[a]})}else e.orderListScanned.push({order:e.notScanned[s].omsNo,orderBooting:"",time:e.getTheTimeNow(),waybillNumber:[a]});return a!==t}),e.notScanned[s].waybillNumber.length<=0&&e.notScanned.splice(s,1)}else e.$refs.message.show("该标签号不属于该配载:"+e.shipmentCode,{type:"alert",confirmText:"确定",titleText:"请注意"})})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this;this.loadingData=!0,this.propScanData=e,ct(t).then(function(t){"1"==t.data.status?(a.loadingData=!1,a.responseData=t.data.data,a.dealConfirmData(a.propScanData)):(a.loadingData=!1,a.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"}))}).catch(function(t){a.loadingData=!1,a.$alert(t,"提示",{confirmButtonText:"确定"})})},dealConfirmData:function(t){var e=this,a=this,i=this.responseData;for(var o in new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}a.historyLabelNo=a.historyLabelNo.concat(i.historySubmitLabelNo),a.notScanLabelNo=a.notScanLabelNo.concat(i.notScanLabelNo),a.historyLabelNo=e(a.historyLabelNo),a.notScanLabelNo=e(a.notScanLabelNo),t(!0)}).then(function(s){s&&a.step1(t).then(function(s){0!==s.length?(a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}),e.orderCodeList=e.distinct(e.orderCodeList,i.omsNo)):a.step2(t).then(function(s){0!==s.length?(e.orderList.push({order:t,orderBooting:i.omsNo,time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t}),e.orderCodeList=e.distinct(e.orderCodeList,i.omsNo)):a.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[o].order)},finishUpload:function(t){var e=this;e.$emit("isLoading_",!1),t=t?","+t:"",this.$alert("扫描保存成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,void this.finishUpload("图片上传失败");parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}),Vt),Gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"PickUpRandomScan"},[a("div",{staticClass:"common-box"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1)],1),t._v(" "),a("div",{staticClass:"PickUpRandomScan_orderbox"},[a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-list"},t._l(t.orderListScanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.order)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])}),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refXH",refInFor:!0,attrs:{action:t.HOST+"abnormalUploadImage.do",limit:6,multiple:!0,data:t.uploadParamsList[i],"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.scanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.omsNo)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])})],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.omsNo)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])})],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1)],1)]),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,cacheResponseData:t.cacheResponseData,orderList:t.cleanOrderList,transportLinks:t.transportLinks,actualQty:t.actualQty,shipmentNum:t.shipmentNum},on:{reflash:t.reflashData,scanFun:t.switchScanFun,isLoading_:t.fullscreenLoading}}),t._v(" "),a("v-confirm",{ref:"message"})],1)},staticRenderFns:[]};var jt=a("VU/8")(zt,Gt,!1,function(t){a("wMEB")},"data-v-62651a9f",null).exports,Xt={name:"commit-footer",components:{"v-confirm":et},data:function(){return{params:{params:[],longitude:"",latitude:""},CurrentCity:"",CurrentLocation:"",CurrentDistrict:"",cleanOrderList:[],commitImgDialog:!1,imageUrl:null,imgObj:null,latitude:"",longitude:"",tips_Msg:"",ifTips:!1,SelectDelivery_show:!1,commitPopUp_show:!1,AllCommitPopUp_show:!1}},props:["count","orderCount","countData","orderList","cacheResponseData","hideBitch","transportLinks","actualQty","HasLoading","AbHasScanNum","reference10","chargeTypes","shipmentNum"],mounted:function(){this.onPlusReady("e")},methods:{RefreshPositioning:function(){this.onPlusReady("e")},SetCurrAddress:function(t){var e=this,a=JSON.parse(t);if(e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),"0"==a.lng)this.$alert("定位失败","提示",{confirmButtonText:"确定",callback:function(t){e.$router.go(-1)}});else try{AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"}),i=[parseFloat(a.lng),parseFloat(a.lat)];e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),t.getAddress(i,function(t,a){"complete"===t&&"OK"===a.info?(e.CurrentCity=a.regeocode.addressComponent.city?a.regeocode.addressComponent.city:a.regeocode.addressComponent.province,e.CurrentLocation=a.regeocode.formattedAddress,e.CurrentDistrict=a.regeocode.addressComponent.district?a.regeocode.addressComponent.district:a.regeocode.addressComponent.township):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})})}catch(t){e.$alert(t,"提示",{confirmButtonText:"确定"})}},getTheFile:function(t){this.imageUrl=t.url},beforeAvatarUpload:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},closeImgInput:function(){this.commitImgDialog=!1,this.$emit("scanFun",!0)},commitImg:function(){this.commitImgDialog=!1,this.$refs.myConfirm.show("是否提交数据？",{type:"confirm",cancelText:"取消",confirmText:"确定",titleText:"消息提示",data:this.count})},selectFile:function(t){this.imgUrl=t,this.setTheFormData()},setTheFormData:function(){var t=this,e=new FormData;e.append("data",this.imgUrl.srcElement.files[0]),this.imgObj=e.get("data");var a=new FileReader;a.readAsDataURL(e.get("data")),a.onload=function(e){t.$refs.img.src=e.target.result}},userBehaviorFun:function(t,e){"clickCancel"!==t?this.commitData():this.$emit("scanFun",!0)},commitPopUpCancel:function(){this.commitPopUp_show=!1},commitPopUpConfirm:function(){this.commitData()},AllCcommitPopUpCancel:function(){this.AllCommitPopUp_show=!1},AllCcommitPopUpConfirm:function(){this.commitData()},checkForCommit:function(){if(0!==this.count.length){if(this.count.length<this.actualQty)return void(this.commitPopUp_show=!0);this.AllCommitPopUp_show=!0,this.$emit("scanFun",!1)}},commitData:function(){var t=this,e=this;this.commitPopUp_show=!1,e.$emit("isLoading_",!0,"拼命加载中"),this.SelectDelivery_show=!1,e.AllCommitPopUp_show=!1;var a=this.$store.state.userInfo.userName,i=this.$store.state.userInfo.cellphone,s=this.$store.state.userInfo.orgnizationId,o=this.$store.state.userInfo.orgnizationName,r=this.longitude,l=this.latitude,c=this.CurrentLocation,d=this.CurrentDistrict,u=this.CurrentCity,h=[];for(var p in this.count){var v={};v.omsNo=this.count[p].omsno,v.labelNo=this.count[p].order,v.linkNode="30",v.scanPerson=a,v.cellphone=i,v.scanTime=this.count[p].time,v.supplierId=s,v.supplierName=o,v.longitude=r,v.latitude=l,v.address=c,v.city=u,v.districict=d,h.push(v)}var m=[];for(var _ in this.cacheResponseData){var g={},y=this.cacheResponseData[_];g.omsNo=y.omsNo,g.displayWt=y.displayWt,g.linkNode="30",m.push(g)}for(var C in this.cleanOrderList=[],this.count)this.cleanOrderList.push(this.count[C].order);this.params={params:n()(h),labelNo:n()(this.cleanOrderList)},ut(this.params).then(function(a){"1"==a.data.status?(f()("div.uploadImg ul>li").length>0?e.$parent.updateimg():(e.$emit("isLoading_",!1),e.$alert(a.data.Msg,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})),t.$emit("reflash",!0),t.$emit("scanFun",!0)):(e.$emit("isLoading_",!1),e.$alert(a.data.Msg,"提示",{confirmButtonText:"确定"}),t.$emit("scanFun",!0))}).catch(function(t){e.$emit("isLoading_",!1)})}}},Yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commit-footer"},[a("div",{staticClass:"addr_foot"},[a("div",{staticClass:"addr_foot_f"},[a("div",[a("span",[t._v("当前城市：")]),a("span",[t._v(t._s(t.CurrentCity))])]),t._v(" "),a("div",[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",[a("span",[t._v("当前地址：")]),a("span",[t._v(t._s(t.CurrentLocation))])])]),t._v(" "),a("div",{staticClass:"addr_foot_s"},[a("div",{on:{click:t.RefreshPositioning}},[t._v("刷新定位")])])]),t._v(" "),a("div",{staticClass:"left-countbox"},[a("div",{staticClass:"left-count"},[a("div",{staticClass:"top"},[t._v("\n        配载总件数:"),a("i",[t._v(t._s(t.shipmentNum))]),t._v("件\n      ")]),t._v(" "),a("div",{staticClass:"bottom"},[t._v("\n        当前扫描:"),a("i",[t._v(t._s(t.count.length))]),t._v("件\n      ")])]),t._v(" "),a("div",{staticClass:"commit-button-box"},[a("div",{staticClass:"commit-button",on:{click:t.checkForCommit}},[t._v("提交")])]),t._v(" "),a("v-confirm",{ref:"myConfirm",on:{userBehavior:t.userBehaviorFun}})],1),t._v(" "),t.commitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("订单未扫描完，是否提交？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("订单总件数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.actualQty))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前提交数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.count.length))])])]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.commitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.commitPopUpConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.AllCommitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.AllCcommitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.AllCcommitPopUpConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var Kt,Jt=(Kt={name:"ToSendRandomScan",components:{"v-header":st,"v-scan":M,"v-footer":a("VU/8")(Xt,Yt,!1,function(t){a("Ay24")},"data-v-30d469df",null).exports,"v-confirm":et},watch:{},data:function(){return{activeName:"first",headerName:"装车扫描-配载",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],historyLabelNo:[],notScanLabelNo:[],dialogImageUrl:"",dialogVisible:!1,uploadParamsList:[{}],uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,loadingData:!1,linkNode:"",showSliderData:!1,showSliderData01:!1,scanResult:{issuePartyAddr:"--",receivePartyAddr1:"--",orderQty:"--",orderWt:"--",displayWt:"--"},propScanData:"",responseData:{},switchScan:!0,cacheResponseData:[],shipmentCode:"",transportLinks:"",scanNumber:0,actualQty:0,notScanned:[],scanned:[],orderListScanned:[],shipmentNum:0}},mounted:function(){}},Ot()(Kt,"watch",{}),Ot()(Kt,"created",function(){var t=this;if(this.$route.query.transportLinks&&(this.transportLinks=this.$route.query.transportLinks),this.$route.query.actualQty&&(this.actualQty=this.$route.query.actualQty),this.$route.query.shipmentCode){this.shipmentCode=this.$route.query.shipmentCode;var e={shipmentCode:this.shipmentCode,linkNode:"30"};t.httpRequest("shipmentCodeSelectInfo.do",e,function(e){e.data.notScanned?t.notScanned=e.data.notScanned:t.notScanned=[],e.data.scanned?t.scanned=e.data.scanned:t.scanned=[],t.historyLabelNo=[],t.notScanLabelNo=[];for(var a=0;a<t.scanned.length;a++)t.historyLabelNo=t.historyLabelNo.concat(t.scanned[a].waybillNumber);for(var i=0;i<t.notScanned.length;i++)t.notScanLabelNo=t.notScanLabelNo.concat(t.notScanned[i].waybillNumber);t.shipmentNum=parseInt(t.historyLabelNo.length)+parseInt(t.notScanLabelNo.length)})}}),Ot()(Kt,"methods",{updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length;for(var t=0;t<this.orderListScanned.length;t++)this.uploadParamsList[t]={cellphone:this.$store.state.userInfo.cellphone,omsNo:this.orderListScanned[t].order,fileType:"装车扫描",labelNo:"30"},this.$refs.upload_refXH[t].submit()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},switchScanFun:function(t){this.switchScan=!!t},showSearchResult:function(){this.switchScan?this.switchScan=!1:this.switchScan=!0,this.showSliderData&&(this.showSliderData=!1)},userBehaviorFun:function(){},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this;if(0===this.historyLabelNo.length&&0===this.notScanLabelNo.length&&0===this.orderList.length){var a={scanLabel:t,linkNode:this.linkNode,omsNo:e.omsNo};this.getTheOrderNum(a,t)}else e.step0(t).then(function(a){0!==a.length?e.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):e.step1(t).then(function(a){0!==a.length?e.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):e.step2(t).then(function(a){if(0!==a.length){for(var i in e.cacheResponseData)-1!==e.cacheResponseData[i].allOrder.indexOf(t)&&(e.scanResult=e.cacheResponseData[i]);e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t});for(var s=0;s<e.notScanned.length;s++)e.notScanned[s].waybillNumber=e.notScanned[s].waybillNumber.filter(function(a){if(a==t)if(e.orderList.push({order:t,omsno:e.notScanned[s].omsNo,orderBooting:"",time:e.getTheTimeNow()}),e.orderListScanned.length){for(var i=!1,o=0;o<e.orderListScanned.length;o++)e.orderListScanned[o].order==e.notScanned[s].omsNo&&(e.orderListScanned[o].waybillNumber.push(a),i=!0);i||e.orderListScanned.push({order:e.notScanned[s].omsNo,orderBooting:"",time:e.getTheTimeNow(),waybillNumber:[a]})}else e.orderListScanned.push({order:e.notScanned[s].omsNo,orderBooting:"",time:e.getTheTimeNow(),waybillNumber:[a]});return a!==t}),e.notScanned[s].waybillNumber.length<=0&&e.notScanned.splice(s,1)}else e.$refs.message.show("该标签号不属于该配载:"+e.shipmentCode,{type:"alert",confirmText:"确定",titleText:"请注意"})})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this;this.loadingData=!0,this.propScanData=e,ct(t).then(function(t){"1"==t.data.status?(a.loadingData=!1,a.responseData=t.data.data,a.dealConfirmData(a.propScanData)):(a.loadingData=!1,a.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"}))}).catch(function(t){a.loadingData=!1,a.$alert(t,"提示",{confirmButtonText:"确定"})})},dealConfirmData:function(t){var e=this,a=this,i=this.responseData;for(var o in new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}a.historyLabelNo=a.historyLabelNo.concat(i.historySubmitLabelNo),a.notScanLabelNo=a.notScanLabelNo.concat(i.notScanLabelNo),a.historyLabelNo=e(a.historyLabelNo),a.notScanLabelNo=e(a.notScanLabelNo),t(!0)}).then(function(s){s&&a.step1(t).then(function(s){0!==s.length?(a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}),e.orderCodeList=e.distinct(e.orderCodeList,i.omsNo)):a.step2(t).then(function(s){0!==s.length?(e.orderList.push({order:t,orderBooting:i.omsNo,time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t}),e.orderCodeList=e.distinct(e.orderCodeList,i.omsNo)):a.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[o].order)},finishUpload:function(t){var e=this;e.$emit("isLoading_",!1),t=t?","+t:"",this.$alert("扫描保存成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,void this.finishUpload("图片上传失败");parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}),Kt),Zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ToSendRandomScan"},[a("div",{staticClass:"common-box"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1)],1),t._v(" "),a("div",{staticClass:"ToSendRandomScan_orderbox"},[a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-list"},t._l(t.orderListScanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.order)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])}),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refXH",refInFor:!0,attrs:{action:t.HOST+"abnormalUploadImage.do",limit:6,multiple:!0,data:t.uploadParamsList[i],"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.scanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.omsNo)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])})],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.omsNo)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])})],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1)],1)]),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,cacheResponseData:t.cacheResponseData,orderList:t.cleanOrderList,transportLinks:t.transportLinks,actualQty:t.actualQty,shipmentNum:t.shipmentNum},on:{reflash:t.reflashData,scanFun:t.switchScanFun,isLoading_:t.fullscreenLoading}}),t._v(" "),a("v-confirm",{ref:"message"})],1)},staticRenderFns:[]};var te=a("VU/8")(Jt,Zt,!1,function(t){a("wBii")},"data-v-11f0aa2a",null).exports,ee={name:"commit-footer",components:{"v-confirm":et},data:function(){return{params:{params:[],longitude:"",latitude:""},CurrentCity:"",CurrentLocation:"",CurrentDistrict:"",cleanOrderList:[],commitImgDialog:!1,imageUrl:null,imgObj:null,latitude:"",longitude:"",tips_Msg:"",ifTips:!1,commitPopUp_show:!1,AllCommitPopUp_show:!1}},props:["count","orderCount","countData","orderList","cacheResponseData","hideBitch","transportLinks","actualQty","HasLoading","AbHasScanNum","reference10","chargeTypes","shipmentNum"],mounted:function(){this.onPlusReady("e")},methods:{RefreshPositioning:function(){this.onPlusReady("e")},CarrierSelected:function(t){this.CarrierSelecteditem=t},SetCurrAddress:function(t){var e=this,a=JSON.parse(t);if(e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),"0"==a.lng)this.$alert("定位失败","提示",{confirmButtonText:"确定",callback:function(t){e.$router.go(-1)}});else try{AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"}),i=[parseFloat(a.lng),parseFloat(a.lat)];e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),t.getAddress(i,function(t,a){"complete"===t&&"OK"===a.info?(e.CurrentCity=a.regeocode.addressComponent.city?a.regeocode.addressComponent.city:a.regeocode.addressComponent.province,e.CurrentLocation=a.regeocode.formattedAddress,e.CurrentDistrict=a.regeocode.addressComponent.district?a.regeocode.addressComponent.district:a.regeocode.addressComponent.township):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})})}catch(t){e.$alert(t,"提示",{confirmButtonText:"确定"})}},getTheFile:function(t){this.imageUrl=t.url},beforeAvatarUpload:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},closeImgInput:function(){this.commitImgDialog=!1,this.$emit("scanFun",!0)},commitImg:function(){this.commitImgDialog=!1,this.$refs.myConfirm.show("是否提交数据？",{type:"confirm",cancelText:"取消",confirmText:"确定",titleText:"消息提示",data:this.count})},selectFile:function(t){this.imgUrl=t,this.setTheFormData()},setTheFormData:function(){var t=this,e=new FormData;e.append("data",this.imgUrl.srcElement.files[0]),this.imgObj=e.get("data");var a=new FileReader;a.readAsDataURL(e.get("data")),a.onload=function(e){t.$refs.img.src=e.target.result}},userBehaviorFun:function(t,e){"clickCancel"!==t?this.commitData():this.$emit("scanFun",!0)},commitPopUpCancel:function(){this.commitPopUp_show=!1},commitPopUpConfirm:function(){this.commitPopUp_show=!1,this.commitData()},AllCcommitPopUpCancel:function(){this.AllCommitPopUp_show=!1},AllCcommitPopUpConfirm:function(){this.AllCommitPopUp_show=!1,this.commitData()},checkForCommit:function(){0!==this.count.length&&(this.count.length<this.actualQty?this.commitPopUp_show=!0:this.AllCommitPopUp_show=!0)},commitData:function(){var t=this,e=this;this.commitPopUp_show=!1,e.$emit("isLoading_",!0,"拼命加载中"),e.AllCommitPopUp_show=!1;var a=this.$store.state.userInfo.userName,i=this.$store.state.userInfo.cellphone,s=this.$store.state.userInfo.orgnizationId,o=this.$store.state.userInfo.orgnizationName,r=this.longitude,l=this.latitude,c=this.CurrentLocation,d=this.CurrentDistrict,u=this.CurrentCity,h=[];for(var p in this.count){var v={};v.omsNo=this.count[p].omsno,v.labelNo=this.count[p].order,v.linkNode="40",v.scanPerson=a,v.cellphone=i,v.scanTime=this.count[p].time,v.supplierId=s,v.supplierName=o,v.longitude=r,v.latitude=l,v.address=c,v.city=u,v.districict=d,h.push(v)}var m=[];for(var _ in this.cacheResponseData){var g={},y=this.cacheResponseData[_];g.omsNo=y.omsNo,g.displayWt=y.displayWt,g.linkNode="40",m.push(g)}for(var C in this.cleanOrderList=[],this.count)this.cleanOrderList.push(this.count[C].order);this.params={params:n()(h),labelNo:n()(this.cleanOrderList)},ut(this.params).then(function(a){"1"==a.data.status?(f()("div.uploadImg ul>li").length>0?e.$parent.updateimg():(e.$emit("isLoading_",!1),e.$emit("reflash",!0),e.$alert(a.data.Msg,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})),t.$emit("reflash",!0),t.$emit("scanFun",!0)):(e.$emit("isLoading_",!1),e.$alert(a.data.Msg,"提示",{confirmButtonText:"确定"}),t.$emit("scanFun",!0))}).catch(function(t){e.$emit("isLoading_",!1)})}}},ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commit-footer"},[a("div",{staticClass:"addr_foot"},[a("div",{staticClass:"addr_foot_f"},[a("div",[a("span",[t._v("当前城市：")]),a("span",[t._v(t._s(t.CurrentCity))])]),t._v(" "),a("div",[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",[a("span",[t._v("当前地址：")]),a("span",[t._v(t._s(t.CurrentLocation))])])]),t._v(" "),a("div",{staticClass:"addr_foot_s"},[a("div",{on:{click:t.RefreshPositioning}},[t._v("刷新定位")])])]),t._v(" "),a("div",{staticClass:"left-countbox"},[a("div",{staticClass:"left-count"},[a("div",{staticClass:"top"},[t._v("\n          配载总件数:"),a("i",[t._v(t._s(t.shipmentNum))]),t._v("件\n        ")]),t._v(" "),a("div",{staticClass:"bottom"},[t._v("\n          当前扫描:"),a("i",[t._v(t._s(t.count.length))]),t._v("件\n        ")])]),t._v(" "),a("div",{staticClass:"commit-button-box"},[a("div",{staticClass:"commit-button",on:{click:t.checkForCommit}},[t._v("提交")])]),t._v(" "),a("v-confirm",{ref:"myConfirm",on:{userBehavior:t.userBehaviorFun}})],1),t._v(" "),t.commitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("订单未扫描完，是否提交？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("订单总件数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.actualQty))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前提交数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.count.length))])])]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.commitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.commitPopUpConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.AllCommitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.AllCcommitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.AllCcommitPopUpConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var ie,se=(ie={name:"SignRandomScan",components:{"v-header":st,"v-scan":M,"v-footer":a("VU/8")(ee,ae,!1,function(t){a("WY5s")},"data-v-75d9469e",null).exports,"v-confirm":et},watch:{},data:function(){return{activeName:"first",headerName:"签收扫描-配载",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],historyLabelNo:[],notScanLabelNo:[],dialogImageUrl:"",dialogVisible:!1,uploadParamsList:[{}],uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,loadingData:!1,linkNode:"",showSliderData:!1,showSliderData01:!1,scanResult:{issuePartyAddr:"--",receivePartyAddr1:"--",orderQty:"--",orderWt:"--",displayWt:"--"},propScanData:"",responseData:{},switchScan:!0,cacheResponseData:[],shipmentCode:"",transportLinks:"",scanNumber:0,actualQty:0,notScanned:[],scanned:[],orderListScanned:[],shipmentNum:0}},mounted:function(){}},Ot()(ie,"watch",{}),Ot()(ie,"created",function(){this.$route.query.transportLinks&&(this.transportLinks=this.$route.query.transportLinks),this.$route.query.actualQty&&(this.actualQty=this.$route.query.actualQty),this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode,this.querylabellist())}),Ot()(ie,"methods",{querylabellist:function(){var t=this,e={shipmentCode:this.shipmentCode,linkNode:"40"};t.httpRequest("shipmentCodeSelectInfo.do",e,function(e){e.data.notScanned?t.notScanned=e.data.notScanned:t.notScanned=[],e.data.scanned?t.scanned=e.data.scanned:t.scanned=[],t.historyLabelNo=[],t.notScanLabelNo=[];for(var a=0;a<t.scanned.length;a++)t.historyLabelNo=t.historyLabelNo.concat(t.scanned[a].waybillNumber);for(var i=0;i<t.notScanned.length;i++)t.notScanLabelNo=t.notScanLabelNo.concat(t.notScanned[i].waybillNumber);t.shipmentNum=parseInt(t.historyLabelNo.length)+parseInt(t.notScanLabelNo.length)})},updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length;for(var t=0;t<this.orderListScanned.length;t++)this.uploadParamsList[t]={cellphone:this.$store.state.userInfo.cellphone,omsNo:this.orderListScanned[t].order,fileType:"签收",labelNo:"40"},this.$refs.upload_refXH[t].submit()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},switchScanFun:function(t){this.switchScan=!!t},showSearchResult:function(){this.switchScan?this.switchScan=!1:this.switchScan=!0,this.showSliderData&&(this.showSliderData=!1)},userBehaviorFun:function(){},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this;if(0===this.historyLabelNo.length&&0===this.notScanLabelNo.length&&0===this.orderList.length){var a={scanLabel:t,linkNode:this.linkNode,omsNo:e.omsNo};this.getTheOrderNum(a,t)}else e.step0(t).then(function(a){0!==a.length?e.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):e.step1(t).then(function(a){0!==a.length?e.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):e.step2(t).then(function(a){if(0!==a.length){for(var i in e.cacheResponseData)-1!==e.cacheResponseData[i].allOrder.indexOf(t)&&(e.scanResult=e.cacheResponseData[i]);e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t});for(var s=0;s<e.notScanned.length;s++)e.notScanned[s].waybillNumber=e.notScanned[s].waybillNumber.filter(function(a){if(a==t)if(e.orderList.push({order:t,omsno:e.notScanned[s].omsNo,orderBooting:"",time:e.getTheTimeNow()}),e.orderListScanned.length){for(var i=!1,o=0;o<e.orderListScanned.length;o++)e.orderListScanned[o].order==e.notScanned[s].omsNo&&(e.orderListScanned[o].waybillNumber.push(a),i=!0);i||e.orderListScanned.push({order:e.notScanned[s].omsNo,orderBooting:"",time:e.getTheTimeNow(),waybillNumber:[a]})}else e.orderListScanned.push({order:e.notScanned[s].omsNo,orderBooting:"",time:e.getTheTimeNow(),waybillNumber:[a]});return a!==t}),e.notScanned[s].waybillNumber.length<=0&&e.notScanned.splice(s,1)}else e.$refs.message.show("该标签号不属于该配载:"+e.shipmentCode,{type:"alert",confirmText:"确定",titleText:"请注意"})})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this;this.loadingData=!0,this.propScanData=e,ct(t).then(function(t){"1"==t.data.status?(a.loadingData=!1,a.responseData=t.data.data,a.dealConfirmData(a.propScanData)):(a.loadingData=!1,a.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"}))}).catch(function(t){a.loadingData=!1,a.$alert(t,"提示",{confirmButtonText:"确定"})})},dealConfirmData:function(t){var e=this,a=this,i=this.responseData;for(var o in new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}a.historyLabelNo=a.historyLabelNo.concat(i.historySubmitLabelNo),a.notScanLabelNo=a.notScanLabelNo.concat(i.notScanLabelNo),a.historyLabelNo=e(a.historyLabelNo),a.notScanLabelNo=e(a.notScanLabelNo),t(!0)}).then(function(s){s&&a.step1(t).then(function(s){0!==s.length?(a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}),e.orderCodeList=e.distinct(e.orderCodeList,i.omsNo)):a.step2(t).then(function(s){0!==s.length?(e.orderList.push({order:t,orderBooting:i.omsNo,time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t}),e.orderCodeList=e.distinct(e.orderCodeList,i.omsNo)):a.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[o].order)},finishUpload:function(t){var e=this;e.$emit("isLoading_",!1),t=t?","+t:"",this.$alert("扫描保存成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,void this.finishUpload("图片上传失败");parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}),ie),oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SignRandomScan"},[a("div",{staticClass:"common-box"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1)],1),t._v(" "),a("div",{staticClass:"SignRandomScan_orderbox"},[a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-list"},t._l(t.orderListScanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.order)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])}),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refXH",refInFor:!0,attrs:{action:t.HOST+"abnormalUploadImage.do",limit:6,multiple:!0,data:t.uploadParamsList[i],"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.scanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.omsNo)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])})],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.omsNo)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])})],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1)],1)]),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,cacheResponseData:t.cacheResponseData,orderList:t.cleanOrderList,transportLinks:t.transportLinks,actualQty:t.actualQty,shipmentNum:t.shipmentNum},on:{reflash:t.reflashData,scanFun:t.switchScanFun,isLoading_:t.fullscreenLoading}}),t._v(" "),a("v-confirm",{ref:"message"})],1)},staticRenderFns:[]};var ne=a("VU/8")(se,oe,!1,function(t){a("Pt+5")},"data-v-edf9150c",null).exports,re={name:"DepartTakingPictures",data:function(){return{dialogImageUrl:"",dialogVisible:!1,uploadParams:{},tips_Msg:"",ifTips:!1,shipmentCode:"",CurrentLocation:"",CurrentCity:"",CurrentDistrict:"",latitude:"",longitude:"",uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0}},created:function(){this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode),this.onPlusReady("isLoading_")},methods:{submit:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length,this.uploadTotalNum<=0?this.$alert("请上传照片","提示",{confirmButtonText:"确定"}):(this.uploadParams.shipmentCode=this.shipmentCode,this.uploadParams.fileType="发车拍照",this.uploadParams.cellphone=this.$store.state.userInfo.cellphone,this.uploadParams.orgnizationId=this.$store.state.userInfo.orgnizationId,this.uploadParams.longitude=this.longitude,this.uploadParams.latitude=this.latitude,this.uploadParams.city=this.CurrentCity,this.uploadParams.district=this.CurrentDistrict,this.uploadParams.address=this.CurrentLocation,this.$emit("isLoading",!0,"拼命加载中"),this.$refs.upload_refDepart.submit())},SetCurrAddress:function(t){var e=this,a=JSON.parse(t);if(e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),"0"==a.lng)e.$emit("isLoading_",!1),this.$alert("定位失败","提示",{confirmButtonText:"确定",callback:function(t){e.$router.go(-1)}});else try{AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"}),i=[parseFloat(a.lng),parseFloat(a.lat)];e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),t.getAddress(i,function(t,a){e.$emit("isLoading_",!1),"complete"===t&&"OK"===a.info?(e.CurrentCity=a.regeocode.addressComponent.city?a.regeocode.addressComponent.city:a.regeocode.addressComponent.province,e.CurrentLocation=a.regeocode.formattedAddress,e.CurrentDistrict=a.regeocode.addressComponent.district?a.regeocode.addressComponent.district:a.regeocode.addressComponent.township):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})})}catch(t){e.$emit("isLoading_",!1),e.$alert(t,"提示",{confirmButtonText:"确定"})}},finishUpload:function(t){var e=this;e.$emit("isLoading",!1),this.$alert(t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("图片上传成功")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.$emit("isLoading",!1),this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}},le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"DepartTakingPictures"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:function(e){return t.$router.back(-1)}}}),a("span",[t._v("提货-发车拍照")])]),t._v(" "),a("div",{staticClass:"container borderLine"},[a("div",[a("span",[t._v("配载单号：")]),a("span",[t._v(t._s(t.shipmentCode))])]),t._v(" "),a("div",[a("span",[t._v("当前城市：")]),a("span",[t._v(t._s(t.CurrentCity))])]),t._v(" "),a("div",[a("span",[t._v("当前区县：")]),a("span",[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",[a("span",[t._v("当前位置：")]),a("span",[t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("拍照上传")]),t._v(" "),a("div",[a("el-upload",{ref:"upload_refDepart",attrs:{action:t.HOST+"shipmentCodeUploadImage.do",limit:6,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-preview":t.handlePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])]),t._v(" "),a("div",{staticClass:"submitBtn"},[a("p",{staticClass:"g_signBtn",on:{click:t.submit}},[t._v("提交")])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var ce=a("VU/8")(re,le,!1,function(t){a("PpkV")},"data-v-e560e884",null).exports,de={name:"DepartTakingPictures",data:function(){return{dialogImageUrl:"",dialogVisible:!1,uploadParams:{},tips_Msg:"",ifTips:!1,shipmentCode:"",CurrentLocation:"",CurrentCity:"",CurrentDistrict:"",latitude:"",longitude:"",uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0}},created:function(){this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode),this.onPlusReady("isLoading_")},methods:{submit:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length,this.uploadTotalNum<=0?this.$alert("请上传照片","提示",{confirmButtonText:"确定"}):(this.uploadParams.shipmentCode=this.shipmentCode,this.uploadParams.fileType="卸车拍照",this.uploadParams.cellphone=this.$store.state.userInfo.cellphone,this.uploadParams.orgnizationId=this.$store.state.userInfo.orgnizationId,this.uploadParams.longitude=this.longitude,this.uploadParams.latitude=this.latitude,this.uploadParams.city=this.CurrentCity,this.uploadParams.district=this.CurrentDistrict,this.uploadParams.address=this.CurrentLocation,this.$emit("isLoading",!0,"拼命加载中"),this.$refs.upload_refUnload.submit())},SetCurrAddress:function(t){var e=this,a=JSON.parse(t);if(e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),"0"==a.lng)e.$emit("isLoading_",!1),this.$alert("定位失败","提示",{confirmButtonText:"确定",callback:function(t){e.$router.go(-1)}});else try{AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"}),i=[parseFloat(a.lng),parseFloat(a.lat)];e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),t.getAddress(i,function(t,a){e.$emit("isLoading_",!1),"complete"===t&&"OK"===a.info?(e.CurrentCity=a.regeocode.addressComponent.city?a.regeocode.addressComponent.city:a.regeocode.addressComponent.province,e.CurrentLocation=a.regeocode.formattedAddress,e.CurrentDistrict=a.regeocode.addressComponent.district?a.regeocode.addressComponent.district:a.regeocode.addressComponent.township):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})})}catch(t){e.$emit("isLoading_",!1),e.$alert(t,"提示",{confirmButtonText:"确定"})}},finishUpload:function(t){var e=this;e.$emit("isLoading",!1),this.$alert(t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("图片上传成功")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.$emit("isLoading",!1),this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}},ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"DepartTakingPictures"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:function(e){return t.$router.back(-1)}}}),a("span",[t._v("提货-卸车拍照")])]),t._v(" "),a("div",{staticClass:"container borderLine"},[a("div",[a("span",[t._v("配载单号：")]),a("span",[t._v(t._s(t.shipmentCode))])]),t._v(" "),a("div",[a("span",[t._v("当前城市：")]),a("span",[t._v(t._s(t.CurrentCity))])]),t._v(" "),a("div",[a("span",[t._v("当前区县：")]),a("span",[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",[a("span",[t._v("当前位置：")]),a("span",[t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("拍照上传")]),t._v(" "),a("div",[a("el-upload",{ref:"upload_refUnload",attrs:{action:t.HOST+"shipmentCodeUploadImage.do",limit:6,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-preview":t.handlePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])]),t._v(" "),a("div",{staticClass:"submitBtn"},[a("p",{staticClass:"g_signBtn",on:{click:t.submit}},[t._v("提交")])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var he=a("VU/8")(de,ue,!1,function(t){a("9vvk")},"data-v-31d83362",null).exports,pe={name:"commit-footer",components:{"v-confirm":et},data:function(){return{params:{params:[],longitude:"",latitude:""},CurrentCity:"",CurrentLocation:"",CurrentDistrict:"",cleanOrderList:[],commitImgDialog:!1,imageUrl:null,imgObj:null,BatchCommit_show:!1,BatchCommitNumber:"",latitude:"",longitude:"",tips_Msg:"",ifTips:!1,SelectDelivery_show:!1,crruentconfirm:"",deliveryMethod_crru:"",forwardSupplier_crru:"",forwardSupplierId_crru:"",CarrierList:[],CarrierSelection_show:!1,CarrierSelecteditem:0,commitPopUp_show:!1,AllCommitPopUp_show:!1}},props:["count","orderCount","countData","orderList","cacheResponseData","deliveryId","transportLinks","actualQty","omsNo","orderId","HasLoading","abnormalscan","AbHasScanNum","deliveryMethod","forwardSupplier","forwardSupplierId","reference10","chargeTypes"],mounted:function(){this.onPlusReady("e"),this.deliveryMethod_crru=this.deliveryMethod,this.forwardSupplier_crru=this.forwardSupplier,this.forwardSupplierId_crru=this.forwardSupplierId},methods:{RefreshPositioning:function(){this.onPlusReady("e")},CarrierSelected:function(t){this.CarrierSelecteditem=t},CarrierSelectionCancel:function(){this.CarrierSelection_show=!1},CarrierSelectionConfirm:function(){this.CarrierList.length&&(this.forwardSupplier_crru=this.CarrierList[this.CarrierSelecteditem].forwardSupplier,this.forwardSupplierId_crru=this.CarrierList[this.CarrierSelecteditem].forwardSupplierId),this.CarrierSelection_show=!1},SetCurrAddress:function(t){var e=this,a=JSON.parse(t);if(e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),"0"==a.lng)this.$alert("定位失败","提示",{confirmButtonText:"确定",callback:function(t){e.$router.go(-1)}});else try{AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"}),i=[parseFloat(a.lng),parseFloat(a.lat)];e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),t.getAddress(i,function(t,a){e.$emit("isLoading_",!1),"complete"===t&&"OK"===a.info?(e.CurrentCity=a.regeocode.addressComponent.city?a.regeocode.addressComponent.city:a.regeocode.addressComponent.province,e.CurrentLocation=a.regeocode.formattedAddress,e.CurrentDistrict=a.regeocode.addressComponent.district?a.regeocode.addressComponent.district:a.regeocode.addressComponent.township):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})})}catch(t){e.$alert(t,"提示",{confirmButtonText:"确定"})}},DeliverySelect:function(t){this.deliveryMethod_crru=t},SelectCarrier:function(){var t=this;if("ZK"!=t.reference10){if(this.CarrierList.length){for(var e=0;e<t.CarrierList.length;e++)if(t.CarrierList[e].forwardSupplierId==t.forwardSupplierId_crru){t.CarrierSelecteditem=e;break}}else{t.httpRequest("queryOrgnization.do",{},function(e){t.CarrierList=e.data;for(var a=0;a<t.CarrierList.length;a++)if(t.CarrierList[a].forwardSupplierId==t.forwardSupplierId_crru){t.CarrierSelecteditem=a;break}},"isLoading_")}this.CarrierSelection_show=!0}else alert("该订单的转寄承运商只能为SF")},DeliveryBoxCancel:function(){this.SelectDelivery_show=!1},DeliveryBoxConfirm:function(){var t=this;if("ZK"==t.reference10&&"到付现结"==t.chargeTypes&&f()("div.uploadImg ul>li").length<1)alert("请拍摄接收货物的顺丰小哥工牌照片");else if("批量"==t.crruentconfirm){t.$emit("isLoading_",!0,"拼命加载中"),"直送"==t.deliveryMethod_crru&&(t.forwardSupplier_crru="",t.forwardSupplierId_crru="");var e=this.$route.path,a="",i=this.$store.state.userInfo.userName,s=this.$store.state.userInfo.cellphone,o=this.$store.state.userInfo.orgnizationId,r=this.$store.state.userInfo.orgnizationName,l=this.longitude,c=this.latitude,d=this.CurrentLocation,u=this.CurrentDistrict,h=this.CurrentCity,p=this.deliveryMethod_crru,v=this.forwardSupplier_crru,m=this.forwardSupplierId_crru;switch(e){case"/DeliveryScanXH":case"/DeliveryScan":a="10";break;case"/TransitScan":a="20";break;case"/DeliveryOrderPickScan":a="30";break;case"/AbnormalScan":case"/ReceiptScan":a="40";break;default:a="10"}var _=[];for(var g in this.count){var y={};y.omsNo=t.omsNo,y.orderId=t.orderId,t.abnormalscan&&(y.abnormalscan="T",y.ifbatch="T"),y.labelNo=this.count[g].order,y.linkNode=a,y.scanPerson=i,y.cellphone=s,y.scanTime=this.count[g].time,y.supplierId=o,y.supplierName=r,y.longitude=l,y.latitude=c,y.address=d,y.city=h,y.districict=u,y.deliveryMethod=p,y.forwardSupplier=v,y.forwardSupplierId=m,_.push(y)}var C=[];for(var b in this.cacheResponseData){var L={},N=this.cacheResponseData[b];L.omsNo=N.omsNo,L.displayWt=N.displayWt,L.linkNode=a,C.push(L)}for(var S in this.cleanOrderList=[],this.count)this.cleanOrderList.push(this.count[S].order);this.params={params:n()(_),labelNo:n()(this.cleanOrderList),deliveryId:t.deliveryId},t.uploadTotalNum=f()("div.uploadImg ul>li").length,dt(this.params).then(function(e){"1"==e.data.status?t.BatchCommitConfirmitem():(t.$alert(e.data.Msg,"提示",{confirmButtonText:"确定"}),t.$emit("isLoading_",!1),t.$emit("scanFun",!0))}).catch(function(e){t.$emit("isLoading_",!1)})}else this.commitData()},BatchCommit:function(){0!==this.count.length&&(this.BatchCommit_show=!0,this.crruentconfirm="批量",this.$emit("scanFun",!1))},BatchCommitCancel:function(){this.BatchCommit_show=!1,this.$emit("scanFun",!0)},BatchCommitConfirmitem:function(){var t=this,e="";switch(this.$route.path){case"/DeliveryScanXH":case"/DeliveryScan":e="10";break;case"/TransitScan":e="20";break;case"/DeliveryOrderPickScan":e="30";break;case"/AbnormalScan":case"/ReceiptScan":e="40";break;default:e="10"}if("直送"==t.deliveryMethod_crru&&(t.forwardSupplier_crru="",t.forwardSupplierId_crru=""),t.abnormalscan)var a={deliveryId:t.deliveryId,labelNumber:t.BatchCommitNumber,transportLinks:e,abnormalscan:"T",scanPerson:t.$store.state.userInfo.userName,address:t.CurrentLocation,latitude:t.latitude,longitude:t.longitude,city:t.CurrentCity,districict:t.CurrentDistrict,cellphone:t.$store.state.userInfo.cellphone,supplierId:t.$store.state.userInfo.orgnizationId,supplierName:t.$store.state.userInfo.orgnizationName,deliveryMethod:t.deliveryMethod_crru,forwardSupplier:t.forwardSupplier_crru,forwardSupplierId:t.forwardSupplierId_crru};else a={deliveryId:t.deliveryId,labelNumber:t.BatchCommitNumber,transportLinks:e,scanPerson:t.$store.state.userInfo.userName,address:t.CurrentLocation,latitude:t.latitude,longitude:t.longitude,city:t.CurrentCity,districict:t.CurrentDistrict,cellphone:t.$store.state.userInfo.cellphone,supplierId:t.$store.state.userInfo.orgnizationId,supplierName:t.$store.state.userInfo.orgnizationName,deliveryMethod:t.deliveryMethod_crru,forwardSupplier:t.forwardSupplier_crru,forwardSupplierId:t.forwardSupplierId_crru};v.a.post(t.HOST+"batchScanLabel.do",{params:n()(a)}).then(function(e){var a;"1"==e.data.status?f()("div.uploadImg ul>li").length>0?t.$parent.updateimg():(t.$emit("isLoading_",!1),t.ifTips=!0,t.tips_Msg="批量提交成功",setTimeout(function(){t.ifTips=!1,t.$router.back(-1)},1500)):(t.$emit("isLoading_",!1),a=e.data.Msg?e.data.Msg:"批量提交失败",t.$emit("reflash",!0),t.$emit("scanFun",!0),t.$alert(a,"提示",{confirmButtonText:"确定"}))}).catch(function(e){t.$emit("isLoading_",!1),t.$emit("reflash",!0),t.$emit("scanFun",!0),t.$alert("批量提交失败","提示",{confirmButtonText:"确定"})})},BatchCommitConfirmbefore:function(){if(this.BatchCommitNumber)if("NaN"==parseInt(this.BatchCommitNumber).toString()||parseInt(this.BatchCommitNumber)<0||this.BatchCommitNumber!=parseInt(this.BatchCommitNumber))this.$alert("请输入正整数","提示",{confirmButtonText:"确定",callback:function(){}});else{if(this.HasLoading){if(this.BatchCommitNumber>this.HasLoading)return void this.$alert("批量扫描件数不能超过已装车件数","提示",{confirmButtonText:"确定",callback:function(){}})}else if(this.abnormalscan){if(this.BatchCommitNumber>this.actualQty-this.AbHasScanNum)return void this.$alert("批量扫描件数不能超过剩余待签收数量","提示",{confirmButtonText:"确定",callback:function(){}})}else if(this.BatchCommitNumber>this.actualQty)return void this.$alert("批量提交数量不能超过订单总件数","提示",{confirmButtonText:"确定",callback:function(){}});this.AllCommitPopUp_show=!0}},BatchCommitConfirm:function(){var t=this;t.$emit("isLoading_",!0,"拼命加载中"),"直送"==t.deliveryMethod_crru&&(t.forwardSupplier_crru="",t.forwardSupplierId_crru="");var e=this.$route.path,a="",i=this.$store.state.userInfo.userName,s=this.$store.state.userInfo.cellphone,o=this.$store.state.userInfo.orgnizationId,r=this.$store.state.userInfo.orgnizationName,l=this.longitude,c=this.latitude,d=this.CurrentLocation,u=this.CurrentDistrict,h=this.CurrentCity,p=this.deliveryMethod_crru,v=this.forwardSupplier_crru,m=this.forwardSupplierId_crru;switch(e){case"/DeliveryScanXH":case"/DeliveryScan":a="10";break;case"/TransitScan":a="20";break;case"/DeliveryOrderPickScan":a="30";break;case"/AbnormalScan":case"/ReceiptScan":a="40";break;default:a="10"}var _=[];for(var g in this.count){var y={};y.omsNo=t.omsNo,y.orderId=t.orderId,t.abnormalscan&&(y.abnormalscan="T",y.ifbatch="T"),y.labelNo=this.count[g].order,y.linkNode=a,y.scanPerson=i,y.cellphone=s,y.scanTime=this.count[g].time,y.supplierId=o,y.supplierName=r,y.longitude=l,y.latitude=c,y.address=d,y.city=h,y.districict=u,y.deliveryMethod=p,y.forwardSupplier=v,y.forwardSupplierId=m,_.push(y)}var C=[];for(var b in this.cacheResponseData){var L={},N=this.cacheResponseData[b];L.omsNo=N.omsNo,L.displayWt=N.displayWt,L.linkNode=a,C.push(L)}for(var S in this.cleanOrderList=[],this.count)this.cleanOrderList.push(this.count[S].order);this.params={params:n()(_),labelNo:n()(this.cleanOrderList),deliveryId:t.deliveryId},t.uploadTotalNum=f()("div.uploadImg ul>li").length,dt(this.params).then(function(e){"1"==e.data.status?t.BatchCommitConfirmitem():(t.$alert(e.data.Msg,"提示",{confirmButtonText:"确定"}),t.$emit("isLoading_",!1),t.$emit("scanFun",!0))}).catch(function(e){t.$emit("isLoading_",!1)})},getTheFile:function(t){this.imageUrl=t.url},beforeAvatarUpload:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},closeImgInput:function(){this.commitImgDialog=!1,this.$emit("scanFun",!0)},commitImg:function(){this.commitImgDialog=!1,this.$refs.myConfirm.show("是否提交数据？",{type:"confirm",cancelText:"取消",confirmText:"确定",titleText:"消息提示",data:this.count})},selectFile:function(t){this.imgUrl=t,this.setTheFormData()},setTheFormData:function(){var t=this,e=new FormData;e.append("data",this.imgUrl.srcElement.files[0]),this.imgObj=e.get("data");var a=new FileReader;a.readAsDataURL(e.get("data")),a.onload=function(e){t.$refs.img.src=e.target.result}},userBehaviorFun:function(t,e){"clickCancel"!==t?this.commitData():this.$emit("scanFun",!0)},commitPopUpCancel:function(){this.commitPopUp_show=!1},commitPopUpConfirm:function(){"/ReceiptScan"==this.$route.path||"/AbnormalScan"==this.$route.path?(this.commitPopUp_show=!1,this.SelectDelivery_show=!0):this.commitData()},AllCcommitPopUpCancel:function(){this.AllCommitPopUp_show=!1},AllCcommitPopUpConfirm:function(){"/ReceiptScan"==this.$route.path||"/AbnormalScan"==this.$route.path?(this.AllCommitPopUp_show=!1,this.SelectDelivery_show=!0):"批量"==this.crruentconfirm?this.BatchCommitConfirm():this.commitData()},checkForCommit:function(){if(0!==this.count.length){if(this.crruentconfirm="提交","/ReceiptScan"==this.$route.path||"/AbnormalScan"==this.$route.path)return void(this.count.length<this.actualQty?this.commitPopUp_show=!0:this.AllCommitPopUp_show=!0);if(this.count.length<this.actualQty)return void(this.commitPopUp_show=!0);this.AllCommitPopUp_show=!0,this.$emit("scanFun",!1)}},commitData:function(){var t=this,e=this;this.commitPopUp_show=!1,e.$emit("isLoading_",!0,"拼命加载中"),this.SelectDelivery_show=!1,e.AllCommitPopUp_show=!1,"直送"==e.deliveryMethod_crru&&(e.forwardSupplier_crru="",e.forwardSupplierId_crru="");var a=this.$route.path,i="",s=this.$store.state.userInfo.userName,o=this.$store.state.userInfo.cellphone,r=this.$store.state.userInfo.orgnizationId,l=this.$store.state.userInfo.orgnizationName,c=this.longitude,d=this.latitude,u=this.CurrentLocation,h=this.CurrentDistrict,p=this.CurrentCity,v=this.deliveryMethod_crru,m=this.forwardSupplier_crru,_=this.forwardSupplierId_crru;switch(a){case"/DeliveryScanXH":case"/DeliveryScan":i="10";break;case"/TransitScan":i="20";break;case"/DeliveryOrderPickScan":i="30";break;case"/AbnormalScan":case"/ReceiptScan":i="40";break;default:i="10"}var g=[];for(var y in this.count){var C={};C.omsNo=e.omsNo,C.orderId=e.orderId,e.abnormalscan&&(C.abnormalscan="T"),C.labelNo=this.count[y].order,C.linkNode=i,C.scanPerson=s,C.cellphone=o,C.scanTime=this.count[y].time,C.supplierId=r,C.supplierName=l,C.longitude=c,C.latitude=d,C.address=u,C.city=p,C.districict=h,C.deliveryMethod=v,C.forwardSupplier=m,C.forwardSupplierId=_,g.push(C)}var b=[];for(var L in this.cacheResponseData){var N={},S=this.cacheResponseData[L];N.omsNo=S.omsNo,N.displayWt=S.displayWt,N.linkNode=i,b.push(N)}for(var I in this.cleanOrderList=[],this.count)this.cleanOrderList.push(this.count[I].order);this.params={params:n()(g),labelNo:n()(this.cleanOrderList),deliveryId:e.deliveryId},dt(this.params).then(function(a){e.$emit("isLoading_",!1),"1"==a.data.status?(f()("div.uploadImg ul>li").length>0?e.$parent.updateimg():e.$alert(a.data.Msg,"提示",{confirmButtonText:"确定"}),t.$emit("reflash",!0),t.$emit("scanFun",!0)):(e.$alert(a.data.Msg,"提示",{confirmButtonText:"确定"}),t.$emit("scanFun",!0))}).catch(function(t){e.$emit("isLoading_",!1)})}}},ve={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commit-footer"},[a("div",{staticClass:"addr_foot"},[a("div",{staticClass:"addr_foot_f"},[a("div",[a("span",[t._v("当前城市：")]),a("span",[t._v(t._s(t.CurrentCity))])]),t._v(" "),a("div",[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",[a("span",[t._v("当前地址：")]),a("span",[t._v(t._s(t.CurrentLocation))])])]),t._v(" "),a("div",{staticClass:"addr_foot_s"},[a("div",{on:{click:t.RefreshPositioning}},[t._v("刷新定位")])])]),t._v(" "),a("div",{staticClass:"left-countbox"},[a("div",{staticClass:"left-count"},[a("div",{staticClass:"top"},[t._v("\n        订单总件数:"),a("i",[t._v(t._s(t.actualQty))]),t._v("件\n      ")]),t._v(" "),t.abnormalscan?a("div",{staticClass:"top"},[t._v("\n        已签收数量:"),a("i",[t._v(t._s(t.AbHasScanNum))]),t._v("件\n      ")]):t._e(),t._v(" "),a("div",{staticClass:"bottom"},[t._v("\n        当前扫描:"),a("i",[t._v(t._s(t.count.length))]),t._v("件\n      ")])]),t._v(" "),t.abnormalscan?a("div",{staticClass:"commit-button-box"},[a("div",{staticClass:"commit-button BatchCommit",on:{click:t.BatchCommit}},[t._v("批量提交")]),t._v(" "),a("div",{staticClass:"commit-button",on:{click:t.checkForCommit}},[t._v("提交")])]):t._e(),t._v(" "),t.abnormalscan?t._e():a("div",{staticClass:"commit-button-box"},[t.abnormalscan?t._e():a("div",{staticClass:"commit-button BatchCommit",on:{click:t.BatchCommit}},[t._v("批量提交")]),t._v(" "),t.abnormalscan?t._e():a("div",{staticClass:"commit-button",on:{click:t.checkForCommit}},[t._v("提交")])]),t._v(" "),a("v-confirm",{ref:"myConfirm",on:{userBehavior:t.userBehaviorFun}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.BatchCommit_show,expression:"BatchCommit_show"}],staticClass:"BatchCommitPopBox"},[a("div",{staticClass:"BatchCommit_"},[a("div",{staticClass:"BatchCommit_head"},[t._v("请填写要批量提交的数量")]),t._v(" "),a("div",{staticClass:"BatchCommit_info"},[a("span",[t._v("订单总件数：")]),a("span",[t._v(t._s(t.actualQty))])]),t._v(" "),t.HasLoading?a("div",{staticClass:"BatchCommit_info"},[a("span",[t._v("已装车件数：")]),a("span",[t._v(t._s(t.HasLoading))])]):t._e(),t._v(" "),a("div",{staticClass:"BatchCommit_content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.BatchCommitNumber,expression:"BatchCommitNumber"}],attrs:{type:"number",pattern:"[0-9]*"},domProps:{value:t.BatchCommitNumber},on:{input:function(e){e.target.composing||(t.BatchCommitNumber=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"BatchCommit_btn"},[a("div",{staticClass:"commit-button",on:{click:t.BatchCommitCancel}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"commit-button",on:{click:t.BatchCommitConfirmbefore}},[t._v("批量提交")])])])]),t._v(" "),t.SelectDelivery_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head"},[t._v("请选择派件方式")]),t._v(" "),a("div",{staticClass:"DeliveryBox_content"},["ZK"!=t.reference10||"到付现结"!=t.chargeTypes?a("div",{class:{DeliveryBox_content_active:"直送"==t.deliveryMethod_crru},on:{click:function(e){return t.DeliverySelect("直送")}}},[a("span",[t._v("直送")]),"直送"==t.deliveryMethod_crru?a("i",{staticClass:"iconfont icon-duigou"}):t._e()]):t._e(),t._v(" "),a("div",{class:{DeliveryBox_content_active:"转寄"==t.deliveryMethod_crru},on:{click:function(e){return t.DeliverySelect("转寄")}}},[a("span",[t._v("转寄")]),"转寄"==t.deliveryMethod_crru?a("i",{staticClass:"iconfont icon-duigou"}):t._e()])]),t._v(" "),"转寄"==t.deliveryMethod_crru?a("div",{staticClass:"DeliveryBox_input",on:{click:t.SelectCarrier}},[a("span",[t._v("转寄承运商：")]),t._v(" "),a("span",[t._v(t._s(t.forwardSupplier_crru))]),t._v(" "),a("i",{staticClass:"iconfont icon-xiangshang"})]):t._e(),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.DeliveryBoxCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.DeliveryBoxConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.CarrierSelection_show?a("div",{staticClass:"CarrierSelection"},[a("div",{staticClass:"CarrierSelectionBox"},[a("div",{staticClass:"CarrierSelection_head"},[t._v("请选择转寄承运商")]),t._v(" "),a("div",{staticClass:"CarrierSelection_content"},t._l(t.CarrierList,function(e,i){return a("div",{key:i,class:{CarrierSelection_active:t.CarrierSelecteditem==i},attrs:{id:i},on:{click:function(e){return t.CarrierSelected(i)}}},[t._v(t._s(e.forwardSupplier))])}),0),t._v(" "),a("div",{staticClass:"CarrierSelection_bottom"},[a("div",[a("span",{on:{click:t.CarrierSelectionCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.CarrierSelectionConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.commitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("订单未扫描完，是否提交？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("订单总件数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.actualQty))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前提交数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.count.length))])])]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.commitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.commitPopUpConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.AllCommitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.AllCcommitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.AllCcommitPopUpConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var me=a("VU/8")(pe,ve,!1,function(t){a("7miW")},"data-v-21a83632",null).exports,fe={name:"delivery-scan",components:{"v-header":st,"v-scan":M,"v-footer":me,"v-confirm":et},watch:{},data:function(){return{test:"",activeName:"first",headerName:"提货扫描",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],scanLabelNo:[],historyLabelNo:[],notScanLabelNo:[],dialogImageUrl:"",dialogVisible:!1,uploadParams:{},uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,loadingData:!1,linkNode:"",showSliderData:!1,showSliderData01:!1,scanResult:{issuePartyAddr:"--",receivePartyAddr1:"--",orderQty:"--",orderWt:"--",displayWt:"--"},propScanData:"",responseData:{},switchScan:!0,testData:{},cacheResponseData:[],shipmentCode:"",omsNo:"",orderId:"",deliveryId:"",transportLinks:"",scanNumber:0,actualQty:0}},mounted:function(){switch(this.$route.path){case"/DeliveryScanXH":case"/DeliveryScan":this.linkNode="10";break;case"/TransitScan":this.linkNode="20";break;case"/DeliveryOrderPickScan":this.linkNode="30";break;case"/ReceiptScan":this.linkNode="40";break;default:this.linkNode="10"}var t=this;f()(".LoadImg_conentul ul.el-upload-list+div").click(function(e){event.stopPropagation(),t.switchScanFun(!1)})},created:function(){var t=this;this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode),this.$route.query.deliveryId&&(this.deliveryId=this.$route.query.deliveryId),this.$route.query.omsNo&&(this.omsNo=this.$route.query.omsNo),this.$route.query.orderId&&(this.orderId=this.$route.query.orderId),this.$route.query.transportLinks&&(this.transportLinks=this.$route.query.transportLinks),this.$route.query.actualQty&&(this.actualQty=this.$route.query.actualQty),this.$route.query.scanNumber&&(this.scanNumber=this.$route.query.scanNumber,t.scanNumber>0&&t.$confirm("该订单历史扫描记录将被删除、重新扫描,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={omsNo:t.omsNo,linkNode:10};t.$emit("isLoading",!0,"拼命加载中"),v.a.post(t.HOST+"deleteOrderScanLabel.do",{params:n()(e)}).then(function(e){var a;(t.$emit("isLoading",!1),"1"==e.data.status)||(a=e.data.Msg?e.data.Msg:"请求失败",alert(a),t.$router.back(-1))}).catch(function(e){t.$emit("isLoading",!1),alert("请求失败"),t.$router.back(-1)})}).catch(function(){t.$router.back(-1)}))},methods:{updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length,this.uploadParams.omsNo=this.omsNo,this.uploadParams.fileType="装车扫描",this.uploadParams.labelNo="10",this.$refs.upload_refXH.submit()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},switchScanFun:function(t){this.switchScan=!!t},showSearchResult:function(){this.switchScan?this.switchScan=!1:this.switchScan=!0,this.showSliderData&&(this.showSliderData=!1)},userBehaviorFun:function(){},deleteItem:function(t){this.orderList=this.orderList.filter(function(e){return e.order!==t});var e,a=[];for(var i in this.orderList)a.push(this.orderList[i].orderBooting);for(var s in this.orderCodeList=(e=a,Mt()(new Wt.a(e))),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[s].order)},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.scanLabelNo=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this,a=this;if(0===this.historyLabelNo.length&&0===this.notScanLabelNo.length&&0===this.orderList.length){var i={scanLabel:t,linkNode:this.linkNode,omsNo:a.omsNo};this.getTheOrderNum(i,t)}else a.step0(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step1(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step2(t).then(function(i){if(0!==i.length){for(var s in a.cacheResponseData)-1!==a.cacheResponseData[s].allOrder.indexOf(t)&&(a.scanResult=a.cacheResponseData[s]);e.orderList.push({order:t,orderBooting:"",time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t})}else{var o={scanLabel:t,linkNode:e.linkNode,omsNo:a.omsNo};e.getTheOrderNum(o,t)}})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this;this.loadingData=!0,this.propScanData=e,ct(t).then(function(t){"1"==t.data.status?(a.loadingData=!1,a.responseData=t.data.data,a.dealConfirmData(a.propScanData)):(a.loadingData=!1,a.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"}))}).catch(function(t){a.loadingData=!1,a.$alert(t,"提示",{confirmButtonText:"确定"})})},confirmResult:function(){var t=this;this.dealConfirmData(this.propScanData),this.$refs.form.validate(function(e){if(e)for(var a in t.cacheResponseData)t.cacheResponseData[a].omsNo===t.scanResult.omsNo&&(t.cacheResponseData[a].displayWt=t.scanResult.displayWt)})},confirmResult01:function(){var t=this;this.showSliderData01=!1,this.switchScan=!0,this.$refs.form.validate(function(e){if(e)for(var a in t.cacheResponseData)t.cacheResponseData[a].omsNo===t.scanResult.omsNo&&(t.cacheResponseData[a].displayWt=t.scanResult.displayWt)})},dealConfirmData:function(t){var e=this,a=this,i=this.responseData;for(var o in new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}a.historyLabelNo=a.historyLabelNo.concat(i.historySubmitLabelNo),a.notScanLabelNo=a.notScanLabelNo.concat(i.notScanLabelNo),a.historyLabelNo=e(a.historyLabelNo),a.notScanLabelNo=e(a.notScanLabelNo),t(!0)}).then(function(s){s&&a.step1(t).then(function(s){0!==s.length?(a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}),e.orderCodeList=e.distinct(e.orderCodeList,i.omsNo)):a.step2(t).then(function(s){0!==s.length?(e.orderList.push({order:t,orderBooting:i.omsNo,time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t}),e.orderCodeList=e.distinct(e.orderCodeList,i.omsNo)):a.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[o].order)},finishUpload:function(t){var e=this;e.$emit("isLoading_",!1),t=t?","+t:"",this.$alert("扫描保存成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}},_e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"coc"},[a("div",{staticClass:"common-box"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1)],1),t._v(" "),a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-header"},[t._v("\n          运单号("+t._s(t.orderList.length)+")\n        ")]),t._v(" "),a("div",{staticClass:"order-list"},t._l(t.orderList,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e.order)+"\n            ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.historyLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("拍照上传")]),t._v(" "),a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refXH",attrs:{action:t.HOST+"abnormalUploadImage.do",limit:4,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])],1),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,cacheResponseData:t.cacheResponseData,orderList:t.cleanOrderList,deliveryId:t.deliveryId,transportLinks:t.transportLinks,actualQty:t.actualQty,omsNo:t.omsNo,orderId:t.orderId},on:{reflash:t.reflashData,scanFun:t.switchScanFun,isLoading_:t.fullscreenLoading}}),t._v(" "),a("v-confirm",{ref:"message"})],1)},staticRenderFns:[]};var ge=a("VU/8")(fe,_e,!1,function(t){a("Xf70")},"data-v-ccdb8a96",null).exports,ye={name:"delivery-scan",components:{"v-header":st,"v-scan":M,"v-footer":me,"v-confirm":et},watch:{},data:function(){return{test:"",activeName:"first",headerName:"提货扫描(拍照)",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],scanLabelNo:[],historyLabelNo:[],notScanLabelNo:[],loadingData:!1,linkNode:"",showSliderData:!1,showSliderData01:!1,scanResult:{issuePartyAddr:"--",receivePartyAddr1:"--",orderQty:"--",orderWt:"--",displayWt:"--"},propScanData:"",responseData:{},switchScan:!0,testData:{},cacheResponseData:[]}},mounted:function(){switch(this.$route.path){case"/DeliveryScanXH":case"/DeliveryScan":this.linkNode="10";break;case"/TransitScan":this.linkNode="20";break;case"/DeliveryOrderPickScan":this.linkNode="30";break;case"/ReceiptScan":this.linkNode="40";break;default:this.linkNode="10"}},created:function(){this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode)},methods:{switchScanFun:function(t){this.switchScan=!!t},showSearchResult:function(){this.switchScan?this.switchScan=!1:this.switchScan=!0,this.showSliderData?this.showSliderData=!1:this.showSliderData=!0},userBehaviorFun:function(){},deleteItem:function(t){this.orderList=this.orderList.filter(function(e){return e.order!==t});var e,a=[];for(var i in this.orderList)a.push(this.orderList[i].orderBooting);for(var s in this.orderCodeList=(e=a,Mt()(new Wt.a(e))),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[s].order)},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.scanLabelNo=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this,a=this;if(0===this.historyLabelNo.length&&0===this.notScanLabelNo.length&&0===this.orderList.length){var i={scanLabel:t,linkNode:this.linkNode,shipmentCode:a.shipmentCode};this.getTheOrderNum(i,t)}else a.step0(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step1(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step2(t).then(function(i){if(0!==i.length){for(var s in a.cacheResponseData)-1!==a.cacheResponseData[s].allOrder.indexOf(t)&&(a.scanResult=a.cacheResponseData[s]);e.showSliderData01=!0,e.switchScan=!1,e.orderList.push({order:t,orderBooting:"",time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t})}else{var o={scanLabel:t,linkNode:e.linkNode,shipmentCode:a.shipmentCode};e.getTheOrderNum(o,t)}})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this,i=this;this.loadingData=!0,this.propScanData=e,ct(t).then(function(t){if("1"===t.data.status){a.loadingData=!1;var e=JSON.parse(t.data.data);if(a.responseData=e,a.scanResult=JSON.parse(JSON.parse(t.data.data).orderSF),a.scanResult.allOrder=JSON.parse(t.data.data).historySubmitLabelNo.concat(JSON.parse(t.data.data).notScanLabelNo),a.showSearchResult(),0!==a.cacheResponseData.length)for(var s in a.cacheResponseData)a.scanResult.omsNo===a.cacheResponseData[s].omsNo&&(a.scanResult.omsNo=a.cacheResponseData[s].displayWt);else a.cacheResponseData.push(a.scanResult)}else i.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"}),a.loadingData=!1}).catch(function(t){i.$alert(t,"提示",{confirmButtonText:"确定"}),a.loadingData=!1})},confirmResult:function(){var t=this;this.showSearchResult(),this.dealConfirmData(this.propScanData),this.$refs.form.validate(function(e){if(e)for(var a in t.cacheResponseData)t.cacheResponseData[a].omsNo===t.scanResult.omsNo&&(t.cacheResponseData[a].displayWt=t.scanResult.displayWt)})},confirmResult01:function(){var t=this;this.showSliderData01=!1,this.switchScan=!0,this.$refs.form.validate(function(e){if(e)for(var a in t.cacheResponseData)t.cacheResponseData[a].omsNo===t.scanResult.omsNo&&(t.cacheResponseData[a].displayWt=t.scanResult.displayWt)})},dealConfirmData:function(t){var e=this,a=this,i=this.responseData;for(var o in new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}a.historyLabelNo=a.historyLabelNo.concat(i.historySubmitLabelNo),a.notScanLabelNo=a.notScanLabelNo.concat(i.notScanLabelNo),a.historyLabelNo=e(a.historyLabelNo),a.notScanLabelNo=e(a.notScanLabelNo),t(!0)}).then(function(s){s&&a.step1(t).then(function(s){0!==s.length?(a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}),e.orderCodeList=e.distinct(e.orderCodeList,i.omsNo)):a.step2(t).then(function(s){0!==s.length?(e.orderList.push({order:t,orderBooting:i.omsNo,time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t}),e.orderCodeList=e.distinct(e.orderCodeList,i.omsNo)):a.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[o].order)}}},Ce={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"coc"},[a("div",{staticClass:"common-box"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1)],1),t._v(" "),a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-header"},[t._v("\n          运单号("+t._s(t.orderList.length)+")\n        ")]),t._v(" "),a("div",{staticClass:"order-list"},t._l(t.orderList,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e.order)+"\n            ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.historyLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1)],1),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,cacheResponseData:t.cacheResponseData,orderList:t.cleanOrderList},on:{reflash:t.reflashData,scanFun:t.switchScanFun}}),t._v(" "),a("v-confirm",{ref:"message"}),t._v(" "),a("el-dialog",{staticClass:"search-side",attrs:{title:"扫描结果",visible:t.showSliderData,"close-on-click-modal":!1,"show-close":!1,width:"90%"},on:{"update:visible":function(e){t.showSliderData=e}}},[a("el-form",{ref:"form",attrs:{model:t.scanResult,"label-width":"80px","label-position":"top"}},[a("el-form-item",{attrs:{label:"寄件地址"}},[a("el-input",{attrs:{disabled:!0,placeholder:"寄件地址"},model:{value:t.scanResult.issuePartyAddr,callback:function(e){t.$set(t.scanResult,"issuePartyAddr",e)},expression:"scanResult.issuePartyAddr"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"收件地址"}},[a("el-input",{attrs:{disabled:!0,placeholder:"收件地址"},model:{value:t.scanResult.receivePartyAddr1,callback:function(e){t.$set(t.scanResult,"receivePartyAddr1",e)},expression:"scanResult.receivePartyAddr1"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"件数"}},[a("el-input",{attrs:{disabled:!0,placeholder:"件数"},model:{value:t.scanResult.orderQty,callback:function(e){t.$set(t.scanResult,"orderQty",e)},expression:"scanResult.orderQty"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"重量"}},[a("el-input",{attrs:{disabled:!0,placeholder:"重量"},model:{value:t.scanResult.orderWt,callback:function(e){t.$set(t.scanResult,"orderWt",e)},expression:"scanResult.orderWt"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"实际重量"}},[a("el-input",{attrs:{placeholder:"实际重量"},model:{value:t.scanResult.displayWt,callback:function(e){t.$set(t.scanResult,"displayWt",e)},expression:"scanResult.displayWt"}},[a("template",{slot:"append"},[t._v("KG")])],2)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.showSearchResult}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmResult}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"search-side",attrs:{title:"扫描结果",visible:t.showSliderData01,"close-on-click-modal":!1,"show-close":!1,width:"90%"},on:{"update:visible":function(e){t.showSliderData01=e}}},[a("el-form",{ref:"form",attrs:{model:t.scanResult,"label-width":"80px","label-position":"top"}},[a("el-form-item",{attrs:{label:"寄件地址"}},[a("el-input",{attrs:{disabled:!0,placeholder:"寄件地址"},model:{value:t.scanResult.issuePartyAddr,callback:function(e){t.$set(t.scanResult,"issuePartyAddr",e)},expression:"scanResult.issuePartyAddr"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"收件地址"}},[a("el-input",{attrs:{disabled:!0,placeholder:"收件地址"},model:{value:t.scanResult.receivePartyAddr1,callback:function(e){t.$set(t.scanResult,"receivePartyAddr1",e)},expression:"scanResult.receivePartyAddr1"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"件数"}},[a("el-input",{attrs:{disabled:!0,placeholder:"件数"},model:{value:t.scanResult.orderQty,callback:function(e){t.$set(t.scanResult,"orderQty",e)},expression:"scanResult.orderQty"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"重量"}},[a("el-input",{attrs:{disabled:!0,placeholder:"重量"},model:{value:t.scanResult.orderWt,callback:function(e){t.$set(t.scanResult,"orderWt",e)},expression:"scanResult.orderWt"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"实际重量"}},[a("el-input",{attrs:{placeholder:"实际重量"},model:{value:t.scanResult.displayWt,callback:function(e){t.$set(t.scanResult,"displayWt",e)},expression:"scanResult.displayWt"}},[a("template",{slot:"append"},[t._v("KG")])],2)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.confirmResult01}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var be=a("VU/8")(ye,Ce,!1,function(t){a("iF6f")},"data-v-4724f7a3",null).exports,Le={name:"delivery-scan",components:{"v-header":st,"v-scan":M,"v-footer":me,"v-confirm":et},data:function(){return{activeName:"first",headerName:"装车扫描",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],scanLabelNo:[],historyLabelNo:[],notScanLabelNo:[],dialogImageUrl:"",dialogVisible:!1,uploadParams:{},uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,loadingData:!1,linkNode:"",switchScan:!0,shipmentCode:"",deliveryId:"",omsNo:"",orderId:"",transportLinks:"",hideBitch:!1,scanNumber:0,actualQty:0}},mounted:function(){switch(this.$route.path){case"/DeliveryScanXH":case"/DeliveryScan":this.linkNode="10";break;case"/TransitScan":this.linkNode="20";break;case"/DeliveryOrderPickScan":this.linkNode="30";break;case"/ReceiptScan":this.linkNode="40";break;default:this.linkNode="10"}var t=this;f()(".LoadImg_conentul ul.el-upload-list+div").click(function(e){event.stopPropagation(),t.switchScanFun(!1)})},created:function(){var t=this;this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode),this.$route.query.deliveryId&&(this.deliveryId=this.$route.query.deliveryId),this.$route.query.omsNo&&(this.omsNo=this.$route.query.omsNo),this.$route.query.orderId&&(this.orderId=this.$route.query.orderId),this.$route.query.transportLinks&&(this.transportLinks=this.$route.query.transportLinks),this.$route.query.pagetype&&"air"==this.$route.query.pagetype&&(this.headerName="航空出港扫描",this.hideBitch=!0),this.$route.query.actualQty&&(this.actualQty=this.$route.query.actualQty),this.$route.query.scanNumber&&(this.scanNumber=this.$route.query.scanNumber,t.scanNumber>0&&t.$confirm("该订单历史扫描记录将被删除、重新扫描,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={omsNo:t.omsNo,linkNode:20};t.$emit("isLoading",!0,"拼命加载中"),v.a.post(t.HOST+"deleteOrderScanLabel.do",{params:n()(e)}).then(function(e){var a;(t.$emit("isLoading",!1),"1"==e.data.status)||(a=e.data.Msg?e.data.Msg:"请求失败",alert(a),t.$router.back(-1))}).catch(function(e){t.$emit("isLoading",!1),alert("请求失败"),t.$router.back(-1)})}).catch(function(){t.$router.back(-1)}))},methods:{updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length,this.uploadParams.omsNo=this.omsNo,this.uploadParams.fileType="装车扫描",this.uploadParams.labelNo="20",this.$refs.upload_refTransit.submit()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},switchScanFun:function(t){this.switchScan=!!t},userBehaviorFun:function(){},deleteItem:function(t){this.orderList=this.orderList.filter(function(e){return e.order!==t});var e,a=[];for(var i in this.orderList)a.push(this.orderList[i].orderBooting);for(var s in this.orderCodeList=(e=a,Mt()(new Wt.a(e))),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[s].order)},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.scanLabelNo=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this,a=this;if(0===this.historyLabelNo.length&&0===this.notScanLabelNo.length&&0===this.orderList.length){if(1==this.hideBitch)var i={scanLabel:t,linkNode:this.linkNode};else i={scanLabel:t,linkNode:this.linkNode,omsNo:a.omsNo};this.getTheOrderNum(i,t)}else a.step0(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step1(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step2(t).then(function(i){if(0!==i.length)e.orderList.push({order:t,orderBooting:"",time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t});else{if(1==e.hideBitch)var s={scanLabel:t,linkNode:e.linkNode};else s={scanLabel:t,linkNode:e.linkNode,omsNo:a.omsNo};e.getTheOrderNum(s,t)}})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this,i=this;this.loadingData=!0,ct(t).then(function(t){if("1"===t.data.status){a.loadingData=!1;var o=t.data.data;for(var n in new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}i.historyLabelNo=i.historyLabelNo.concat(o.historySubmitLabelNo),i.notScanLabelNo=i.notScanLabelNo.concat(o.notScanLabelNo),i.historyLabelNo=e(i.historyLabelNo),i.notScanLabelNo=e(i.notScanLabelNo),t(!0)}).then(function(t){t&&i.step1(e).then(function(t){0!==t.length?(i.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}),a.orderCodeList=a.distinct(a.orderCodeList,o.omsNo)):i.step2(e).then(function(t){0!==t.length?(a.orderList.push({order:e,orderBooting:o.omsNo,time:a.getTheTimeNow()}),a.notScanLabelNo=a.notScanLabelNo.filter(function(t){return t!==e}),a.orderCodeList=a.distinct(a.orderCodeList,o.omsNo)):i.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),a.cleanOrderList=[],a.orderList)a.cleanOrderList.push(a.orderList[n].order)}else a.loadingData=!1,i.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"})}).catch(function(t){a.loadingData=!1,i.$alert(t,"提示",{confirmButtonText:"确定"})})},finishUpload:function(t){var e=this;e.$emit("isLoading_",!1),t=t?","+t:"",this.$alert("扫描保存成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}},Ne={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-box"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-header"},[t._v("\n          运单号("+t._s(t.orderList.length)+")\n        ")]),t._v(" "),a("div",{staticClass:"order-list"},t._l(t.orderList,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e.order)+"\n            ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.historyLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("拍照上传")]),t._v(" "),a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refTransit",attrs:{action:t.HOST+"abnormalUploadImage.do",limit:6,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])],1),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,orderList:t.cleanOrderList,hideBitch:t.hideBitch,deliveryId:t.deliveryId,transportLinks:t.transportLinks,actualQty:t.actualQty,omsNo:t.omsNo,orderId:t.orderId},on:{reflash:t.reflashData,scanFun:t.switchScanFun,isLoading_:t.fullscreenLoading}}),t._v(" "),a("v-confirm",{ref:"message"})],1)},staticRenderFns:[]};var Se=a("VU/8")(Le,Ne,!1,function(t){a("Jx/G")},"data-v-e9e6edb2",null).exports,Ie={name:"commit-footer",components:{"v-confirm":et},data:function(){return{params:{params:[],longitude:"",latitude:""},CurrentCity:"",CurrentLocation:"",CurrentDistrict:"",cleanOrderList:[],commitImgDialog:!1,imageUrl:null,imgObj:null,BatchCommit_show:!1,BatchCommitNumber:"",longitude:"",latitude:"",crruentconfirm:"",commitPopUp_show:!1,AllCommitPopUp_show:!1}},props:["count","orderCount","countData","orderList","cacheResponseData","deliveryId","hideBitch","transportLinks","actualQty","orderId","AbHasScanNum","yiScanNumber","scanLabelNoThis","omsNoThis"],mounted:function(){this.onPlusReady("e")},methods:{RefreshPositioning:function(){this.onPlusReady("e")},SetCurrAddress:function(t){var e=this,a=JSON.parse(t);if(e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),"0"==a.lng)this.$alert("定位失败","提示",{confirmButtonText:"确定",callback:function(t){e.$router.go(-1)}});else try{AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"}),i=[parseFloat(a.lng),parseFloat(a.lat)];e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),t.getAddress(i,function(t,a){e.$emit("isLoading_",!1),"complete"===t&&"OK"===a.info?(e.CurrentCity=a.regeocode.addressComponent.city?a.regeocode.addressComponent.city:a.regeocode.addressComponent.province,e.CurrentLocation=a.regeocode.formattedAddress,e.CurrentDistrict=a.regeocode.addressComponent.district?a.regeocode.addressComponent.district:a.regeocode.addressComponent.township):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})})}catch(t){e.$alert(t,"提示",{confirmButtonText:"确定"})}},BatchCommit:function(){0!==this.count.length&&(this.BatchCommit_show=!0,this.crruentconfirm="批量",this.$emit("scanFun",!1))},BatchCommitCancel:function(){this.BatchCommit_show=!1,this.$emit("scanFun",!0)},BatchCommitConfirmitem:function(){var t=this;this.$route.path;t.$emit("isLoading_",!0,"拼命加载中"),t.uploadTotalNum=f()("div.uploadImg ul>li").length;var e={omsNo:t.omsNoThis,scanLabelNo:t.scanLabelNoThis,labelNumber:t.BatchCommitNumber,transportLinks:"20",scanPerson:t.$store.state.userInfo.userName,address:t.CurrentLocation,latitude:t.latitude,longitude:t.longitude,city:t.CurrentCity,districict:t.CurrentDistrict,cellphone:t.$store.state.userInfo.cellphone,supplierId:t.$store.state.userInfo.orgnizationId,supplierName:t.$store.state.userInfo.orgnizationName};v.a.post(t.HOST+"hkBatchScanLabel.do",{params:n()(e)}).then(function(e){var a;"1"==e.data.status?f()("div.uploadImg ul>li").length>0?t.$parent.updateimg():(t.$emit("isLoading_",!1),t.$alert("批量提交成功","提示",{confirmButtonText:"确定",callback:function(){t.$router.go(-1)}})):(t.$emit("isLoading_",!1),a=e.data.Msg?e.data.Msg:"批量提交失败",t.$emit("reflash",!0),t.$emit("scanFun",!0),t.$alert(a,"提示",{confirmButtonText:"确定"}))}).catch(function(e){t.$emit("isLoading_",!1),t.$emit("reflash",!0),t.$emit("scanFun",!0),t.$alert("批量提交失败","提示",{confirmButtonText:"确定"})})},BatchCommitConfirmbefore:function(){this.BatchCommitNumber&&("NaN"==parseInt(this.BatchCommitNumber).toString()||parseInt(this.BatchCommitNumber)<0||this.BatchCommitNumber!=parseInt(this.BatchCommitNumber)?this.$alert("请输入正整数","提示",{confirmButtonText:"确定",callback:function(){}}):this.BatchCommitNumber>this.actualQty-this.yiScanNumber?this.$alert("批量提交数量不能超过剩余未扫描总件数","提示",{confirmButtonText:"确定",callback:function(){}}):this.AllCommitPopUp_show=!0)},getTheFile:function(t){this.imageUrl=t.url},beforeAvatarUpload:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw),"1"===t.status?(this.$alert(t.Msg,"提示",{confirmButtonText:"确定"}),this.commitImgDialog=!1,this.imageUrl="",this.params={},this.$refs.upload.clearFiles(),this.$emit("reflash",!0),this.$emit("scanFun",!0)):this.$alert(t.Msg,"提示",{confirmButtonText:"确定"})},closeImgInput:function(){this.commitImgDialog=!1,this.$emit("scanFun",!0)},commitImg:function(){this.commitImgDialog=!1,this.$refs.myConfirm.show("是否提交数据？",{type:"confirm",cancelText:"取消",confirmText:"确定",titleText:"消息提示",data:this.count})},selectFile:function(t){this.imgUrl=t,this.setTheFormData()},setTheFormData:function(){var t=this,e=new FormData;e.append("data",this.imgUrl.srcElement.files[0]),this.imgObj=e.get("data");var a=new FileReader;a.readAsDataURL(e.get("data")),a.onload=function(e){t.$refs.img.src=e.target.result}},userBehaviorFun:function(t,e){"clickCancel"!==t?this.commitData():this.$emit("scanFun",!0)},commitPopUpCancel:function(){this.commitPopUp_show=!1},commitPopUpConfirm:function(){this.commitData()},AllCcommitPopUpCancel:function(){this.AllCommitPopUp_show=!1},AllCcommitPopUpConfirm:function(){"批量"==this.crruentconfirm?this.BatchCommitConfirmitem():this.commitData()},checkForCommit:function(){if(0!==this.count.length){if(this.crruentconfirm="提交",this.count.length<this.actualQty)return void(this.commitPopUp_show=!0);this.AllCommitPopUp_show=!0,this.$emit("scanFun",!1)}},commitData:function(){var t=this,e=this;e.$emit("isLoading_",!0,"拼命加载中"),e.AllCommitPopUp_show=!1,e.commitPopUp_show=!1,e.uploadTotalNum=f()("div.uploadImg ul>li").length;this.$route.path;var a=this.$store.state.userInfo.userName,i=this.$store.state.userInfo.cellphone,s=this.$store.state.userInfo.orgnizationId,o=this.$store.state.userInfo.orgnizationName,r=this.longitude,l=this.latitude,c=this.CurrentLocation,d=this.CurrentDistrict,u=this.CurrentCity,h=[];for(var p in this.count){var v={};v.labelNo=this.count[p].order,v.linkNode="20",v.scanPerson=a,v.cellphone=i,v.scanTime=this.count[p].time,v.supplierId=s,v.supplierName=o,v.longitude=r,v.latitude=l,v.address=c,v.city=u,v.districict=d,h.push(v)}var m=[];for(var _ in this.cacheResponseData){var g={},y=this.cacheResponseData[_];g.omsNo=y.omsNo,g.displayWt=y.displayWt,g.linkNode="20",m.push(g)}for(var C in this.cleanOrderList=[],this.count)this.cleanOrderList.push(this.count[C].order);this.params={params:n()(h),labelNo:n()(this.cleanOrderList)},ht(this.params).then(function(a){e.$emit("isLoading_",!1),"1"==a.data.status?(f()("div.uploadImg ul>li").length>0?e.$parent.updateimg():e.$alert(a.data.Msg,"提示",{confirmButtonText:"确定"}),t.$emit("reflash",!0),t.$emit("scanFun",!0)):(e.$alert(a.data.Msg,"提示",{confirmButtonText:"确定"}),t.$emit("scanFun",!0))}).catch(function(t){e.$emit("isLoading_",!1)})}}},De={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commit-footer"},[a("div",{staticClass:"addr_foot"},[a("div",{staticClass:"addr_foot_f"},[a("div",[a("span",[t._v("当前城市：")]),a("span",[t._v(t._s(t.CurrentCity))])]),t._v(" "),a("div",[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",[a("span",[t._v("当前地址：")]),a("span",[t._v(t._s(t.CurrentLocation))])])]),t._v(" "),a("div",{staticClass:"addr_foot_s"},[a("div",{on:{click:t.RefreshPositioning}},[t._v("刷新定位")])])]),t._v(" "),a("div",{staticClass:"left-countbox"},[a("div",{staticClass:"left-count"},[a("div",{staticClass:"top"},[t._v("\n         订单总件数:"),a("i",[t._v(t._s(t.actualQty))]),t._v("件\n       ")]),t._v(" "),a("div",{staticClass:"bottom"},[t._v("\n         当前扫描:"),a("i",[t._v(t._s(t.count.length))]),t._v("件\n       ")])]),t._v(" "),a("div",{staticClass:"commit-button-box"},[a("div",{staticClass:"commit-button BatchCommit",on:{click:t.BatchCommit}},[t._v("批量提交")]),t._v(" "),a("div",{staticClass:"commit-button",class:{checkForCommit:t.hideBitch},on:{click:t.checkForCommit}},[t._v("提交")])]),t._v(" "),a("v-confirm",{ref:"myConfirm",on:{userBehavior:t.userBehaviorFun}})],1),t._v(" "),a("el-dialog",{staticClass:"img-dialog",attrs:{title:"上传图片",visible:t.commitImgDialog,"close-on-click-modal":!1,"show-close":!1,"append-to-body":"",width:"90%"},on:{"update:visible":function(e){t.commitImgDialog=e}}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:t.HOST+"scanLabel.do",data:t.params,name:"fileupload",multiple:!1,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,"on-change":t.getTheFile,"auto-upload":!0}},[t.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeImgInput}},[t._v("取 消")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.BatchCommit_show,expression:"BatchCommit_show"}],staticClass:"BatchCommitPopBox"},[a("div",{staticClass:"BatchCommit_"},[a("div",{staticClass:"BatchCommit_head"},[t._v("请填写要批量提交的数量")]),t._v(" "),a("div",{staticClass:"BatchCommit_info"},[a("span",[t._v("订单总件数：")]),a("span",[t._v(t._s(t.actualQty))])]),t._v(" "),a("div",{staticClass:"BatchCommit_content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.BatchCommitNumber,expression:"BatchCommitNumber"}],attrs:{type:"number",pattern:"[0-9]*"},domProps:{value:t.BatchCommitNumber},on:{input:function(e){e.target.composing||(t.BatchCommitNumber=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"BatchCommit_btn"},[a("div",{staticClass:"commit-button",on:{click:t.BatchCommitCancel}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"commit-button",on:{click:t.BatchCommitConfirmbefore}},[t._v("批量提交")])])])]),t._v(" "),t.commitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("订单未扫描完，只能提交一次")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("是否提交？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("订单总件数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.actualQty))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前提交数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.count.length))])])]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.commitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.commitPopUpConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.AllCommitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.AllCcommitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.AllCcommitPopUpConfirm}},[t._v("确定")])])])])]):t._e()],1)},staticRenderFns:[]};var we={name:"delivery-scan",components:{"v-header":st,"v-scan":M,"v-footer":a("VU/8")(Ie,De,!1,function(t){a("Jo42")},"data-v-26a8bfb7",null).exports,"v-confirm":et},data:function(){return{activeName:"first",headerName:"航空出港扫描",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],scanLabelNo:[],historyLabelNo:[],notScanLabelNo:[],scanLabelNoThis:"",omsNoThis:"",dialogImageUrl:"",dialogVisible:!1,uploadParams:{},uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,loadingData:!1,linkNode:"",switchScan:!0,shipmentCode:"",deliveryId:"",orderId:"",transportLinks:"",hideBitch:!0,actualQty:0,yiScanNumber:0}},mounted:function(){switch(this.$route.path){case"/DeliveryScanXH":case"/DeliveryScan":this.linkNode="10";break;case"/AviationTransitScan":this.linkNode="20";break;case"/DeliveryOrderPickScan":this.linkNode="30";break;case"/ReceiptScan":this.linkNode="40";break;default:this.linkNode="10"}var t=this;f()(".LoadImg_conentul ul.el-upload-list+div").click(function(e){event.stopPropagation(),t.switchScanFun(!1)})},created:function(){this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode),this.$route.query.deliveryId&&(this.deliveryId=this.$route.query.deliveryId),this.$route.query.orderId&&(this.orderId=this.$route.query.orderId),this.$route.query.transportLinks&&(this.transportLinks=this.$route.query.transportLinks)},methods:{updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length,this.uploadParams.omsNo=this.omsNoThis,this.uploadParams.fileType="装车扫描",this.uploadParams.labelNo="20",this.$refs.upload_refTransit.submit()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},switchScanFun:function(t){this.switchScan=!!t},userBehaviorFun:function(){},deleteItem:function(t){this.orderList=this.orderList.filter(function(e){return e.order!==t});var e,a=[];for(var i in this.orderList)a.push(this.orderList[i].orderBooting);for(var s in this.orderCodeList=(e=a,Mt()(new Wt.a(e))),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[s].order)},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.scanLabelNo=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this;if(0===e.historyLabelNo.length&&0===e.notScanLabelNo.length&&0===e.orderList.length){var a={scanLabel:t,linkNode:e.linkNode};e.getTheOrderNum(a,t)}else e.step0(t).then(function(a){0!==a.length?e.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):e.step1(t).then(function(a){0!==a.length?e.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):e.step2(t).then(function(a){if(0!==a.length)e.orderList.push({order:t,orderBooting:"",time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t}),e.scanLabelNoThis=t;else{e.orderList=[];var i={scanLabel:t,linkNode:e.linkNode};e.getTheOrderNum(i,t)}})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this,i=this;this.loadingData=!0,ct(t).then(function(t){if("1"===t.data.status){i.loadingData=!1;var o=t.data.data;for(var n in i.actualQty=o.orderNumber,i.yiScanNumber=o.yiScanNumber,i.omsNoThis=o.omsNo,new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}i.historyLabelNo=o.historySubmitLabelNo,i.notScanLabelNo=o.notScanLabelNo,i.historyLabelNo=e(i.historyLabelNo),i.notScanLabelNo=e(i.notScanLabelNo),t(!0)}).then(function(t){t&&i.step1(e).then(function(t){0!==t.length?(i.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}),i.orderCodeList=i.distinct(i.orderCodeList,o.omsNo)):i.step2(e).then(function(t){0!==t.length?(i.orderList.push({order:e,orderBooting:o.omsNo,time:i.getTheTimeNow()}),i.notScanLabelNo=i.notScanLabelNo.filter(function(t){return t!==e}),i.scanLabelNoThis=e,i.orderCodeList=i.distinct(i.orderCodeList,o.omsNo)):i.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),a.cleanOrderList=[],a.orderList)a.cleanOrderList.push(a.orderList[n].order)}else a.loadingData=!1,i.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"})}).catch(function(t){a.loadingData=!1,i.$alert(t,"提示",{confirmButtonText:"确定"})})},finishUpload:function(t){var e=this;e.$emit("isLoading_",!1),t=t?","+t:"",this.$alert("扫描保存成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}},ke={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-box"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-header"},[t._v("\n          运单号("+t._s(t.orderList.length)+")\n        ")]),t._v(" "),a("div",{staticClass:"order-list"},t._l(t.orderList,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e.order)+"\n            ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.historyLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("拍照上传")]),t._v(" "),a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refTransit",attrs:{action:t.HOST+"abnormalUploadImage.do",limit:6,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])],1),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,orderList:t.cleanOrderList,hideBitch:t.hideBitch,deliveryId:t.deliveryId,transportLinks:t.transportLinks,actualQty:t.actualQty,orderId:t.orderId,yiScanNumber:t.yiScanNumber,scanLabelNoThis:t.scanLabelNoThis,omsNoThis:t.omsNoThis},on:{reflash:t.reflashData,scanFun:t.switchScanFun,isLoading_:t.fullscreenLoading}}),t._v(" "),a("v-confirm",{ref:"message"})],1)},staticRenderFns:[]};var Te=a("VU/8")(we,ke,!1,function(t){a("LtDe")},"data-v-3286c066",null).exports,xe={name:"delivery-scan",components:{"v-header":st,"v-scan":M,"v-footer":me,"v-confirm":et},data:function(){return{activeName:"first",headerName:"派件装车扫描",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],scanLabelNo:[],historyLabelNo:[],notScanLabelNo:[],dialogImageUrl:"",dialogVisible:!1,uploadParams:{},uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,loadingData:!1,linkNode:"",switchScan:!0,shipmentCode:"",omsNo:"",orderId:"",deliveryId:"",transportLinks:"",scanNumber:0,actualQty:0}},mounted:function(){switch(this.$route.path){case"/DeliveryScanXH":case"/DeliveryScan":this.linkNode="10";break;case"/TransitScan":this.linkNode="20";break;case"/DeliveryOrderPickScan":this.linkNode="30";break;case"/ReceiptScan":this.linkNode="40";break;default:this.linkNode="10"}var t=this;f()(".LoadImg_conentul ul.el-upload-list+div").click(function(e){event.stopPropagation(),t.switchScanFun(!1)})},created:function(){var t=this;this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode),this.$route.query.deliveryId&&(this.deliveryId=this.$route.query.deliveryId),this.$route.query.omsNo&&(this.omsNo=this.$route.query.omsNo),this.uploadParams.omsNo=this.omsNo,this.uploadParams.fileType="wxReceipt",this.$route.query.orderId&&(this.orderId=this.$route.query.orderId),this.$route.query.transportLinks&&(this.transportLinks=this.$route.query.transportLinks),this.$route.query.actualQty&&(this.actualQty=this.$route.query.actualQty),this.$route.query.scanNumber&&(this.scanNumber=this.$route.query.scanNumber,t.scanNumber>0&&t.$confirm("该订单历史扫描记录将被删除、重新扫描,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={omsNo:t.omsNo,linkNode:30};t.$emit("isLoading",!0,"拼命加载中"),v.a.post(t.HOST+"deleteOrderScanLabel.do",{params:n()(e)}).then(function(e){var a;(t.$emit("isLoading",!1),"1"==e.data.status)||(a=e.data.Msg?e.data.Msg:"请求失败",alert(a),t.$router.back(-1))}).catch(function(e){t.$emit("isLoading",!1),alert("请求失败"),t.$router.back(-1)})}).catch(function(){t.$router.back(-1)}))},methods:{updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length,this.uploadParams.omsNo=this.omsNo,this.uploadParams.fileType="装车扫描",this.uploadParams.labelNo="30",this.$refs.upload_refDePick.submit()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},switchScanFun:function(t){this.switchScan=!!t},userBehaviorFun:function(){},deleteItem:function(t){this.orderList=this.orderList.filter(function(e){return e.order!==t});var e,a=[];for(var i in this.orderList)a.push(this.orderList[i].orderBooting);for(var s in this.orderCodeList=(e=a,Mt()(new Wt.a(e))),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[s].order)},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.scanLabelNo=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this,a=this;if(0===this.historyLabelNo.length&&0===this.notScanLabelNo.length&&0===this.orderList.length){var i={scanLabel:t,linkNode:this.linkNode,omsNo:a.omsNo};this.getTheOrderNum(i,t)}else a.step0(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step1(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step2(t).then(function(i){if(0!==i.length)e.orderList.push({order:t,orderBooting:"",time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t});else{var s={scanLabel:t,linkNode:e.linkNode,omsNo:a.omsNo};e.getTheOrderNum(s,t)}})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this,i=this;this.loadingData=!0,ct(t).then(function(t){if("1"===t.data.status){a.loadingData=!1;var o=t.data.data;for(var n in new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}i.historyLabelNo=i.historyLabelNo.concat(o.historySubmitLabelNo),i.notScanLabelNo=i.notScanLabelNo.concat(o.notScanLabelNo),i.historyLabelNo=e(i.historyLabelNo),i.notScanLabelNo=e(i.notScanLabelNo),t(!0)}).then(function(t){t&&i.step1(e).then(function(t){0!==t.length?(i.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}),a.orderCodeList=a.distinct(a.orderCodeList,o.omsNo)):i.step2(e).then(function(t){0!==t.length?(a.orderList.push({order:e,orderBooting:o.omsNo,time:a.getTheTimeNow()}),a.notScanLabelNo=a.notScanLabelNo.filter(function(t){return t!==e}),a.orderCodeList=a.distinct(a.orderCodeList,o.omsNo)):i.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),a.cleanOrderList=[],a.orderList)a.cleanOrderList.push(a.orderList[n].order)}else i.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"}),a.loadingData=!1}).catch(function(t){i.$alert(t,"提示",{confirmButtonText:"确定"}),a.loadingData=!1})},finishUpload:function(t){var e=this;e.$emit("isLoading_",!1),t=t?","+t:"",this.$alert("扫描保存成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}},$e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-box"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-header"},[t._v("\n          运单号("+t._s(t.orderList.length)+")\n        ")]),t._v(" "),a("div",{staticClass:"order-list"},t._l(t.orderList,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e.order)+"\n            ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.historyLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("拍照上传")]),t._v(" "),a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refDePick",attrs:{action:t.HOST+"abnormalUploadImage.do",limit:4,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])],1),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,orderList:t.cleanOrderList,deliveryId:t.deliveryId,transportLinks:t.transportLinks,actualQty:t.actualQty,omsNo:t.omsNo,orderId:t.orderId},on:{reflash:t.reflashData,scanFun:t.switchScanFun,isLoading_:t.fullscreenLoading}}),t._v(" "),a("v-confirm",{ref:"message"})],1)},staticRenderFns:[]};var Pe=a("VU/8")(xe,$e,!1,function(t){a("SH5p")},"data-v-34f778e2",null).exports,Be={name:"delivery-scan",components:{"v-header":st,"v-scan":M,"v-footer":me,"v-confirm":et},data:function(){return{activeName:"first",headerName:"签收扫描",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],scanLabelNo:[],historyLabelNo:[],notScanLabelNo:[],loadingData:!1,linkNode:"",switchScan:!0,dialogImageUrl:"",dialogVisible:!1,uploadParams:{},uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,shipmentCode:"",deliveryId:"",omsNo:"",orderId:"",transportLinks:"",deliveryNumber:0,actualQty:0,HasLoading:0,deliveryMethod:"",forwardSupplier:"",forwardSupplierId:"",reference10:"",chargeTypes:""}},mounted:function(){switch(this.$route.path){case"/DeliveryScanXH":case"/DeliveryScan":this.linkNode="10";break;case"/TransitScan":this.linkNode="20";break;case"/DeliveryOrderPickScan":this.linkNode="30";break;case"/ReceiptScan":this.linkNode="40";break;default:this.linkNode="10"}var t=this;f()(".LoadImg_conentul ul.el-upload-list+div").click(function(e){event.stopPropagation(),t.switchScanFun(!1)})},created:function(){var t=this;this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode),this.$route.query.deliveryId&&(this.deliveryId=this.$route.query.deliveryId),this.$route.query.omsNo&&(this.omsNo=this.$route.query.omsNo),this.$route.query.orderId&&(this.orderId=this.$route.query.orderId),this.$route.query.transportLinks&&(this.transportLinks=this.$route.query.transportLinks),this.$route.query.actualQty&&(this.actualQty=this.$route.query.actualQty),this.$route.query.HasLoading&&(this.HasLoading=this.$route.query.HasLoading),this.$route.query.deliveryMethod&&(this.deliveryMethod=this.$route.query.deliveryMethod),this.$route.query.forwardSupplier&&(this.forwardSupplier=this.$route.query.forwardSupplier),this.$route.query.forwardSupplierId&&(this.forwardSupplierId=this.$route.query.forwardSupplierId),this.$route.query.reference10&&(this.reference10=this.$route.query.reference10),this.$route.query.chargeTypes&&(this.chargeTypes=this.$route.query.chargeTypes),this.$route.query.deliveryNumber&&(this.deliveryNumber=this.$route.query.deliveryNumber,t.deliveryNumber>0&&t.$confirm("该订单历史扫描记录将被删除、重新扫描,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={omsNo:t.omsNo,linkNode:40};t.$emit("isLoading",!0,"拼命加载中"),v.a.post(t.HOST+"deleteOrderScanLabel.do",{params:n()(e)}).then(function(e){var a;(t.$emit("isLoading",!1),"1"==e.data.status)||(a=e.data.Msg?e.data.Msg:"请求失败",alert(a),t.$router.back(-1))}).catch(function(e){t.$emit("isLoading",!1),alert("请求失败"),t.$router.back(-1)})}).catch(function(){t.$router.back(-1)}))},methods:{updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length,this.uploadParams.omsNo=this.omsNo,this.uploadParams.fileType="签收",this.uploadParams.labelNo="40",this.$refs.upload_refReceipt.submit()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},switchScanFun:function(t){this.switchScan=!!t},userBehaviorFun:function(){},deleteItem:function(t){this.orderList=this.orderList.filter(function(e){return e.order!==t});var e,a=[];for(var i in this.orderList)a.push(this.orderList[i].orderBooting);for(var s in this.orderCodeList=(e=a,Mt()(new Wt.a(e))),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[s].order)},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.scanLabelNo=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this,a=this;if(0===this.historyLabelNo.length&&0===this.notScanLabelNo.length&&0===this.orderList.length){var i={scanLabel:t,linkNode:this.linkNode,omsNo:a.omsNo};this.getTheOrderNum(i,t)}else a.step0(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step1(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step2(t).then(function(i){if(0!==i.length)e.orderList.push({order:t,orderBooting:"",time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t});else{var s={scanLabel:t,linkNode:e.linkNode,omsNo:a.omsNo};e.getTheOrderNum(s,t)}})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this,i=this;this.loadingData=!0,ct(t).then(function(t){if("1"===t.data.status){a.loadingData=!1;var o=t.data.data;for(var n in new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}i.historyLabelNo=i.historyLabelNo.concat(o.historySubmitLabelNo),i.notScanLabelNo=i.notScanLabelNo.concat(o.notScanLabelNo),i.historyLabelNo=e(i.historyLabelNo),i.notScanLabelNo=e(i.notScanLabelNo),t(!0)}).then(function(t){t&&i.step1(e).then(function(t){0!==t.length?(i.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}),a.orderCodeList=a.distinct(a.orderCodeList,o.omsNo)):i.step2(e).then(function(t){0!==t.length?(a.orderList.push({order:e,orderBooting:o.omsNo,time:a.getTheTimeNow()}),a.notScanLabelNo=a.notScanLabelNo.filter(function(t){return t!==e}),a.orderCodeList=a.distinct(a.orderCodeList,o.omsNo)):i.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),a.cleanOrderList=[],a.orderList)a.cleanOrderList.push(a.orderList[n].order)}else a.loadingData=!1,i.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"})}).catch(function(t){a.loadingData=!1,i.$alert(t,"提示",{confirmButtonText:"确定"})})},finishUpload:function(t){var e=this;e.$emit("isLoading_",!1),t=t?","+t:"",this.$alert("扫描保存成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}},Ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-box"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-header"},[t._v("\n          运单号("+t._s(t.orderList.length)+")\n        ")]),t._v(" "),a("div",{staticClass:"order-list"},t._l(t.orderList,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e.order)+"\n            ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.historyLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n            "+t._s(e)+"\n          ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("拍照上传")]),t._v(" "),"ZK"==t.reference10&&"到付现结"==t.chargeTypes?a("div",{staticClass:"LoadImg_head",staticStyle:{color:"red"}},[t._v("请拍摄接收货物的顺丰小哥工牌照片")]):t._e(),t._v(" "),a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refReceipt",attrs:{action:t.HOST+"abnormalUploadImage.do",limit:4,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])],1),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,orderList:t.cleanOrderList,deliveryId:t.deliveryId,transportLinks:t.transportLinks,actualQty:t.actualQty,omsNo:t.omsNo,orderId:t.orderId,loadingData:t.loadingData,HasLoading:t.HasLoading,deliveryMethod:t.deliveryMethod,forwardSupplier:t.forwardSupplier,forwardSupplierId:t.forwardSupplierId,reference10:t.reference10,chargeTypes:t.chargeTypes},on:{reflash:t.reflashData,scanFun:t.switchScanFun,isLoading_:t.fullscreenLoading}}),t._v(" "),a("v-confirm",{ref:"message"})],1)},staticRenderFns:[]};var Fe=a("VU/8")(Be,Ae,!1,function(t){a("rrS7")},"data-v-5e509926",null).exports,Oe={name:"AbnormalScan",components:{"v-header":st,"v-scan":M,"v-footer":me,"v-confirm":et},data:function(){return{activeName:"first",headerName:"异常单签收",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],scanLabelNo:[],historyLabelNo:[],notScanLabelNo:[],dialogImageUrl:"",dialogVisible:!1,uploadParams:{},uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,loadingData:!1,linkNode:"",switchScan:!0,shipmentCode:"",deliveryId:"",omsNo:"",orderId:"",LocateAbnormalScanLabel:"",transportLinks:"",actualQty:0,abnormalscan:!0,AbHasScanNum:0}},mounted:function(){switch(this.$route.path){case"/DeliveryScanXH":case"/DeliveryScan":this.linkNode="10";break;case"/TransitScan":this.linkNode="20";break;case"/DeliveryOrderPickScan":this.linkNode="30";break;case"/ReceiptScan":case"/AbnormalScan":this.linkNode="40";break;default:this.linkNode="10"}var t=this;f()(".LoadImg_conentul ul.el-upload-list+div").click(function(e){event.stopPropagation(),t.switchScanFun(!1)})},created:function(){this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode),this.$route.query.deliveryId&&(this.deliveryId=this.$route.query.deliveryId),this.$route.query.omsNo&&(this.omsNo=this.$route.query.omsNo),this.uploadParams.omsNo=this.omsNo,this.uploadParams.fileType="wxReceipt",this.$route.query.orderId&&(this.orderId=this.$route.query.orderId),this.$route.query.transportLinks&&(this.transportLinks=this.$route.query.transportLinks),this.$route.query.actualQty&&(this.actualQty=this.$route.query.actualQty),this.$route.query.AbHasScanNum&&(this.AbHasScanNum=this.$route.query.AbHasScanNum),this.$route.query.LocateAbnormalScanLabel&&(this.LocateAbnormalScanLabel=this.$route.query.LocateAbnormalScanLabel)},methods:{updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length,this.uploadParams.omsNo=this.omsNo,this.uploadParams.fileType="签收",this.uploadParams.labelNo="40",this.$refs.upload_refAbScan.submit()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},goprev:function(){this.LocateAbnormalScanLabel?this.$router.push({name:"ScanQueryOrderInfo",query:{LocateAbnormalScanLabel:this.LocateAbnormalScanLabel}}):this.$router.back(-1)},switchScanFun:function(t){this.switchScan=!!t},userBehaviorFun:function(){},deleteItem:function(t){this.orderList=this.orderList.filter(function(e){return e.order!==t});var e,a=[];for(var i in this.orderList)a.push(this.orderList[i].orderBooting);for(var s in this.orderCodeList=(e=a,Mt()(new Wt.a(e))),this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[s].order)},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.scanLabelNo=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this,a=this;if(0===this.historyLabelNo.length&&0===this.notScanLabelNo.length&&0===this.orderList.length){var i={scanLabel:t,linkNode:this.linkNode,omsNo:a.omsNo};this.getTheOrderNum(i,t)}else a.step0(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step1(t).then(function(i){0!==i.length?a.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):a.step2(t).then(function(i){if(0!==i.length)e.orderList.push({order:t,orderBooting:"",time:e.getTheTimeNow()}),e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t});else{var s={scanLabel:t,linkNode:e.linkNode,omsNo:a.omsNo};e.getTheOrderNum(s,t)}})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this,i=this;this.loadingData=!0,ct(t).then(function(t){if("1"===t.data.status){a.loadingData=!1;var o=t.data.data;for(var n in new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}i.historyLabelNo=i.historyLabelNo.concat(o.historySubmitLabelNo),i.notScanLabelNo=i.notScanLabelNo.concat(o.notScanLabelNo),i.historyLabelNo=e(i.historyLabelNo),i.notScanLabelNo=e(i.notScanLabelNo),t(!0)}).then(function(t){t&&i.step1(e).then(function(t){0!==t.length?(i.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}),a.orderCodeList=a.distinct(a.orderCodeList,o.omsNo)):i.step2(e).then(function(t){0!==t.length?(a.orderList.push({order:e,orderBooting:o.omsNo,time:a.getTheTimeNow()}),a.notScanLabelNo=a.notScanLabelNo.filter(function(t){return t!==e}),a.orderCodeList=a.distinct(a.orderCodeList,o.omsNo)):i.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),a.cleanOrderList=[],a.orderList)a.cleanOrderList.push(a.orderList[n].order)}else a.loadingData=!1,i.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"})}).catch(function(t){a.loadingData=!1,i.$alert(t,"提示",{confirmButtonText:"确定"})})},finishUpload:function(t){var e=this;e.$emit("isLoading_",!1),t=t?","+t:"",this.$alert("扫描保存成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}},Ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-box AbnormalScan"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-header"},[t._v("\n\t            运单号("+t._s(t.orderList.length)+")\n\t          ")]),t._v(" "),a("div",{staticClass:"order-list"},t._l(t.orderList,function(e){return a("div",{staticClass:"list-item"},[t._v("\n\t              "+t._s(e.order)+"\n\t              ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.historyLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n\t              "+t._s(e)+"\n\t            ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanLabelNo,function(e){return a("div",{staticClass:"list-item"},[t._v("\n\t              "+t._s(e)+"\n\t            ")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("拍照上传")]),t._v(" "),a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refAbScan",attrs:{action:t.HOST+"abnormalUploadImage.do",limit:4,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])],1),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,orderList:t.cleanOrderList,deliveryId:t.deliveryId,transportLinks:t.transportLinks,actualQty:t.actualQty,abnormalscan:t.abnormalscan,omsNo:t.omsNo,orderId:t.orderId,AbHasScanNum:t.AbHasScanNum},on:{reflash:t.reflashData,scanFun:t.switchScanFun,isLoading_:t.fullscreenLoading}}),t._v(" "),a("v-confirm",{ref:"message"})],1)},staticRenderFns:[]};var We=a("VU/8")(Oe,Ue,!1,function(t){a("99mT")},"data-v-fe2d2c68",null).exports,Re={name:"Abnormal",components:{"v-scan":M,"v-header":st},data:function(){return{headerName:"上报异常",responseData:{},OMS:{},aboType:"",typeOptions:[],aboReason:"",reasonOptions:[],aboLink:"",linkOptions:[],aboPer:"",perOptions:[],aboText:"",dialogImageUrl:"",dialogVisible:!1,imgUrl:null,imgObj:null,uploadParams:{},imageUrl:"",switchScan:!0,uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,shipmentCode:"",omsNo:"",deliveryNoSF:"",linkno:"10"}},mounted:function(){this.getAboList();var t=this;f()(".LoadImg_conentul ul.el-upload-list+div").click(function(e){event.stopPropagation(),t.switchScanFun(!1)})},created:function(){this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode),this.$route.query.omsNo&&(this.omsNo=this.$route.query.omsNo,this.OMS.omsNo=this.omsNo),this.$route.query.deliveryNoSF?(this.deliveryNoSF=this.$route.query.deliveryNoSF,this.OMS.deliveryNoSF=this.deliveryNoSF):this.OMS.deliveryNoSF="",this.$route.query.linkno&&(this.linkno=this.$route.query.linkno)},methods:{beforeAvatarUpload:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},uploadSuccessful:function(t,e,a){if(2==t.status)return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("异常上报成功，图片上传失败,"+t.Msg,"提示",{confirmButtonText:"确定",callback:function(){}});this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败"):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},finishUpload:function(t){var e=this;e.$emit("isLoading",!1);var a="";t&&(a=t?","+t:""),this.$alert("异常上报成功"+a,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},commitAbo:function(){var t=this;this.uploadParams.omsNo=this.omsNo,this.uploadParams.fileType="异常",this.uploadParams.labelNo=this.linkno,t.uploadTotalNum=f()("div.uploadImg ul>li").length;var e={omsNo:this.OMS.omsNo,deliveryNoSF:this.OMS.deliveryNoSF,transporterId:this.$store.state.userInfo.orgnizationId,transporterName:this.$store.state.userInfo.orgnizationName,sponsorName:this.$store.state.userInfo.userName,abnormalType:this.aboType,abnormalReason:this.aboReason,abnormalLink:this.aboLink,responsibleParty:this.aboPer,abnormalExplain:this.aboText};t.$emit("isLoading",!0,"拼命加载中"),v.a.post(t.HOST+"reportAbnormal.do",{params:n()(e)}).then(function(e){var a;"1"==e.data.status?t.uploadTotalNum>0?t.$refs.uploadAb.submit():t.finishUpload():(t.$emit("isLoading",!1),a=e.data.Msg?e.data.Msg:"请求失败",t.$alert(a,"提示",{confirmButtonText:"确定"}))}).catch(function(e){t.$emit("isLoading",!1),t.$alert("请求失败","提示",{confirmButtonText:"确定"})})},getAboList:function(){var t=this;v.a.get(lt+"abnormalSeleteData.do").then(function(e){t.typeOptions=[],t.reasonOptions=[],t.linkOptions=[],t.perOptions=[];var a=JSON.parse(e.data.data);for(var i in a.abnormalLink){var s=a.abnormalLink[i],o={};o.value=s,o.label=s,t.linkOptions.push(o)}for(var n in a.abnormalReason){var r=a.abnormalReason[n],l={};l.value=r,l.label=r,t.reasonOptions.push(l)}for(var c in a.abnormalType){var d=a.abnormalType[c],u={};u.value=d,u.label=d,t.typeOptions.push(u)}for(var h in a.responsibleParty){var p=a.responsibleParty[h],v={};v.value=p,v.label=p,t.perOptions.push(v)}})},scanData:function(t){var e=this,a={scanLabel:t,shipmentCode:e.shipmentCode};this.httpRequest("verificationOmsNo.do",a,function(t){e.OMS={omsNo:t.data.omsNo,deliveryNoSF:t.data.deliveryNoSF}})},goPrev:function(){this.$router.go(-1)},switchScanFun:function(t){this.switchScan=!!t},uploadOnChange:function(t){this.switchScanFun(!0)}}},Me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body Abnormal"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goPrev}}),a("span",[t._v("异常上报")])]),t._v(" "),a("div",{staticClass:"kong"}),t._v(" "),a("div",{staticClass:"common-box"},[t.omsNo?t._e():a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan},on:{scanData:t.scanData}})],1)]),t._v(" "),a("div",{staticClass:"form-content"},[a("div",{staticClass:"form-item"},[a("label",[t._v("订单号")]),t._v(" "),a("el-input",{staticClass:"form-input",attrs:{type:"text",disabled:!0},model:{value:t.OMS.omsNo,callback:function(e){t.$set(t.OMS,"omsNo",e)},expression:"OMS.omsNo"}})],1),t._v(" "),a("div",{staticClass:"form-item"},[a("label",[t._v("运单号")]),t._v(" "),a("el-input",{staticClass:"form-input",attrs:{type:"text",disabled:!0},model:{value:t.OMS.deliveryNoSF,callback:function(e){t.$set(t.OMS,"deliveryNoSF",e)},expression:"OMS.deliveryNoSF"}})],1),t._v(" "),a("div",{staticClass:"form-item"},[a("label",[t._v("处理承运商")]),t._v(" "),a("el-input",{staticClass:"form-input",attrs:{type:"text",disabled:!0},model:{value:t.$store.state.userInfo.orgnizationName,callback:function(e){t.$set(t.$store.state.userInfo,"orgnizationName",e)},expression:"$store.state.userInfo.orgnizationName"}})],1),t._v(" "),a("div",{staticClass:"form-item"},[a("label",[t._v("发起人")]),t._v(" "),a("el-input",{attrs:{type:"text",disabled:!0},model:{value:t.$store.state.userInfo.userName,callback:function(e){t.$set(t.$store.state.userInfo,"userName",e)},expression:"$store.state.userInfo.userName"}})],1),t._v(" "),a("div",{staticClass:"form-item"},[a("label",[t._v("异常类型")]),a("br"),t._v(" "),a("el-select",{attrs:{placeholder:"异常类型选择"},model:{value:t.aboType,callback:function(e){t.aboType=e},expression:"aboType"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",{staticClass:"form-item"},[a("label",[t._v("异常原因")]),a("br"),t._v(" "),a("el-select",{attrs:{placeholder:"异常原因选择"},model:{value:t.aboReason,callback:function(e){t.aboReason=e},expression:"aboReason"}},t._l(t.reasonOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",{staticClass:"form-item"},[a("label",[t._v("异常环节")]),a("br"),t._v(" "),a("el-select",{attrs:{placeholder:"异常环节选择"},model:{value:t.aboLink,callback:function(e){t.aboLink=e},expression:"aboLink"}},t._l(t.linkOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",{staticClass:"form-item"},[a("label",[t._v("责任方")]),a("br"),t._v(" "),a("el-select",{attrs:{placeholder:"责任方选择"},model:{value:t.aboPer,callback:function(e){t.aboPer=e},expression:"aboPer"}},t._l(t.perOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",{staticClass:"form-item"},[a("label",[t._v("异常描述")]),t._v(" "),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.aboText,callback:function(e){t.aboText=e},expression:"aboText"}})],1)]),t._v(" "),a("div",{staticClass:"uploadImg"},[t._m(0),t._v(" "),a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"uploadAb",attrs:{action:t.HOST+"abnormalUploadImage.do","auto-upload":!1,data:t.uploadParams,"list-type":"picture-card",limit:3,multiple:!0,"on-error":t.uploadErr,"show-file-list":!0,"on-success":t.uploadSuccessful,"before-upload":t.beforeAvatarUpload,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)]),t._v(" "),a("div",{staticClass:"footer-commit"},[a("div",{staticClass:"commit",on:{click:t.commitAbo}},[t._v("提交")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("上传图片"),e("span",[this._v("(限3张)")]),this._v("：")])}]};var qe=a("VU/8")(Re,Me,!1,function(t){a("MbLo")},"data-v-68dead58",null).exports,Ee={data:function(){return{headerText:"途中轨迹",shipmentID:"",pointsArray:[],lngLats:[],lineArr:[],map_g:"",myInterval:"",myInterval_onComplete:"",myInterval_onError:"",geoShopList:[],geoTotalQty:0,geoOkQty:0,ifTips:!1,tips_Msg:""}},mounted:function(){var t=this;if(this.$route.query.head&&(this.headerText=this.$route.query.head),this.$route.query.shipmentID){this.shipmentID=this.$route.query.shipmentID;var e=new AMap.Map("container",{resizeEnable:!0});t.map_g=e;var a={shipmentId:t.shipmentID};t.$emit("isLoading",!0,"拼命加载中"),v.a.post(t.HOST+"getPathData.do",a).then(function(e){var a;(t.$emit("isLoading",!1),1==e.data.States)?t.pointsArray=e.data:(a=e.data.Msg?e.data.Msg:"请求失败",t.$alert(a,"提示",{confirmButtonText:"确定"}))}).catch(function(e){t.$emit("isLoading",!1),t.$alert("请求失败","提示",{confirmButtonText:"确定"})})}else t.$alert("运单id为空","提示",{confirmButtonText:"确定",callback:function(){t.$router.back(-1)}})},created:function(){},methods:{}},He={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TrackOnTheWay"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:function(e){return t.$router.back(-1)}}}),a("span",[t._v(t._s(t.headerText))])]),t._v(" "),a("div",{staticClass:"container",attrs:{id:"container"}}),t._v(" "),a("div",{attrs:{id:"panel"}}),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips_text"},[a("div",{staticClass:"tips_content"},[a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var Qe=a("VU/8")(Ee,He,!1,function(t){a("foXA")},"data-v-63349238",null).exports,Ve={name:"MassTransfer",data:function(){return{dialogImageUrl:"",dialogVisible:!1,uploadParams:{},tips_Msg:"",ifTips:!1,shipmentCode:"",omsNo:"",deliveryId:"",CurrentLocation:"",CurrentDistrict:"",CurrentCity:"",latitude:"",longitude:"",uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0}},created:function(){this.$route.query.shipmentCode&&(this.shipmentCode=this.$route.query.shipmentCode),this.$route.query.deliveryId&&(this.deliveryId=this.$route.query.deliveryId),this.$route.query.omsNo&&(this.omsNo=this.$route.query.omsNo),this.onPlusReady("isLoading_"),this.uploadParams.cellphone=this.$store.state.userInfo.cellphone,this.uploadParams.driverName=this.$store.state.userInfo.userName,this.uploadParams.city=this.CurrentCity,this.uploadParams.address=this.CurrentLocation,this.uploadParams.district=this.CurrentDistrict,this.uploadParams.omsNo=this.omsNo,this.uploadParams.fileType="回单",this.uploadParams.labelNo="40",this.uploadParams.returnFlag="T"},methods:{SetCurrAddress:function(t){var e=this,a=JSON.parse(t);if(e.CurrentCity=parseFloat(a.lng),"0"==a.lng)e.$emit("isLoading_",!1),this.$alert("定位失败","提示",{confirmButtonText:"确定",callback:function(t){}});else try{AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"}),i=[parseFloat(a.lng),parseFloat(a.lat)];e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),t.getAddress(i,function(t,a){e.$emit("isLoading_",!1),"complete"===t&&"OK"===a.info?(e.CurrentCity=a.regeocode.addressComponent.city?a.regeocode.addressComponent.city:a.regeocode.addressComponent.province,e.CurrentLocation=a.regeocode.formattedAddress,e.CurrentDistrict=a.regeocode.addressComponent.district):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})})}catch(t){e.$emit("isLoading_",!1),e.$alert(t,"提示",{confirmButtonText:"确定"})}},submit:function(){f()(".Upload>div.uploadImg:eq(0) ul>li").length?(this.uploadTotalNum=f()("div.uploadImg ul>li").length,this.$refs.upload_refMass.submit()):this.$alert("请上传图片","提示",{confirmButtonText:"确定"})},finishUpload:function(t){t=t?","+t:"";var e=this;this.$alert("签单上传成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}},ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"MassTransfer"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:function(e){return t.$router.back(-1)}}}),a("span",[t._v("签单上传")])]),t._v(" "),a("div",{staticClass:"container borderLine"},[a("div",[a("span",[t._v("订单号：")]),a("span",[t._v(t._s(t.omsNo))])]),t._v(" "),a("div",[a("span",[t._v("当前城市：")]),a("span",[t._v(t._s(t.CurrentCity))])]),t._v(" "),a("div",[a("span",[t._v("当前区县：")]),a("span",[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",[a("span",[t._v("当前位置：")]),a("span",[t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("拍照上传")]),t._v(" "),a("div",[a("el-upload",{ref:"upload_refMass",attrs:{action:t.HOST+"abnormalUploadImage.do",limit:6,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-preview":t.handlePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])]),t._v(" "),a("div",{staticClass:"submitBtn"},[a("p",{staticClass:"g_signBtn",on:{click:t.submit}},[t._v("提交")])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var Ge=a("VU/8")(Ve,ze,!1,function(t){a("nIrN")},"data-v-68c75186",null).exports,je={name:"CollectCustomerNum",data:function(){return{OrderInfoData:{},OrderInfoDataList:[],tips_Msg:"",ifTips:!1,printData:[],loadingData:!1,OrderInfo_show:!1,scanLabel:"",omsNo:""}},components:{"v-scan":M},mounted:function(){this.$route.query.omsNo&&(this.omsNo=this.$route.query.omsNo)},created:function(){},methods:{scanData:function(t){this.is_NoData=!1;var e=this;this.scanLabel=t;var a={scanLabel:this.omsNo,clientOrderNo:t};e.$emit("isLoading",!0,"拼命加载中"),v.a.post(e.HOST+"saveClientOrderNo.do",{params:n()(a)}).then(function(t){e.$emit("isLoading",!1),e.ifTips=!0,e.tips_Msg="操作成功",setTimeout(function(){e.ifTips=!1,e.$router.back(-1)},1500)}).catch(function(t){e.$emit("isLoading",!1),e.$alert("请求失败","提示",{confirmButtonText:"确定"})})},goprev:function(){this.$router.push({name:"Index"})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},Xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CollectCustomerNum"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:function(e){return t.$router.back(-1)}}}),a("span",[t._v("采集客户单号")])]),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{textre:"手动输入客户单号",loadingData:t.loadingData},on:{scanData:t.scanData}})],1),t._v(" "),a("div",{staticClass:"order-level"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.OrderInfo_show,expression:"OrderInfo_show"}],staticClass:"orderInfo"},[t.OrderInfoData?a("div",{staticClass:"ExpressListHead"},[t._v("订单信息")]):t._e(),t._v(" "),t.OrderInfoData?a("div",{staticClass:"AbnormalItem"},[a("div",{staticClass:"nomalList"},[a("div",[a("span",[t._v("订单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.OrderInfoData.omsNo,expression:"OrderInfoData.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.OrderInfoData.omsNo)+"\n\t\t\t\t\t\t      "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.OrderInfoData.omsNo,expression:"OrderInfoData.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})])]),t._v(" "),a("div",[a("span",[t._v("月结卡号：")]),a("span",[t._v(t._s(t.OrderInfoData.monthCardNumber))])])])]):t._e()])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var Ye=a("VU/8")(je,Xe,!1,function(t){a("PP7d")},"data-v-081f9720",null).exports,Ke={name:"UnloadDelivery",data:function(){return{dialogImageUrl:"",dialogVisible:!1,uploadParams:{},tips_Msg:"",ifTips:!1,omsNo:"",orderId:"",CurrentLocation:"",CurrentCity:"",CurrentDistrict:"",latitude:"",longitude:"",uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0}},created:function(){this.$route.query.omsNo&&(this.omsNo=this.$route.query.omsNo),this.$route.query.orderId&&(this.orderId=this.$route.query.orderId),this.onPlusReady("isLoading_"),this.uploadParams.cellphone=this.$store.state.userInfo.cellphone,this.uploadParams.driverName=this.$store.state.userInfo.userName,this.uploadParams.omsNo=this.omsNo,this.uploadParams.fileType="卸车扫描",this.uploadParams.labelNo="10"},methods:{submit:function(){var t=this;t.uploadTotalNum=f()("div.uploadImg ul>li").length,t.$emit("isLoading_",!0,"拼命加载中");var e={omsNo:t.omsNo,orderId:t.orderId,linkNode:"10",supplierId:t.$store.state.userInfo.orgnizationId,supplierName:t.$store.state.userInfo.orgnizationName,unloadPlace:t.CurrentLocation,district:t.CurrentDistrict,city:t.CurrentCity,longitude:t.longitude,latitude:t.latitude,unloadPerson:t.$store.state.userInfo.userName,cellphone:t.$store.state.userInfo.cellphone};t.httpRequest("savePickupData.do",e,function(e){t.uploadTotalNum>0?t.$refs.upload_refMass.submit():(t.$emit("isLoading_",!1),t.ifTips=!0,t.tips_Msg=e.Msg,setTimeout(function(){t.ifTips=!1,t.$router.back(-1)},1500))})},SetCurrAddress:function(t){var e=this,a=JSON.parse(t);if(e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),"0"==a.lng)e.$emit("isLoading_",!1),this.$alert("定位失败","提示",{confirmButtonText:"确定",callback:function(t){e.$router.go(-1)}});else try{AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"}),i=[parseFloat(a.lng),parseFloat(a.lat)];e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),t.getAddress(i,function(t,a){e.$emit("isLoading_",!1),"complete"===t&&"OK"===a.info?(e.CurrentCity=a.regeocode.addressComponent.city?a.regeocode.addressComponent.city:a.regeocode.addressComponent.province,e.CurrentLocation=a.regeocode.formattedAddress,e.CurrentDistrict=a.regeocode.addressComponent.district?a.regeocode.addressComponent.district:a.regeocode.addressComponent.township):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})})}catch(t){e.$emit("isLoading_",!1),e.$alert(t,"提示",{confirmButtonText:"确定"})}},finishUpload:function(t){t=t?","+t:"";var e=this;e.$emit("isLoading_",!1),this.$alert("卸货交付成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.$emit("isLoading_",!1),this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}},Je={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"UnloadDelivery"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:function(e){return t.$router.back(-1)}}}),a("span",[t._v("卸车交付")])]),t._v(" "),a("div",{staticClass:"container borderLine"},[a("div",[a("span",[t._v("订单号：")]),a("span",[t._v(t._s(t.omsNo))])]),t._v(" "),a("div",[a("span",[t._v("当前城市：")]),a("span",[t._v(t._s(t.CurrentCity))])]),t._v(" "),a("div",[a("span",[t._v("当前区县：")]),a("span",[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",[a("span",[t._v("当前位置：")]),a("span",[t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_head"},[t._v("拍照上传")]),t._v(" "),a("div",[a("el-upload",{ref:"upload_refMass",attrs:{action:t.HOST+"abnormalUploadImage.do",limit:6,multiple:!0,data:t.uploadParams,"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-preview":t.handlePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])]),t._v(" "),a("div",{staticClass:"submitBtn"},[a("p",{staticClass:"g_signBtn",on:{click:t.submit}},[t._v("提交")])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var Ze=a("VU/8")(Ke,Je,!1,function(t){a("hGeb")},"data-v-77b0bd2e",null).exports,ta={name:"commit-footer",components:{"v-confirm":et},data:function(){return{params:{params:[],longitude:"",latitude:""},CurrentCity:"",CurrentLocation:"",CurrentDistrict:"",cleanOrderList:[],commitImgDialog:!1,imageUrl:null,imgObj:null,BatchCommit_show:!1,BatchCommitNumber:"",longitude:"",latitude:"",crruentconfirm:"",commitPopUp_show:!1,AllCommitPopUp_show:!1}},props:["count","orderCount","countData","orderList","cacheResponseData","deliveryId","hideBitch","transportLinks","actualQty","orderId","AbHasScanNum","yiScanNumber","scanLabelNoThis","omsNoThis"],mounted:function(){this.onPlusReady("e")},methods:{RefreshPositioning:function(){this.onPlusReady("e")},SetCurrAddress:function(t){var e=this,a=JSON.parse(t);if(e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),"0"==a.lng)this.$alert("定位失败","提示",{confirmButtonText:"确定",callback:function(t){e.$router.go(-1)}});else try{AMap.plugin("AMap.Geocoder",function(){var t=new AMap.Geocoder({city:"010"}),i=[parseFloat(a.lng),parseFloat(a.lat)];e.longitude=parseFloat(a.lng),e.latitude=parseFloat(a.lat),t.getAddress(i,function(t,a){e.$emit("isLoading_",!1),"complete"===t&&"OK"===a.info?(e.CurrentCity=a.regeocode.addressComponent.city?a.regeocode.addressComponent.city:a.regeocode.addressComponent.province,e.CurrentLocation=a.regeocode.formattedAddress,e.CurrentDistrict=a.regeocode.addressComponent.district?a.regeocode.addressComponent.district:a.regeocode.addressComponent.township):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})})}catch(t){e.$alert(t,"提示",{confirmButtonText:"确定"})}},BatchCommit:function(){0!==this.count.length&&(this.BatchCommit_show=!0,this.crruentconfirm="批量",this.$emit("scanFun",!1))},BatchCommitCancel:function(){this.BatchCommit_show=!1,this.$emit("scanFun",!0)},BatchCommitConfirmitem:function(){var t=this;this.$route.path;t.$emit("isLoading_",!0,"拼命加载中"),t.uploadTotalNum=f()("div.uploadImg ul>li").length;var e={omsNo:t.omsNoThis,scanLabelNo:t.scanLabelNoThis,labelNumber:t.BatchCommitNumber,transportLinks:"20",scanPerson:t.$store.state.userInfo.userName,address:t.CurrentLocation,latitude:t.latitude,longitude:t.longitude,city:t.CurrentCity,districict:t.CurrentDistrict,cellphone:t.$store.state.userInfo.cellphone,supplierId:t.$store.state.userInfo.orgnizationId,supplierName:t.$store.state.userInfo.orgnizationName};v.a.post(t.HOST+"hkBatchScanLabel.do",{params:n()(e)}).then(function(e){var a;"1"==e.data.status?f()("div.uploadImg ul>li").length>0?t.$parent.updateimg():(t.$emit("isLoading_",!1),t.$alert("批量提交成功","提示",{confirmButtonText:"确定",callback:function(){t.$router.go(-1)}})):(t.$emit("isLoading_",!1),a=e.data.Msg?e.data.Msg:"批量提交失败",t.$emit("reflash",!0),t.$emit("scanFun",!0),t.$alert(a,"提示",{confirmButtonText:"确定"}))}).catch(function(e){t.$emit("isLoading_",!1),t.$emit("reflash",!0),t.$emit("scanFun",!0),t.$alert("批量提交失败","提示",{confirmButtonText:"确定"})})},BatchCommitConfirmbefore:function(){this.BatchCommitNumber&&("NaN"==parseInt(this.BatchCommitNumber).toString()||parseInt(this.BatchCommitNumber)<0||this.BatchCommitNumber!=parseInt(this.BatchCommitNumber)?this.$alert("请输入正整数","提示",{confirmButtonText:"确定",callback:function(){}}):this.BatchCommitNumber>this.actualQty-this.yiScanNumber?this.$alert("批量提交数量不能超过剩余未扫描总件数","提示",{confirmButtonText:"确定",callback:function(){}}):this.AllCommitPopUp_show=!0)},getTheFile:function(t){this.imageUrl=t.url},beforeAvatarUpload:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e},handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw),"1"===t.status?(this.$alert(t.Msg,"提示",{confirmButtonText:"确定"}),this.commitImgDialog=!1,this.imageUrl="",this.params={},this.$refs.upload.clearFiles(),this.$emit("reflash",!0),this.$emit("scanFun",!0)):this.$alert(t.Msg,"提示",{confirmButtonText:"确定"})},closeImgInput:function(){this.commitImgDialog=!1,this.$emit("scanFun",!0)},commitImg:function(){this.commitImgDialog=!1,this.$refs.myConfirm.show("是否提交数据？",{type:"confirm",cancelText:"取消",confirmText:"确定",titleText:"消息提示",data:this.count})},selectFile:function(t){this.imgUrl=t,this.setTheFormData()},setTheFormData:function(){var t=this,e=new FormData;e.append("data",this.imgUrl.srcElement.files[0]),this.imgObj=e.get("data");var a=new FileReader;a.readAsDataURL(e.get("data")),a.onload=function(e){t.$refs.img.src=e.target.result}},userBehaviorFun:function(t,e){"clickCancel"!==t?this.commitData():this.$emit("scanFun",!0)},commitPopUpCancel:function(){this.commitPopUp_show=!1},commitPopUpConfirm:function(){this.commitData()},AllCcommitPopUpCancel:function(){this.AllCommitPopUp_show=!1},AllCcommitPopUpConfirm:function(){"批量"==this.crruentconfirm?this.BatchCommitConfirmitem():this.commitData()},checkForCommit:function(){if(0!==this.count.length){if(this.crruentconfirm="提交",this.count.length<this.actualQty)return void(this.commitPopUp_show=!0);this.AllCommitPopUp_show=!0,this.$emit("scanFun",!1)}},commitData:function(){var t=this;t.$emit("isLoading_",!0,"拼命加载中"),t.AllCommitPopUp_show=!1,t.commitPopUp_show=!1;this.$route.path;var e=this.$store.state.userInfo.userName,a=this.$store.state.userInfo.cellphone,i=this.$store.state.userInfo.orgnizationId,s=this.$store.state.userInfo.orgnizationName,o=this.longitude,r=this.latitude,l=this.CurrentLocation,c=this.CurrentDistrict,d=this.CurrentCity,u=[];for(var h in this.count){var p={};p.labelNo=this.count[h].order,p.linkNode="20",p.scanPerson=e,p.cellphone=a,p.scanTime=this.count[h].time,p.supplierId=i,p.supplierName=s,p.longitude=o,p.latitude=r,p.address=l,p.city=d,p.districict=c,u.push(p)}var v=[];for(var m in this.cacheResponseData){var f={},_=this.cacheResponseData[m];f.omsNo=_.omsNo,f.displayWt=_.displayWt,f.linkNode="20",v.push(f)}for(var g in this.cleanOrderList=[],this.count)this.cleanOrderList.push(this.count[g].order);this.params={params:n()(u),labelNo:n()(this.cleanOrderList)}}}},ea={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commit-footer"},[a("div",{staticClass:"addr_foot"},[a("div",{staticClass:"addr_foot_f"},[a("div",[a("span",[t._v("当前城市：")]),a("span",[t._v(t._s(t.CurrentCity))])]),t._v(" "),a("div",[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",[a("span",[t._v("当前地址：")]),a("span",[t._v(t._s(t.CurrentLocation))])])]),t._v(" "),a("div",{staticClass:"addr_foot_s"},[a("div",{on:{click:t.RefreshPositioning}},[t._v("刷新定位")])])]),t._v(" "),a("div",{staticClass:"left-countbox"},[a("div",{staticClass:"left-count"},[a("div",{staticClass:"top"},[t._v("\n         订单总件数:"),a("i",[t._v(t._s(t.actualQty))]),t._v("件\n       ")]),t._v(" "),a("div",{staticClass:"bottom"},[t._v("\n         当前扫描:"),a("i",[t._v(t._s(t.count.length))]),t._v("件\n       ")])]),t._v(" "),a("div",{staticClass:"commit-button-box"},[a("div",{staticClass:"commit-button BatchCommit",on:{click:t.BatchCommit}},[t._v("批量提交")]),t._v(" "),a("div",{staticClass:"commit-button",class:{checkForCommit:t.hideBitch},on:{click:t.checkForCommit}},[t._v("提交")])]),t._v(" "),a("v-confirm",{ref:"myConfirm",on:{userBehavior:t.userBehaviorFun}})],1),t._v(" "),a("el-dialog",{staticClass:"img-dialog",attrs:{title:"上传图片",visible:t.commitImgDialog,"close-on-click-modal":!1,"show-close":!1,"append-to-body":"",width:"90%"},on:{"update:visible":function(e){t.commitImgDialog=e}}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:t.HOST+"scanLabel.do",data:t.params,name:"fileupload",multiple:!1,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,"on-change":t.getTheFile,"auto-upload":!0}},[t.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeImgInput}},[t._v("取 消")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.BatchCommit_show,expression:"BatchCommit_show"}],staticClass:"BatchCommitPopBox"},[a("div",{staticClass:"BatchCommit_"},[a("div",{staticClass:"BatchCommit_head"},[t._v("请填写要批量提交的数量")]),t._v(" "),a("div",{staticClass:"BatchCommit_info"},[a("span",[t._v("订单总件数：")]),a("span",[t._v(t._s(t.actualQty))])]),t._v(" "),a("div",{staticClass:"BatchCommit_content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.BatchCommitNumber,expression:"BatchCommitNumber"}],attrs:{type:"number",pattern:"[0-9]*"},domProps:{value:t.BatchCommitNumber},on:{input:function(e){e.target.composing||(t.BatchCommitNumber=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"BatchCommit_btn"},[a("div",{staticClass:"commit-button",on:{click:t.BatchCommitCancel}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"commit-button",on:{click:t.BatchCommitConfirmbefore}},[t._v("批量提交")])])])]),t._v(" "),t.commitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("订单未扫描完，只能提交一次")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("是否提交？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("订单总件数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.actualQty))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前提交数：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.count.length))])])]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.commitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.commitPopUpConfirm}},[t._v("确定")])])])])]):t._e(),t._v(" "),t.AllCommitPopUp_show?a("div",{staticClass:"SelectDelivery"},[a("div",{staticClass:"DeliveryBox"},[a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("请确认地址是否正确？")]),t._v(" "),a("div",{staticClass:"DeliveryBox_head commitPopUp_head",staticStyle:{color:"red",border:"none"}},[t._v("不正确请刷新定位"),a("span",{staticClass:"addr_foot_sl",on:{click:t.RefreshPositioning}},[t._v("刷新定位")])]),t._v(" "),a("div",{staticClass:"DeliveryBox_content commitPopUp_content"},[a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前城市：")]),t._v(t._s(t.CurrentCity))]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前区县：")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.CurrentDistrict))])]),t._v(" "),a("div",{staticStyle:{border:"none"}},[a("span",[t._v("当前地址：")]),t._v(t._s(t.CurrentLocation))])]),t._v(" "),a("div",{staticClass:"DeliveryBox_bottom"},[a("div",[a("span",{on:{click:t.AllCcommitPopUpCancel}},[t._v("取消")])]),t._v(" "),a("div",[a("span",{on:{click:t.AllCcommitPopUpConfirm}},[t._v("确定")])])])])]):t._e()],1)},staticRenderFns:[]};var aa={name:"AviationAllTransitScan",components:{"v-header":st,"v-scan":M,"v-footer":a("VU/8")(ta,ea,!1,function(t){a("1rJ7")},"data-v-5bf52d8c",null).exports,"v-confirm":et},data:function(){return{activeName:"first",headerName:"航空出港扫描",orderCount:0,countData:[],orderList:[],orderCodeList:[],cleanOrderList:[],orderListScanned:[],historyLabelNo:[],notScanLabelNo:[],dialogImageUrl:"",dialogVisible:!1,uploadParamsList:[{}],uploadSuccessNum:0,uploadTotalNum:0,uploadFailNum:0,loadingData:!1,switchScan:!0,deliveryId:"",orderId:"",actualQty:0,yiScanNumber:0,notScanned:[],scanned:[],SumNum:0}},mounted:function(){},created:function(){this.$route.query.deliveryId&&(this.deliveryId=this.$route.query.deliveryId),this.$route.query.orderId&&(this.orderId=this.$route.query.orderId)},methods:{updateimg:function(){this.uploadTotalNum=f()("div.uploadImg ul>li").length;for(var t=0;t<this.orderListScanned.length;t++)this.uploadParamsList[t]={cellphone:this.$store.state.userInfo.cellphone,omsNo:this.orderListScanned[t].order,fileType:"装车扫描",labelNo:"20"},this.$refs.upload_refXH[t].submit()},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},switchScanFun:function(t){this.switchScan=!!t},userBehaviorFun:function(){},deleteItem:function(t){this.orderList=this.orderList.filter(function(e){return e.order!==t});var e=[];for(var a in this.orderList)e.push(this.orderList[a].orderBooting);for(var i in this.cleanOrderList=[],this.orderList)this.cleanOrderList.push(this.orderList[i].order)},reflashData:function(){this.countData=[],this.orderList=[],this.orderCodeList=[],this.cleanOrderList=[],this.orderListScanned=[],this.historyLabelNo=[],this.notScanLabelNo=[]},scanData:function(t){var e=this;if(0===e.historyLabelNo.length&&0===e.notScanLabelNo.length&&0===e.orderList.length){var a={labelNo:t};e.getTheOrderNum(a,t)}else e.step0(t).then(function(a){0!==a.length?e.$refs.message.show("该标签号已扫描过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):e.step1(t).then(function(a){0!==a.length?e.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):e.step2(t).then(function(a){if(0!==a.length){e.notScanLabelNo=e.notScanLabelNo.filter(function(e){return e!==t});for(var i=0;i<e.notScanned.length;i++)e.notScanned[i].waybillNumber=e.notScanned[i].waybillNumber.filter(function(a){if(a==t)if(e.orderList.push({order:t,omsno:e.notScanned[i].omsNo,orderBooting:"",time:e.getTheTimeNow()}),e.orderListScanned.length){for(var s=!1,o=0;o<e.orderListScanned.length;o++)e.orderListScanned[o].order==e.notScanned[i].omsNo&&(e.orderListScanned[o].waybillNumber.push(a),s=!0);s||e.orderListScanned.push({order:e.notScanned[i].omsNo,orderBooting:"",time:e.getTheTimeNow(),waybillNumber:[a]})}else e.orderListScanned.push({order:e.notScanned[i].omsNo,orderBooting:"",time:e.getTheTimeNow(),waybillNumber:[a]});return a!==t}),e.notScanned[i].waybillNumber.length<=0&&e.notScanned.splice(i,1)}else{var s={labelNo:t};e.getTheOrderNum(s,t)}})})})},getTheTimeNow:function(){var t=new Date;function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDay())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},distinct:function(t,e){var a=t.concat(e),i=[],s={},o=!0,n=!1,r=void 0;try{for(var l,c=Et()(a);!(o=(l=c.next()).done);o=!0){var d=l.value;s[d]||(i.push(d),s[d]=1)}}catch(t){n=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw r}}return i},step0:function(t){var e=this;return new s.a(function(a){a(e.orderList.filter(function(e){return e.order==t}))})},step1:function(t){var e=this;return new s.a(function(a,i){a(e.historyLabelNo.filter(function(e){return e==t}))})},step2:function(t){var e=this;return new s.a(function(a,i){a(e.notScanLabelNo.filter(function(e){return e==t}))})},getTheOrderNum:function(t,e){var a=this,i=this,o=this;this.loadingData=!0,function(t){return v.a.post(lt+"queryAviationOmsNoSelectInfo.do",{params:n()(t)})}(t).then(function(t){if("1"==t.data.status){t.data.data.notScanned&&(o.notScanned=o.notScanned.concat(t.data.data.notScanned)),t.data.data.scanned&&(o.scanned=o.scanned.concat(t.data.data.scanned)),i.loadingData=!1;var n=t.data.data;for(var r in new s.a(function(t){function e(t){return Mt()(new Wt.a(t))}n.scanned&&n.scanned.length&&(i.historyLabelNo=i.historyLabelNo.concat(n.scanned[0].waybillNumber)),n.notScanned&&n.notScanned.length&&(i.notScanLabelNo=i.notScanLabelNo.concat(n.notScanned[0].waybillNumber)),i.historyLabelNo=e(i.historyLabelNo),i.notScanLabelNo=e(i.notScanLabelNo),t(!0)}).then(function(t){t&&i.step1(e).then(function(t){0!==t.length?i.$refs.message.show("该标签号已扫描保存过!",{type:"alert",confirmText:"确定",titleText:"请注意"}):i.step2(e).then(function(t){if(0!==t.length){i.notScanLabelNo=i.notScanLabelNo.filter(function(t){return t!==e});for(var a=0;a<i.notScanned.length;a++)i.notScanned[a].waybillNumber=i.notScanned[a].waybillNumber.filter(function(t){if(t==e)if(i.orderList.push({order:e,omsno:i.notScanned[a].omsNo,orderBooting:"",time:i.getTheTimeNow()}),i.orderListScanned.length){for(var s=!1,o=0;o<i.orderListScanned.length;o++)i.orderListScanned[o].order==i.notScanned[a].omsNo&&(i.orderListScanned[o].waybillNumber.push(t),s=!0);s||i.orderListScanned.push({order:i.notScanned[a].omsNo,orderBooting:"",time:i.getTheTimeNow(),waybillNumber:[t]})}else i.orderListScanned.push({order:i.notScanned[a].omsNo,orderBooting:"",time:i.getTheTimeNow(),waybillNumber:[t]});return t!==e}),i.notScanned[a].waybillNumber.length<=0&&i.notScanned.splice(a,1)}else i.$refs.message.show("标签号错误，请重新扫描!",{type:"alert",confirmText:"确定",titleText:"请注意"})})})}),a.cleanOrderList=[],a.orderList)a.cleanOrderList.push(a.orderList[r].order)}else a.loadingData=!1,i.$alert(t.data.Msg,"提示",{confirmButtonText:"确定"})}).catch(function(t){a.loadingData=!1,i.$alert(t,"提示",{confirmButtonText:"确定"})})},finishUpload:function(t){var e=this;e.$emit("isLoading_",!1),t=t?","+t:"",this.$alert("扫描保存成功"+t,"提示",{confirmButtonText:"确定",callback:function(){e.$router.back(-1)}})},uploadSuccessful:function(t,e,a){1==t.status&&this.uploadSuccessNum++,this.uploadSuccessNum!=parseInt(this.uploadTotalNum)?parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)?this.finishUpload("部分图片上传失败"):this.finishUpload(t.Msg):this.finishUpload("")},uploadErr:function(t,e,a){if(this.uploadFailNum++,this.uploadFailNum==parseInt(this.uploadTotalNum))return this.uploadSuccessNum=0,this.uploadFailNum=0,this.uploadTotalNum=0,this.$emit("isLoading",!1),void this.$alert("上传失败","提示",{confirmButtonText:"确定"});parseInt(this.uploadFailNum)+parseInt(this.uploadSuccessNum)==parseInt(this.uploadTotalNum)&&this.finishUpload("部分图片上传失败")},uploadOnChange:function(t){this.switchScanFun(!0)}}},ia={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AviationAllTransitScan"},[a("div",{staticClass:"common-box"},[a("v-header",{attrs:{headerName:t.headerName,orderList:t.orderList}}),t._v(" "),a("div",{staticClass:"content-box"},[a("v-scan",{attrs:{switchScan:t.switchScan,loadingData:t.loadingData},on:{scanData:t.scanData}})],1)],1),t._v(" "),a("div",{staticClass:"PickUpRandomScan_orderbox"},[a("div",{staticClass:"order-level level2"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],attrs:{stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"扫描标签("+t.orderList.length+")",name:"first"}},[a("div",{staticClass:"order-list"},t._l(t.orderListScanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.order)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])}),t._v(" "),a("div",{staticClass:"Upload"},[a("div",{staticClass:"uploadImg"},[a("div",{staticClass:"LoadImg_conentul"},[a("el-upload",{ref:"upload_refXH",refInFor:!0,attrs:{action:t.HOST+"abnormalUploadImage.do",limit:6,multiple:!0,data:t.uploadParamsList[i],"auto-upload":!1,"list-type":"picture-card","before-upload":t.beforeUpload,"on-error":t.uploadErr,"on-success":t.uploadSuccessful,"on-change":t.uploadOnChange}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])])],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length == 0"}],staticClass:"no-data"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"历史标签("+t.historyLabelNo.length+")",name:"second"}},[a("div",{staticClass:"order-list"},t._l(t.scanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.omsNo)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])})],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.historyLabelNo.length,expression:"historyLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])]),t._v(" "),a("el-tab-pane",{attrs:{label:"未扫描标签("+t.notScanLabelNo.length+")",name:"third"}},[a("div",{staticClass:"order-list"},t._l(t.notScanned,function(e,i){return a("div",{key:i,staticClass:"order-list_item",attrs:{id:i}},[a("div",{staticClass:"order-list_item_order"},[t._v("订单号: "+t._s(e.omsNo)+" ")]),t._v(" "),t._l(e.waybillNumber,function(e,i){return a("div",{staticClass:"order-list_item_item"},[t._v(t._s(e)+" ")])})],2)}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.notScanLabelNo.length,expression:"notScanLabelNo.length == 0"}],staticClass:"no-data no-data2"},[a("div",{staticClass:"right-bg"})])])],1)],1)]),t._v(" "),a("v-footer",{attrs:{count:t.orderList,orderCount:t.orderCodeList.filter(function(t){return""!==t}).length,countData:t.countData,orderList:t.cleanOrderList,deliveryId:t.deliveryId,actualQty:t.actualQty,orderId:t.orderId,yiScanNumber:t.yiScanNumber,SumNum:t.SumNum},on:{reflash:t.reflashData,scanFun:t.switchScanFun,isLoading_:t.fullscreenLoading}}),t._v(" "),a("v-confirm",{ref:"message"})],1)},staticRenderFns:[]};var sa=a("VU/8")(aa,ia,!1,function(t){a("rRKO")},"data-v-4e32cf12",null).exports,oa=a("MJLE"),na=a.n(oa),ra=(a("TwlK"),{name:"OrderInfo_template",props:{_orderInfo:{type:Array,default:function(){return[]}},shipmentID:0,backBottleFlag:"",shipStatus:"",selectAddr:!1,historyList:!1,LinkStatus:"",receivingStatus:"",daoDaStatus:""},data:function(){return{tips_Msg:"",ifTips:!1,ChangeInfo_show:!1,ChangeOrderIndex:0,ChangeOrderQty:"",ChangeOrderWt:"",qrcodePayment_show:!1,wxqrcodePayment_show:!1,selectPaymentmeng:!1,queryPaySetInterval:"",queryPayMsg:"",payOmsNo:""}},components:{QRCode:na.a},mounted:function(){},created:function(){},beforeDestroy:function(){clearInterval(this.queryPaySetInterval)},methods:{PrintExpress:function(t){var e={omsNo:this._orderInfo[t].omsNo};this.httpRequest("surfacePrint.do",e,function(t){for(var e in t.data[0].bsOrderWt&&(t.data[0].bsOrderWt=parseFloat(t.data[0].bsOrderWt/1e3)),t.data[0])0==t.data[0][e]&&(t.data[0][e]="-");var a=n()(t.data);try{CallAndroidOrIOS.callAndroid("打印",a)}catch(t){}try{window.webkit.messageHandlers.messageSend.postMessage({a:"打印",b:a})}catch(t){}},"isLoading_")},toDeliveryScanXH:function(t){event.stopPropagation();this.$router.push({name:"DeliveryScanXH",query:{omsNo:this._orderInfo[t].omsNo,deliveryId:this._orderInfo[t].deliveryId,orderId:this._orderInfo[t].orderId,transportLinks:this.LinkStatus,scanNumber:this._orderInfo[t].scanNumber,actualQty:this._orderInfo[t].actualQty}})},CollectCustomerNum:function(t){event.stopPropagation();this.$router.push({name:"CollectCustomerNum",query:{omsNo:this._orderInfo[t].omsNo}})},ChangeOrderInfo:function(t){this.ChangeOrderIndex=t,this.ChangeOrderQty=this._orderInfo[t].actualQty,this.ChangeOrderWt=this._orderInfo[t].actualWt,this.ChangeInfo_show=!0},ChangeInfoCancel:function(){this.ChangeInfo_show=!1},ChangeInfoConfirm:function(){var t=this;if(t.ChangeOrderQty&&t.ChangeOrderWt)if("NaN"==parseInt(t.ChangeOrderQty).toString()||parseInt(t.ChangeOrderQty)<=0||t.ChangeOrderQty!=parseInt(t.ChangeOrderQty))alert("订单数量请输入正整数");else if("NaN"==parseFloat(t.ChangeOrderWt).toString()||parseFloat(t.ChangeOrderWt)<=0||t.ChangeOrderWt!=parseFloat(t.ChangeOrderWt))alert("订单重量请输入正数");else{t.ChangeInfo_show=!1;var e={omsNo:t._orderInfo[t.ChangeOrderIndex].omsNo,deliveryId:t._orderInfo[t.ChangeOrderIndex].deliveryId,orderQty:t.ChangeOrderQty,orderWt:t.ChangeOrderWt};t.httpRequest("updateOrderQty.do",e,function(e){t.$alert("修改订单成功","提示",{confirmButtonText:"确定",callback:function(){t.$parent.loadData()}})},"isLoading_")}},refreshBtn:function(){this.$parent.loadData()},qrcodeClose:function(){clearInterval(this.queryPaySetInterval),this.qrcodePayment_show=!1,this.wxqrcodePayment_show=!1,this.$parent.loadData()},selectPayClose:function(){this.selectPaymentmeng=!1},toSelectQrCodePay:function(t){this.payOmsNo=this._orderInfo[t].omsNo,this.selectPaymentmeng=!0},toWXQrCodePayment:function(){var t=this;this.selectPaymentmeng=!1;var e={omsNo:t.payOmsNo,user:t.$store.state.userInfo.userName,tel:t.$store.state.userInfo.cellphone};this.httpRequest("getFeeWithSecondCodeFromWeiXin.do",e,function(e){t.wxqrcodePayment_show=!0,t.$nextTick(function(){t.qrcode(e.Msg)}),clearInterval(t.queryPaySetInterval),t.queryPaySetInterval=setInterval(t.queryPayResults,1500)},"isLoading_")},toQrCodePayment:function(){var t=this;this.selectPaymentmeng=!1;var e={omsNo:t.payOmsNo,user:t.$store.state.userInfo.userName,tel:t.$store.state.userInfo.cellphone};this.httpRequest("getFeeWithSecondCodeFromZhiFuBao.do",e,function(e){t.qrcodePayment_show=!0,t.$nextTick(function(){t.qrcode(e.Msg)}),clearInterval(t.queryPaySetInterval),t.queryPaySetInterval=setInterval(t.queryPayResults,1500)},"isLoading_")},queryPayResults:function(){var t=this,e={omsNo:t.payOmsNo,user:t.$store.state.userInfo.userName,tel:t.$store.state.userInfo.cellphone};v.a.post(t.HOST+"getFeeStatusWithOrderSF.do",{params:n()(e)}).then(function(e){"1"==e.data.status&&clearInterval(t.queryPaySetInterval),t.queryPayMsg=e.data.Msg}).catch(function(e){clearInterval(t.queryPaySetInterval),t.$alert("查询支付结果失败","提示",{confirmButtonText:"确定"})})},qrcode:function(t){new na.a("qrcode",{width:200,height:200,text:t})},submitOrders:function(t,e){event.stopPropagation();var a=this;this.$confirm("确认要提交"+e+"吗？ 订单号："+a._orderInfo[t].omsNo,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$emit("isLoading_",!0,"拼命加载中");var i="";"Link_PickUp"==a.LinkStatus&&(i="10"),"Link_Transit"==a.LinkStatus&&(i="20"),"Link_ToSend"==a.LinkStatus&&"WEI"==a._orderInfo[t].loadingStatus&&(i="30"),"Link_ToSend"==a.LinkStatus&&"YI"==a._orderInfo[t].loadingStatus&&(i="40");var s={deliveryId:a._orderInfo[t].deliveryId,transportLinks:i,driverName:a.$store.state.userInfo.userName,deliveryMethod:a._orderInfo[t].deliveryMethod,forwardSupplier:a._orderInfo[t].forwardSupplier,forwardSupplierId:a._orderInfo[t].forwardSupplierId};v.a.post(a.HOST+"updateDeliveryScanNumber.do",{params:n()(s)}).then(function(t){var i;(a.$emit("isLoading_",!1),"1"==t.data.status)?(a.ifTips=!0,a.tips_Msg="提交"+e+"成功",setTimeout(function(){a.ifTips=!1,a.$parent.loadData()},1500)):(i=t.data.Msg?t.data.Msg:"提交失败",alert(i))}).catch(function(t){a.$emit("isLoading_",!1),alert("提交失败")})}).catch(function(){})},UnloadDelivery:function(t){event.stopPropagation();this.$router.push({name:"UnloadDelivery",query:{omsNo:this._orderInfo[t].omsNo,orderId:this._orderInfo[t].orderId}})},toTransitScan:function(t){event.stopPropagation();this.$router.push({name:"TransitScan",query:{omsNo:this._orderInfo[t].omsNo,deliveryId:this._orderInfo[t].deliveryId,orderId:this._orderInfo[t].orderId,scanNumber:this._orderInfo[t].scanNumber,actualQty:this._orderInfo[t].actualQty}})},toDeliveryOrderPickScan:function(t){event.stopPropagation();var e=this;"ZK"==e._orderInfo[t].reference10&&"到付现结"==e._orderInfo[t].chargeTypes?e.$alert("到付件需转送大网派送","提示",{confirmButtonText:"确定",callback:function(){e.$router.push({name:"DeliveryOrderPickScan",query:{omsNo:e._orderInfo[t].omsNo,deliveryId:e._orderInfo[t].deliveryId,orderId:e._orderInfo[t].orderId,scanNumber:e._orderInfo[t].scanNumber,actualQty:e._orderInfo[t].actualQty}})}}):e.$router.push({name:"DeliveryOrderPickScan",query:{omsNo:e._orderInfo[t].omsNo,deliveryId:e._orderInfo[t].deliveryId,orderId:e._orderInfo[t].orderId,scanNumber:e._orderInfo[t].scanNumber,actualQty:e._orderInfo[t].actualQty}})},toAbnormal:function(t,e){event.stopPropagation();var a;"Link_PickUp"==this.LinkStatus?a="10":"Link_Transit"==this.LinkStatus?a="20":"Link_ToSend"==this.LinkStatus&&(a="WEI"==e?"30":"40"),this.$router.push({name:"Abnormal",query:{omsNo:this._orderInfo[t].omsNo,deliveryNoSF:this._orderInfo[t].clientOrderNo,linkno:a}})},toReceiptScan:function(t){event.stopPropagation();this.$router.push({name:"ReceiptScan",query:{omsNo:this._orderInfo[t].omsNo,deliveryId:this._orderInfo[t].deliveryId,orderId:this._orderInfo[t].orderId,deliveryNumber:this._orderInfo[t].deliveryNumber,actualQty:this._orderInfo[t].actualQty,HasLoading:this._orderInfo[t].scanNumber,returnBillFlag:this._orderInfo[t].returnBillFlag,deliveryMethod:this._orderInfo[t].deliveryMethod,forwardSupplier:this._orderInfo[t].forwardSupplier,forwardSupplierId:this._orderInfo[t].forwardSupplierId,reference10:this._orderInfo[t].reference10,chargeTypes:this._orderInfo[t].chargeTypes}})},toMassTransfer:function(t){event.stopPropagation();this.$router.push({name:"MassTransfer",query:{omsNo:this._orderInfo[t].omsNo,deliveryId:this._orderInfo[t].deliveryId}})},selectData:function(t,e){if(e){var a,i=f()(".goodsInfo").eq(t).children(".goodsHead").children("span.iconfont");i.hasClass("icon-xuanzhong")?i.removeClass("icon-xuanzhong").addClass("icon-weixuanzhong"):i.hasClass("icon-weixuanzhong")&&i.removeClass("icon-weixuanzhong").addClass("icon-xuanzhong");for(var s={Selected:!1,unSelected:!1},o=0;o<this._orderInfo.length;o++)(a=f()(".goodsInfo").eq(o).children(".goodsHead").children("span.iconfont")).hasClass("icon-xuanzhong")?s.Selected=!0:a.hasClass("icon-weixuanzhong")&&(s.unSelected=!0);s.Selected!=s.unSelected&&("取消全选"==f()(".selectAll").html()?f()(".selectAll").html("全选"):f()(".selectAll").html("取消全选"))}},selectAll:function(){if("取消全选"==f()(".selectAll").html()){f()(".selectAll").html("全选");for(var t=0;t<this._orderInfo.length;t++)f()(".goodsInfo").eq(t).children(".goodsHead").children("span.iconfont").removeClass("icon-xuanzhong").addClass("icon-weixuanzhong")}else{f()(".selectAll").html("取消全选");for(t=0;t<this._orderInfo.length;t++)f()(".goodsInfo").eq(t).children(".goodsHead").children("span.iconfont").removeClass("icon-weixuanzhong").addClass("icon-xuanzhong")}},detail_takaUp:function(t){event.stopPropagation();var e=f()(".goodsInfo").eq(t).find(".TakeUp").find("span"),a=f()(".goodsInfo").eq(t).find(".TakeUp").find("i");"查看货物信息"==e.html()?(f()(".goodsInfo").eq(t).find(".goodsContent").show(),e.html("收起明细"),a.css("transform","rotate(180deg)")):(f()(".goodsInfo").eq(t).find(".goodsContent").hide(),e.html("查看货物信息"),a.css("transform","rotate(0deg)"))},_ewm:function(t){this.$router.push({name:"QRCode",query:{omsNo:t}})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}}),la={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"OrderInfo_template"},[i("div",{staticClass:"orderHead"},[t._v("\n\t\t订单信息")]),t._v(" "),t._l(t._orderInfo,function(e,a){return i("div",{key:a,staticClass:"goodsInfo",attrs:{id:a}},[i("div",{staticClass:"goodsHead"},["Link_PickUp"==t.LinkStatus&&("ZK"!=e.reference10&&"YI"==e.updateQtyStatus||"ZK"==e.reference10||"T"==e.vipshop)?i("span",{staticClass:"iconfont icon-dayin KeyInfoGroup",class:{KeyInfoGroup1:"寄付现结"==e.chargeTypes},on:{click:function(e){return t.PrintExpress(a)}}},[i("span",[t._v("打印")])]):t._e(),t._v(" "),"Link_ToSend"==t.LinkStatus?i("div",{staticClass:"KeyInfoGroup"},["到付现结"==e.chargeTypes||"到付"==e.chargeTypes?i("div",[i("span",[t._v(t._s(e.chargeTypes))])]):t._e(),t._v(" "),"T"==e.returnBillFlag?i("div",[i("span",[t._v("签回单")])]):t._e()]):t._e(),t._v(" "),"Link_PickUp"==t.LinkStatus&&"寄付现结"==e.chargeTypes?i("div",{staticClass:"KeyInfoGroup"},[t._m(0,!0)]):t._e(),t._v(" "),"WEI"==e.loadingStatus&&e.scanNumber<e.actualQty&&e.scanNumber>0?i("div",{staticClass:"YourSynths"},[i("i",{staticClass:"iconfont icon-tishi"}),i("span",[t._v("装车未扫完")])]):t._e(),t._v(" "),"Link_ToSend"==t.LinkStatus&&"YI"==e.loadingStatus&&e.deliveryNumber<e.actualQty&&e.deliveryNumber>0?i("div",{staticClass:"YourSynths"},[i("i",{staticClass:"iconfont icon-tishi"}),i("span",[t._v("签收未扫完")])]):t._e(),t._v(" "),i("div",{staticClass:"ordernum"},[i("span",[t._v("订单号：")]),t._v(" "),i("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.omsNo,expression:"dataItem.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(e.omsNo)+"\n\t\t\t\t    ")]),t._v(" "),i("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.omsNo,expression:"dataItem.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})]),t._v(" "),i("div",{staticClass:"ordernum"},[i("span",[t._v("SF运单号：")]),t._v(" "),i("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.clientOrderNo,expression:"dataItem.clientOrderNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(e.clientOrderNo)+"\n\t\t\t\t    ")]),t._v(" "),e.clientOrderNo?i("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.clientOrderNo,expression:"dataItem.clientOrderNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"}):t._e()]),t._v(" "),i("div",[i("span",[t._v("收货联系人：")]),t._v(" "),i("span",[t._v(t._s(e.receivePartyContactName)+"    "+t._s(e.receivePartyPhone)+"    ")]),t._v(" "),i("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(a){return t.callPhone(e.receivePartyPhone)}}})]),t._v(" "),i("div",{staticClass:"PartyAddr"},[i("span",[t._v("收货地址：")]),t._v(" "),i("span",[t._v(t._s(e.receivePartyAddr1))])]),t._v(" "),i("div",[i("span",[t._v("装货联系人：")]),t._v(" "),i("span",[t._v(t._s(e.issuePartyContact)+"    "+t._s(e.issuePartyTel)+"    ")]),t._v(" "),e.issuePartyTel?i("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(a){return t.callPhone(e.issuePartyTel)}}}):t._e()]),t._v(" "),i("div",{staticClass:"PartyAddr"},[i("span",[t._v("装货地址：")]),t._v(" "),i("span",[t._v(t._s(e.issuePartyAddr))])]),t._v(" "),"Link_PickUp"==t.LinkStatus?i("div",[i("span",[t._v("小哥电话：")]),t._v(" "),i("span",[t._v(t._s(e.empPhone)+"    ")]),t._v(" "),e.empPhone?i("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(a){return t.callPhone(e.empPhone)}}}):t._e()]):t._e(),t._v(" "),i("div",[i("div",[i("span",[t._v("件数：")]),t._v(" "),i("span",[t._v(t._s(e.actualQty))])]),t._v(" "),i("div",[i("span",[t._v("重量：")]),t._v(" "),i("span",[t._v(t._s(e.actualWt)+"   KG")])])]),t._v(" "),"Link_PickUp"!=t.LinkStatus&&"Link_ToSend"!=t.LinkStatus||"已订舱"!=e.bookingStatus?t._e():i("div",[i("span",[t._v("航班号：")]),t._v(" "),i("span",[t._v(t._s(e.flightNo))])]),t._v(" "),"Link_PickUp"!=t.LinkStatus&&"Link_ToSend"!=t.LinkStatus||"已订舱"!=e.bookingStatus?t._e():i("div",[i("span",[t._v("计划起飞时间：")]),t._v(" "),i("span",[t._v(t._s(e.plannedDepartureTime))])]),t._v(" "),"Link_PickUp"!=t.LinkStatus&&"Link_ToSend"!=t.LinkStatus||"已订舱"!=e.bookingStatus?t._e():i("div",[i("span",[t._v("计划落地时间：")]),t._v(" "),i("span",[t._v(t._s(e.plannedLandingTime))])]),t._v(" "),e.deliveryMethod?i("div",[i("div",[i("span",[t._v("派件方式：")]),t._v(" "),i("span",[t._v(t._s(e.deliveryMethod))])]),t._v(" "),e.forwardSupplier&&"转寄"==e.deliveryMethod?i("div",[i("span",[t._v("转寄承应商：")]),t._v(" "),i("span",[t._v(t._s(e.forwardSupplier))])]):t._e()]):t._e(),t._v(" "),e.valuationMoney?i("div",[i("span",[t._v("保价金额：")]),i("span",[t._v(t._s(e.valuationMoney)+"  元")])]):t._e(),t._v(" "),"WEI"==e.loadingStatus&&e.scanNumber?i("div",[i("span",[t._v("已扫描：")]),i("span",[t._v(t._s(e.scanNumber)+"  件")])]):t._e(),t._v(" "),i("div",["Link_ToSend"==t.LinkStatus&&"YI"==e.loadingStatus?i("div",[i("span",[t._v("已装车：")]),i("span",[t._v(t._s(e.scanNumber)+"  件")])]):t._e(),t._v(" "),"YI"==e.loadingStatus&&"WEI"==e.signStatus&&e.deliveryNumber?i("div",[i("span",[t._v("已扫描：")]),i("span",[t._v(t._s(e.deliveryNumber)+"  件")])]):t._e(),t._v(" "),"YI"==e.loadingStatus&&"YI"==e.signStatus?i("div",[i("span",[t._v("已签收：")]),i("span",[t._v(t._s(e.deliveryNumber)+"  件")])]):t._e()]),t._v(" "),"Link_PickUp"==t.LinkStatus&&"寄付现结"==e.chargeTypes&&"ZK"!=e.reference10?i("div",[i("span",[t._v("支付状态：")]),i("span",{style:{color:"未收款"==e.payeeStatus||""==e.payeeStatus?"red":"green"}},[t._v(t._s(e.payeeStatus))]),t._v(" "),"未收款"==e.payeeStatus||""==e.payeeStatus?i("span",{staticClass:"refreshBtn",on:{click:t.refreshBtn}},[t._v("刷新支付状态")]):t._e(),t._v(" "),i("span",{staticClass:"refreshBtn",on:{click:function(e){return t.toSelectQrCodePay(a)}}},[t._v("收款二维码")])]):t._e(),t._v(" "),"Link_ToSend"==t.LinkStatus&&"YI"==e.loadingStatus&&"到付现结"==e.chargeTypes&&"ZK"!=e.reference10?i("div",[i("span",[t._v("支付状态：")]),i("span",{style:{color:"未收款"==e.payeeStatus||""==e.payeeStatus?"red":"green"}},[t._v(t._s(e.payeeStatus))]),t._v(" "),"未收款"==e.payeeStatus||""==e.payeeStatus?i("span",{staticClass:"refreshBtn",on:{click:t.refreshBtn}},[t._v("刷新支付状态")]):t._e()]):t._e(),t._v(" "),"Link_ToSend"==t.LinkStatus&&"YI"==e.loadingStatus&&"T"==e.returnBillFlag?i("div",[i("span",[t._v("是否上传回单：")]),i("span",[t._v(t._s("已签收"==e.returnOrderStatus?"已上传":"未上传"))])]):t._e()]),t._v(" "),t.historyList?t._e():i("div",{staticClass:"_btn"},["Link_PickUp"==t.LinkStatus&&"T"==e.vipshop?i("span",{staticClass:"g_btn",on:{click:function(e){return t.CollectCustomerNum(a)}}},[t._v("采集单号")]):t._e(),t._v(" "),"Link_PickUp"==t.LinkStatus&&"WEI"==e.loadingStatus&&"ZK"!=e.reference10&&"F"==e.vipshop?i("span",{staticClass:"g_btn",on:{click:function(e){return t.ChangeOrderInfo(a)}}},[t._v(t._s("WEI"==e.updateQtyStatus?"确认订单信息":"修改订单"))]):t._e(),t._v(" "),"Link_PickUp"==t.LinkStatus&&"WEI"==e.loadingStatus&&("ZK"!=e.reference10&&"YI"==e.updateQtyStatus||"ZK"==e.reference10||"T"==e.vipshop)?i("span",{staticClass:"g_btn",on:{click:function(e){return t.toDeliveryScanXH(a)}}},[t._v("提货扫描")]):t._e(),t._v(" "),"Link_Transit"==t.LinkStatus&&"WEI"==e.loadingStatus?i("span",{staticClass:"g_btn",on:{click:function(e){return t.toTransitScan(a)}}},[t._v("装车扫描")]):t._e(),t._v(" "),"Link_ToSend"==t.LinkStatus&&"WEI"==e.loadingStatus?i("span",{staticClass:"g_btn",on:{click:function(e){return t.toDeliveryOrderPickScan(a)}}},[t._v("装车扫描")]):t._e(),t._v(" "),"Link_ToSend"==t.LinkStatus&&"YI"==e.loadingStatus&&"WEI"==e.signStatus?i("span",{staticClass:"g_btn",on:{click:function(e){return t.toReceiptScan(a)}}},[t._v("签收扫描")]):t._e(),t._v(" "),i("span",{staticClass:"g_btn",on:{click:function(i){return t.toAbnormal(a,e.loadingStatus)}}},[t._v("异常上报")]),t._v(" "),"Link_ToSend"==t.LinkStatus&&"YI"==e.loadingStatus&&"T"==e.returnBillFlag?i("span",{staticClass:"g_btn",on:{click:function(e){return t.toMassTransfer(a)}}},[t._v("签单上传")]):t._e(),t._v(" "),"Link_ToSend"!=t.LinkStatus||"YI"!=e.loadingStatus||"到付现结"!=e.chargeTypes||"未收款"!=e.payeeStatus&&""!=e.payeeStatus||"ZK"==e.reference10?t._e():i("span",{staticClass:"g_btn",on:{click:function(e){return t.toSelectQrCodePay(a)}}},[t._v("收款二维码")]),t._v(" "),"Link_ToSend"==t.LinkStatus&&"YI"==e.loadingStatus&&"WEI"==e.signStatus?i("span",{staticClass:"g_btn",on:{click:function(e){return t.submitOrders(a,"签收")}}},[t._v("提交签收")]):t._e(),t._v(" "),"Link_ToSend"==t.LinkStatus&&"WEI"==e.loadingStatus?i("span",{staticClass:"g_btn",on:{click:function(e){return t.submitOrders(a,"装车")}}},[t._v("提交装车")]):t._e(),t._v(" "),("Link_PickUp"==t.LinkStatus&&("ZK"!=e.reference10&&"YI"==e.updateQtyStatus||"ZK"==e.reference10||"T"==e.vipshop)||"Link_Transit"==t.LinkStatus)&&"WEI"==e.loadingStatus?i("span",{staticClass:"g_btn",on:{click:function(e){return t.submitOrders(a,"订单")}}},[t._v("提交订单")]):t._e(),t._v(" "),"Link_PickUp"==t.LinkStatus&&"YI"==e.loadingStatus&&"0"==e.unloadStatus?i("span",{staticClass:"g_btn",on:{click:function(e){return t.UnloadDelivery(a)}}},[t._v("卸车交付")]):t._e()]),t._v(" "),i("div",{staticClass:"goodsContent",style:{display:"T"==t.backBottleFlag?"block":"none"},on:{click:function(e){return t.detail_takaUp(a)}}},t._l(e.deliveryDetailList,function(e,a){return i("div",{key:a,attrs:{id:a}},[t._v(t._s(e.productNo)+"      "+t._s(e.productName)+"         "+t._s(e.poOrderQty)+t._s(e.poUom))])}),0),t._v(" "),e.deliveryDetailList.length?i("div",{staticClass:"goodsBtn"},[i("div",{staticClass:"TakeUp",on:{click:function(e){return t.detail_takaUp(a)}}},[i("div",[i("span",[t._v(t._s("T"==t.backBottleFlag?"收起明细":"查看货物信息"))]),i("i",{staticClass:"iconfont icon-up",style:{transform:"T"==t.backBottleFlag?"rotate(180deg)":"rotate(0deg)"}})])])]):t._e()])}),t._v(" "),t.ifTips?i("div",{staticClass:"msg_tips msg_tips1"},[i("div",{staticClass:"tips_content"},[i("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),i("span",[t._v(t._s(t.tips_Msg))])])]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.ChangeInfo_show,expression:"ChangeInfo_show"}],staticClass:"BatchCommitPopBox"},[i("div",{staticClass:"BatchCommit_"},[i("div",{staticClass:"BatchCommit_head"},[t._v("修改订单信息")]),t._v(" "),i("div",{staticClass:"BatchCommit_ChangeInfo"},[i("div",[t._m(1),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ChangeOrderQty,expression:"ChangeOrderQty"}],attrs:{type:"number"},domProps:{value:t.ChangeOrderQty},on:{input:function(e){e.target.composing||(t.ChangeOrderQty=e.target.value)}}})]),t._v(" "),t._m(2)]),t._v(" "),i("div",[t._m(3),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ChangeOrderWt,expression:"ChangeOrderWt"}],domProps:{value:t.ChangeOrderWt},on:{input:function(e){e.target.composing||(t.ChangeOrderWt=e.target.value)}}})]),t._v(" "),t._m(4)])]),t._v(" "),i("div",{staticClass:"BatchCommit_btn"},[i("div",{staticClass:"commit-button",on:{click:t.ChangeInfoCancel}},[t._v("取消")]),t._v(" "),i("div",{staticClass:"commit-button",on:{click:t.ChangeInfoConfirm}},[t._v("确定")])])])]),t._v(" "),t.selectPaymentmeng?i("div",{staticClass:"selectPaymentmeng"},[i("div",{staticClass:"selectPayment"},[i("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:t.selectPayClose}}),t._v(" "),i("div",{staticClass:"selectPaymentimg",on:{click:t.toWXQrCodePayment}},[i("img",{attrs:{src:a("NHJI")}})]),t._v(" "),i("div",{staticClass:"selectPaymentimg",on:{click:t.toQrCodePayment}},[i("img",{staticClass:"zfbimg",attrs:{src:a("Ro8Z")}})]),t._v(" "),i("div",{staticClass:"selectPaymenttext"},[t._v("请选择支付方式")])])]):t._e(),t._v(" "),t.wxqrcodePayment_show?i("div",{staticClass:"qrcodePaymentMeng"},[i("div",{staticClass:"_qrcode"},[i("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:t.qrcodeClose}}),t._v(" "),i("img",{attrs:{src:a("NHJI")}}),t._v(" "),i("div",{staticClass:"qrcodebox"},[i("div",{ref:"qrcode",staticClass:"qrcode",attrs:{id:"qrcode"}})]),t._v(" "),i("div",{staticClass:"payStatus"},[t._v(t._s(t.queryPayMsg))])])]):t._e(),t._v(" "),t.qrcodePayment_show?i("div",{staticClass:"qrcodePaymentMeng"},[i("div",{staticClass:"_qrcode"},[i("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:t.qrcodeClose}}),t._v(" "),i("img",{staticClass:"zfbimg",attrs:{src:a("Ro8Z")}}),t._v(" "),i("div",{staticClass:"qrcodebox"},[i("div",{ref:"qrcode",staticClass:"qrcode",attrs:{id:"qrcode"}})]),t._v(" "),i("div",{staticClass:"payStatus"},[t._v(t._s(t.queryPayMsg))])])]):t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("寄付现结")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("件数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("重量")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("KG")])])}]};var ca=a("VU/8")(ra,la,!1,function(t){a("aSkb")},"data-v-6976174b",null).exports,da={name:"WaybillInfo",data:function(){return{shipmentID:"",shipmentListData:[],orderList:[],shipStatus:"",backBottleFlag:"F",LinkStatus:"Link_PickUp",receivingStatus:"",daoDaStatus:""}},components:{OrderInfo_template:ca,WaybillInfo_template:St},created:function(){this.$route.query.LinkStatus&&(this.LinkStatus=this.$route.query.LinkStatus),this.shipmentID=this.$store.state.Waybill.WaybillInfo.clickShipmentId,this.loadData()},methods:{goprev:function(){this.$router.push({name:"Waybill",query:{LinkStatus:this.LinkStatus}})},loadData:function(){var t=this,e=null;"Link_PickUp"==t.LinkStatus?e="10":"Link_Transit"==t.LinkStatus?e="20":"Link_ToSend"==t.LinkStatus&&(e="30");var a={shipmentId:t.shipmentID,transportLinks:e};this.httpRequest("queryDeliverDetailInfo.do",a,function(e){if(e.data.length&&(e.data[0].length?(t.shipmentListData=e.data[0],t.$store.state.Waybill.WaybillInfo.clickWaybillInfo=e.data[0]):t.shipmentListData=t.$store.state.Waybill.WaybillInfo.clickWaybillInfo,t.shipStatus=t.shipmentListData[0].status,t.backBottleFlag=t.shipmentListData[0].backBottleFlag,t.receivingStatus=t.shipmentListData[0].receivingStatus,t.daoDaStatus=t.shipmentListData[0].daoDaStatus,t.orderList=e.data[1],t.orderList.length)){for(var a=0;a<t.orderList.length;a++)"ZK"==t.orderList[a].reference10&&"到付现结"==t.orderList[a].chargeTypes&&(t.orderList[a].deliveryMethod="转寄");for(var i=[],s=0;s<t.orderList.length-1;s++)for(var o=s+1;o<t.orderList.length;o++)t.orderList[s].loadingStatus>t.orderList[o].loadingStatus?(i=t.orderList[s],t.orderList[s]=t.orderList[o],t.orderList[o]=i):t.orderList[s].loadingStatus==t.orderList[o].loadingStatus&&"YI"==t.orderList[o].loadingStatus&&t.orderList[s].signStatus>t.orderList[o].signStatus&&(i=t.orderList[s],t.orderList[s]=t.orderList[o],t.orderList[o]=i)}})},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)},Navigation:function(t){event.stopPropagation();this.Navigate_addressList=[];for(var e=this.bigListData[t].issueAddrLiat,a=this.bigListData[t].deliveryList,i=[],s=0;s<a.length;s++)i[s]={issueAddr1:a[s].recAddr1,issuePhone:a[s].recPhone,issueUser:a[s].recName};this.Navigate_addressList=e.concat(i),this.Navigate_addressList.length?this.typeMShow=!0:this.$alert("没有要导航的地址信息","提示",{confirmButtonText:"确定",callback:function(t){}})},Navigate_SelectComit:function(t){t=t;this.typeMShow=!1;try{CallAndroidOrIOS.callAndroid("导航",t)}catch(t){}try{window.webkit.messageHandlers.messageSend.postMessage({a:"导航",b:t})}catch(t){}},LoadingAppoint:function(t){event.stopPropagation();this.$router.push({name:"LoadingAppoint",query:{StowageList:this.bigListData[t]}})},toArrivalConfirm:function(t){event.stopPropagation();this.$router.push({name:"ArrivalConfirm",query:{StowageList:this.bigListData[t]}})},toWayFeedback:function(t){event.stopPropagation();this.$router.push({name:"WayFeedback",query:{StowageList:this.bigListData[t]}})},toDepartureConfirm:function(t){event.stopPropagation();this.$router.push({name:"DepartureConfirm",query:{StowageList:this.bigListData[t]}})}}},ua={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"WaybillInfo"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("配载单信息")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"waybillContainer"},[a("div",{staticClass:"bigListBox"},[a("WaybillInfo_template",{attrs:{shipmentListData:t.shipmentListData,LinkStatus:t.LinkStatus},on:{isLoading_:t.fullscreenLoading}}),t._v(" "),t.orderList.length?a("OrderInfo_template",{attrs:{_orderInfo:t.orderList,shipmentID:t.shipmentID,backBottleFlag:t.backBottleFlag,shipStatus:t.shipStatus,receivingStatus:t.receivingStatus,daoDaStatus:t.daoDaStatus,LinkStatus:t.LinkStatus},on:{isLoading_:t.fullscreenLoading}}):t._e()],1)])])])},staticRenderFns:[]};var ha=a("VU/8")(da,ua,!1,function(t){a("h4wV")},"data-v-24179dc3",null).exports,pa={name:"AviationOrderInfo_template",props:{_orderInfo:{type:Object,default:function(){return[]}},shipmentID:0,shipStatus:"",selectAddr:!1,historyList:!1,LinkStatus:"",receivingStatus:"",daoDaStatus:"",deliveryId:""},data:function(){return{tips_Msg:"",ifTips:!1}},mounted:function(){},created:function(){},methods:{submitOrders:function(t){event.stopPropagation();var e=this;this.$confirm("确认要提交装车吗？ 订单号："+t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("isLoading_",!0,"拼命加载中");var t={deliveryId:e.deliveryId};v.a.post(e.HOST+"aviationUpdateDeliveryScanNumber.do",{params:n()(t)}).then(function(t){var a;(e.$emit("isLoading_",!1),"1"==t.data.status)?(e.ifTips=!0,e.tips_Msg="提交"+text+"成功",setTimeout(function(){e.ifTips=!1,e.$router.push({name:"AviationWaybill"})},1500)):(a=t.data.Msg?t.data.Msg:"提交失败",alert(a))}).catch(function(t){e.$emit("isLoading_",!1),alert("提交失败")})}).catch(function(){})},toTransitScan:function(t){event.stopPropagation();this.$router.push({name:"TransitScan",query:{omsNo:this._orderInfo[t].omsNo,deliveryId:this._orderInfo[t].deliveryId,orderId:this._orderInfo[t].orderId,scanNumber:this._orderInfo[t].scanNumber,actualQty:this._orderInfo[t].actualQty}})},toAbnormal:function(t,e){event.stopPropagation();this.$router.push({name:"Abnormal",query:{omsNo:t,deliveryNoSF:e,linkno:"20"}})},detail_takaUp:function(t){event.stopPropagation();var e=f()(".goodsInfo").eq(t).find(".TakeUp").find("span"),a=f()(".goodsInfo").eq(t).find(".TakeUp").find("i");"查看标签列表"==e.html()?(f()(".goodsInfo").eq(t).find(".goodsContent").show(),e.html("收起明细"),a.css("transform","rotate(180deg)")):(f()(".goodsInfo").eq(t).find(".goodsContent").hide(),e.html("查看标签列表"),a.css("transform","rotate(0deg)"))},_ewm:function(t){this.$router.push({name:"QRCode",query:{omsNo:t}})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},va={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AviationOrderInfo_template"},[a("div",{staticClass:"goodsInfo"},[a("div",{staticClass:"goodsHead"},[a("div",{staticClass:"ordernum"},[a("span",[t._v("订单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t._orderInfo.omsNo,expression:"_orderInfo.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t._orderInfo.omsNo)+"\n\t\t\t\t    ")]),t._v(" "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t._orderInfo.omsNo,expression:"_orderInfo.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})]),t._v(" "),a("div",{staticClass:"ordernum"},[a("span",[t._v("SF运单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t._orderInfo.deliveryNoSF,expression:"_orderInfo.deliveryNoSF",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t._orderInfo.deliveryNoSF)+"\n\t\t\t\t    ")]),t._v(" "),t._orderInfo.deliveryNoSF?a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t._orderInfo.deliveryNoSF,expression:"_orderInfo.deliveryNoSF",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"}):t._e()]),t._v(" "),a("div",[a("span",[t._v("指派时间：")]),t._v(" "),a("span",[t._v(t._s(t._orderInfo.assignFlightTime))])]),t._v(" "),a("div",[a("span",[t._v("提货司机：")]),t._v(" "),a("span",[t._v(t._s(t._orderInfo.driverName)+"    "+t._s(t._orderInfo.driverPhone)+"    ")]),t._v(" "),t._orderInfo.driverPhone?a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(e){return t.callPhone(t._orderInfo.driverPhone)}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("司机车牌：")]),t._v(" "),a("span",[t._v(t._s(t._orderInfo.vehicleCodeCar))])]),t._v(" "),a("div",[a("div",[a("span",[t._v("件数：")]),t._v(" "),a("span",[t._v(t._s(t._orderInfo.orderQty))])]),t._v(" "),a("div",[a("span",[t._v("重量：")]),t._v(" "),a("span",[t._v(t._s(t._orderInfo.orderWt)+"   KG")])])]),t._v(" "),a("div",[a("span",[t._v("航班号：")]),t._v(" "),a("span",[t._v(t._s(t._orderInfo.vehicleCode))])]),t._v(" "),a("div",[a("span",[t._v("起飞时间：")]),t._v(" "),a("span",[t._v(t._s(t._orderInfo.actualDepartureTime))])]),t._v(" "),t._orderInfo.scannedNum?a("div",[a("span",[t._v("已扫描：")]),a("span",[t._v(t._s(t._orderInfo.scannedNum)+"  件")])]):t._e()]),t._v(" "),t.historyList?t._e():a("div",{staticClass:"_btn"},[a("span",{staticClass:"g_btn",on:{click:function(e){return t.toAbnormal(t._orderInfo.omsNo,t._orderInfo.deliveryNoSF)}}},[t._v("异常上报")]),t._v(" "),a("span",{staticClass:"g_btn",on:{click:function(e){return t.submitOrders(t._orderInfo.omsNo)}}},[t._v("提交订单")])]),t._v(" "),t._orderInfo.scanned&&t._orderInfo.scanned.length?a("div",{staticClass:"goodsBtn"},[a("div",{staticClass:"TakeUp",on:{click:function(e){return t.detail_takaUp(0)}}},[t._m(0)])]):t._e(),t._v(" "),t._orderInfo.scanned&&t._orderInfo.scanned.length?a("div",{staticClass:"goodsContent"},t._l(t._orderInfo.scanned,function(e,i){return a("div",{key:i,attrs:{id:i}},[t._v(t._s(e)+"      "+t._s(e.productName)+"         "+t._s(e.poOrderQty)+t._s(e.poUom))])}),0):t._e(),t._v(" "),t._orderInfo.notScanned&&t._orderInfo.notScanned.length?a("div",{staticClass:"goodsBtn"},[t._m(1)]):t._e(),t._v(" "),t._orderInfo.notScanned&&t._orderInfo.notScanned.length?a("div",{staticClass:"goodsContent"},t._l(t._orderInfo.notScanned,function(e,i){return a("div",{key:i,attrs:{id:i}},[t._v(t._s(e)+"      "+t._s(e.productName)+"         "+t._s(e.poOrderQty)+t._s(e.poUom))])}),0):t._e()]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("已扫描标签")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"TakeUp"},[e("div",[e("span",[this._v("未扫描标签")])])])}]};var ma={name:"AviationWaybillInfo",data:function(){return{deliveryId:"",orderList:{}}},components:{OrderInfo_template:a("VU/8")(pa,va,!1,function(t){a("OxpD")},"data-v-6b54907a",null).exports},created:function(){this.$route.query.deliveryId&&(this.deliveryId=this.$route.query.deliveryId),this.loadData()},methods:{goprev:function(){this.$router.push({name:"AviationWaybill",query:{}})},loadData:function(){var t=this,e={deliveryId:t.deliveryId};this.httpRequest("queryAviationOrderDetailData.do",e,function(e){t.orderList=e.data})},fullscreenLoading:function(t,e){this.$emit("isLoading",t,e)}}},fa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"AviationWaybillInfo"},[e("header",[e("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:this.goprev}}),e("span",[this._v("订单信息")])]),this._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"waybillContainer"},[e("div",{staticClass:"bigListBox"},[e("OrderInfo_template",{attrs:{_orderInfo:this.orderList,deliveryId:this.deliveryId},on:{isLoading_:this.fullscreenLoading}})],1)])])])},staticRenderFns:[]};var _a=a("VU/8")(ma,fa,!1,function(t){a("J/rV")},"data-v-1cadaa2a",null).exports,ga=a("TwlK"),ya={name:"QRCode",data:function(){return{title:""}},components:{QRCode:na.a},mounted:function(){var t=this,e="";this.$route.query.omsNo?(e=this.$route.query.omsNo,this.title="订单号"):this.$route.query.shipmentCode&&(e=this.$route.query.shipmentCode,this.title="配载单号"),this.$nextTick(function(){t.qrcode(e);var a=document.getElementById("canvascode");ga(a,e,{format:"CODE128",displayValue:1,fontSize:22,lineColor:"#000"})})},created:function(){},methods:{qrcode:function(t){new na.a("qrcode",{width:200,height:200,text:t})}}},Ca={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"QRCode"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:function(e){return t.$router.back(-1)}}}),a("span",[t._v(t._s(t.title)+"二维码")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"_qrcode"},[a("canvas",{attrs:{id:"canvascode"}}),t._v(" "),a("div",{ref:"qrcode",staticClass:"qrcode",attrs:{id:"qrcode"}})])])])},staticRenderFns:[]};var ba=a("VU/8")(ya,Ca,!1,function(t){a("K1CS")},"data-v-11fe0e65",null).exports,La={name:"historyList",data:function(){return{LinkStatus:"Link_PickUp",shipmentListData:[],address_listData:[],currentAddressInfo:[],history_NoSearchFrom:!0,is_NoData:!1,is_NoData_text:"没有任务",numberPerPage:15,loadPage:1,allLoaded:!1,autoFill:!1,history_SearchData:{startDate:null,endDate:null,orderNoinput:null,shipmentCodeinput:null,TransportLink:null},thisMonth:"",tips_Msg:"",ifTips:!1}},components:{FooterIndex:x},created:function(){this.$route.query.LinkStatus&&(this.LinkStatus=this.$route.query.LinkStatus),this.$store.state.history_LinkStatus&&(this.LinkStatus=this.$store.state.history_LinkStatus),this.history_NoSearchFrom=this.$store.state.history_NoSearchFrom,this.$store.state.history_NoSearchFrom||(this.history_SearchData=this.$store.state.history_SearchData),this.loadData()},beforeDestroy:function(){},methods:{LinkChoose:function(t){this.loadPage=1,this.allLoaded=!1,this.LinkStatus=t,this.$store.state.history_LinkStatus=t,this.loadData()},loadData:function(t){var e,a=this;a.$store.state.history_Data;a.$store.state.history_NoSearchFrom?e={startDate:null,endDate:null,orderNoinput:null,shipmentCodeinput:null,TransportLink:null,cellphone:a.$store.state.userInfo.cellphone,transportLinks:"Link_PickUp"==a.LinkStatus?"提货":"Link_Transit"==a.LinkStatus?"中转":"Link_ToSend"==a.LinkStatus?"派件":""}:(e=a.$store.state.history_SearchData).transportLinks="Link_PickUp"==a.LinkStatus?"提货":"Link_Transit"==a.LinkStatus?"中转":"Link_ToSend"==a.LinkStatus?"派件":"",e.currentPage=a.loadPage,e.numberPerPage=a.numberPerPage,this.httpRequest("queryOldShipmentData.do",e,function(e){t&&("TopLoad"==t?a.$refs.loadmore.onTopLoaded():"BottomLoad"==t&&a.$refs.loadmore.onBottomLoaded()),a.loadPage>1?a.shipmentListData=a.shipmentListData.concat(e.data):(a.shipmentListData=e.data,e.data.length?a.is_NoData=!1:(a.is_NoData_text="没有任务",a.is_NoData=!0)),a.$store.state.history_Data=a.shipmentListData,e.data.length<a.numberPerPage?a.allLoaded=!0:a.allLoaded=!1})},currentTask:function(){this.$router.push({name:"Waybill"})},searchLabel_close:function(t){this.$store.state.history_SearchData[t]=null,this.loadData()},ViewTrajectory:function(t){event.stopPropagation(),t+="";try{CallAndroidOrIOS.callAndroid("查看路线",t)}catch(t){}try{window.webkit.messageHandlers.messageSend.postMessage({a:"查看路线",b:t})}catch(t){}},toOrderDeliver:function(t){this.$store.state.search_WaybillDetail=t;this.$router.push({name:"WaybillDetail",query:{shipmentID:t.shipmentID,LinkStatus:this.LinkStatus}})},_ewm:function(t){event.stopPropagation(),this.$router.push({name:"QRCode",query:{shipmentCode:t}})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)},loadTop_history:function(){this.loadPage=1,this.allLoaded=!1,this.$store.state.history_needRefresh=!0,this.loadData("TopLoad")},loadBottom_history:function(){this.allLoaded?this.$refs.loadmore.onBottomLoaded():(this.loadPage+=1,this.$store.state.history_needRefresh=!0,this.loadData("BottomLoad"))}}},Na={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"historyList"},[a("header",[a("div",{staticClass:"currentTask",on:{click:t.currentTask}},[t._v("当前任务")]),t._v(" "),a("div",{staticClass:"historyTask"},[t._v("历史任务"),a("i",{staticClass:"iconfont icon-huabanfuben",on:{click:function(e){return t.search("History")}}})])]),t._v(" "),a("div",{staticClass:"SwitchTab"},[a("div",{class:{selected_head:"Link_PickUp"==t.LinkStatus},on:{click:function(e){return t.LinkChoose("Link_PickUp")}}},[a("span",[t._v("提货")])]),t._v(" "),a("div",{class:{selected_head:"Link_Transit"==t.LinkStatus},on:{click:function(e){return t.LinkChoose("Link_Transit")}}},[a("span",[t._v("中转")])]),t._v(" "),a("div",{class:{selected_head:"Link_ToSend"==t.LinkStatus},on:{click:function(e){return t.LinkChoose("Link_ToSend")}}},[a("span",[t._v("派件")])])]),t._v(" "),a("div",{staticClass:"container",staticStyle:{overflow:"scroll"}},[a("div",{staticClass:"topKong"}),t._v(" "),t.history_SearchData.startDate||t.history_SearchData.endDate||t.history_SearchData.orderNoinput||t.history_SearchData.shipmentCodeinput||t.history_SearchData.TransportLink?a("div",{staticClass:"search_Label"},[t.history_SearchData.startDate?a("div",{on:{click:function(e){return t.searchLabel_close("startDate")}}},[a("span",[t._v("开始日期")]),a("i",{staticClass:"iconfont icon-guanbi"})]):t._e(),t._v(" "),t.history_SearchData.endDate?a("div",{on:{click:function(e){return t.searchLabel_close("endDate")}}},[a("span",[t._v("结束日期")]),a("i",{staticClass:"iconfont icon-guanbi"})]):t._e(),t._v(" "),t.history_SearchData.orderNoinput?a("div",{on:{click:function(e){return t.searchLabel_close("orderNoinput")}}},[a("span",[t._v("订单号")]),a("i",{staticClass:"iconfont icon-guanbi"})]):t._e(),t._v(" "),t.history_SearchData.shipmentCodeinput?a("div",{on:{click:function(e){return t.searchLabel_close("shipmentCodeinput")}}},[a("span",[t._v("配载单号")]),a("i",{staticClass:"iconfont icon-guanbi"})]):t._e(),t._v(" "),t.history_SearchData.TransportLink?a("div",{on:{click:function(e){return t.searchLabel_close("TransportLink")}}},[a("span",[t._v("运输环节")]),a("i",{staticClass:"iconfont icon-guanbi"})]):t._e()]):t._e(),t._v(" "),a("mt-loadmore",{ref:"loadmore",staticStyle:{"text-align":"center"},attrs:{topDropText:"下拉刷新",topLoadingText:"",topPullText:"",bottomPullText:"",bottomDropText:"上拉加载",bottomLoadingText:"","top-method":t.loadTop_history,"bottom-method":t.loadBottom_history,autoFill:t.autoFill}},[a("div",{staticClass:"waybillContainer"},[t._l(t.shipmentListData,function(e,i){return a("div",{key:i,staticClass:"bigList",attrs:{id:i}},[a("div",{staticClass:"place"},[a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.shipmentCode,expression:"dataItem.shipmentCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"OrderNum"},[t._v("配载单号："+t._s(e.shipmentCode))]),t._v(" "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.shipmentCode,expression:"dataItem.shipmentCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"}),t._v(" "),a("i",{staticClass:"iconfont icon-iconfonterweima",on:{click:function(a){return t._ewm(e.shipmentCode)}}})]),t._v(" "),a("div",{staticClass:"searchResult",on:{click:function(a){return t.toOrderDeliver(e)}}},[a("div",[a("span",[t._v("创建时间：")]),a("span",{staticClass:"dateLoading"},[t._v(t._s(e.addDate))])]),t._v(" "),a("div",[a("span",[t._v("货   量：")]),t._v(" "),a("span",[t._v(t._s(e.countDelivery)+" 单   ")]),t._v(" "),a("span",[t._v(t._s((1e-6*e.vol).toFixed(1))+" 方   ")]),t._v(" "),a("span",[t._v(t._s((1e-6*e.wt).toFixed(1))+" 吨   ")])]),t._v(" "),e.deliveryTime?a("div",[a("span",[t._v("交付时间：")]),t._v(" "),a("span",[t._v(t._s(e.deliveryTime))])]):t._e(),t._v(" "),1==e.issueAddrLiat.length?a("div",[a("span",[t._v("装货地址：")]),t._v(" "),a("span",[t._v(t._s(e.issueAddrLiat[0].issueAddr1))])]):t._e(),t._v(" "),1==e.issueAddrLiat.length?a("div",[a("span",[t._v("联系人：")]),t._v(" "),a("span",[t._v(t._s(e.issueAddrLiat[0].issueUser)+"    "+t._s(e.issueAddrLiat[0].issuePhone))]),t._v("      "),e.issueAddrLiat[0].issuePhone?a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(a){return t.callPhone(e.issueAddrLiat[0].issuePhone)}}}):t._e()]):t._e(),t._v(" "),1!=e.issueAddrLiat.length&&0!=e.issueAddrLiat.length?a("div",{on:{click:function(e){return t.MultiAddress(i)}}},[a("i",{staticClass:"iconfont icon-tishi"}),t._v(" "),a("span",{staticStyle:{color:"#038EEA"}},[t._v("查看多装货地址")])]):t._e(),t._v(" "),a("div",{staticClass:"detailBtn"},[a("span",{staticClass:"g_btn",on:{click:function(a){return t.toOrderDeliver(e)}}},[t._v("详情")]),t._v(" "),a("span",{staticClass:"g_btn",on:{click:function(a){return t.ViewTrajectory(e.shipmentID)}}},[t._v("查看路线")])])])])}),t._v(" "),t.allLoaded&&t.shipmentListData.length?a("div",{staticClass:"nodata_label"},[t._v("没有更多数据")]):t._e(),t._v(" "),a("div",{staticClass:"kong"}),t._v(" "),t.is_NoData?a("div",{staticClass:"nodata_kong"}):t._e()],2)]),t._v(" "),t.is_NoData?a("div",{staticClass:"NoData"},[a("div",[a("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),t._v(" "),a("div",[t._v(t._s(t.is_NoData_text))])])]):t._e(),t._v(" "),a("div",{staticClass:"MultiAddress"},[a("div",[a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:t.closeAddress}}),t._v(" "),a("div",{staticClass:"addressHead"},t._l(t.address_listData,function(e,i){return a("span",{key:i,attrs:{id:i},on:{click:function(e){return t.address_SwitchView(i)}}},[t._v("地址"+t._s(i+1))])}),0),t._v(" "),a("div",{staticClass:"addressContent"},[a("div",[a("span",[t._v("地址：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.issueAddr1))])]),t._v(" "),a("div",[a("span",[t._v("联系人：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.issueUser))])]),t._v(" "),a("div",[a("span",[t._v("电话：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.issuePhone))]),t._v("       "),t.currentAddressInfo.issuePhone?a("i",{staticClass:"iconfont icon-dianhua-copy",staticStyle:{color:"#038EEA"},on:{click:function(e){return t.callPhone(t.currentAddressInfo.issuePhone)}}}):t._e()]),t._v(" "),t.currentAddressInfo.phoneAppointTime?a("div",[a("span",[t._v("预约时间：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.phoneAppointTime))])]):t._e(),t._v(" "),t.currentAddressInfo.phoneAppointTime?a("div",[a("span",[t._v("预约状态：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.appointLoadingStatus))])]):t._e()])])])],1),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e(),t._v(" "),a("FooterIndex")],1)},staticRenderFns:[]};var Sa=a("VU/8")(La,Na,!1,function(t){a("ckZq")},"data-v-07165ed0",null).exports,Ia={name:"WaybillDetail",data:function(){return{LinkStatus:"Link_PickUp",shipmentListData:[],orderList:[],address_listData:[],shipmentID:"",currentAddressInfo:[],historyList:!0,tips_Msg:"",ifTips:!1}},components:{OrderInfo_template:ca},created:function(){var t=this;this.$route.query.shipmentID?this.shipmentID=this.$route.query.shipmentID:this.shipmentID=this.$store.state.Waybill.WaybillInfo.clickShipmentId,this.$route.query.LinkStatus&&(this.LinkStatus=this.$route.query.LinkStatus);var e=null;"Link_PickUp"==t.LinkStatus?e="10":"Link_Transit"==t.LinkStatus?e="20":"Link_ToSend"==t.LinkStatus&&(e="30");var a={shipmentId:t.shipmentID,appointLoadingSite:"YI",transportLinks:e};this.httpRequest("queryDeliverDetailInfo.do",a,function(e){if(e.data.length){e.data[0].length?t.shipmentListData=e.data[0][0]:t.shipmentListData=t.$store.state.search_WaybillDetail,t.orderList=e.data[1];for(var a=0;a<e.data[1].length;a++)t.orderList[a].ifDeliver=!1}})},methods:{goprev:function(){this.$router.push({name:"historyList",query:{LinkStatus:this.LinkStatus}})},_ewm:function(t){event.stopPropagation(),this.$router.push({name:"QRCode",query:{shipmentCode:t}})},toRoutingInfo:function(){this.$router.push({name:"RoutingInfo",query:{shipmentCode:this.shipmentListData.shipmentCode}})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},Da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"WaybillDetail"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("订单详情")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"waybillHead",staticStyle:{"margin-top":"0"}},[t._v("配载单信息")]),t._v(" "),a("div",{staticClass:"listHead"},[a("div",[a("span",[t._v("配载单号：")]),t._v(" "),a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.shipmentListData.shipmentCode,expression:"shipmentListData.shipmentCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.shipmentListData.shipmentCode))]),t._v("\n\t\t\t            \n\t\t\t\t"),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.shipmentListData.shipmentCode,expression:"shipmentListData.shipmentCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi",on:{click:t.stopevent}}),t._v("  \n\t\t\t\t"),a("i",{staticClass:"iconfont icon-iconfonterweima",on:{click:function(e){return t._ewm(t.shipmentListData.shipmentCode)}}})]),t._v(" "),a("div",[a("span",[t._v("创建时间：")]),a("span",[t._v(t._s(t.shipmentListData.addDate))])]),t._v(" "),a("div",[a("span",[t._v("货   量：")]),t._v(" "),a("span",[t._v(t._s(t.shipmentListData.countDelivery)+" 单   ")]),t._v(" "),a("span",[t._v(t._s((1e-6*t.shipmentListData.vol).toFixed(1))+" 方   ")]),t._v(" "),a("span",[t._v(t._s((1e-6*t.shipmentListData.wt).toFixed(1))+" 吨   ")])]),t._v(" "),a("div",[a("span",[t._v("物流公司：")]),t._v(" "),a("span",[t._v(t._s(t.shipmentListData.transPartyName))])]),t._v(" "),void 0!==t.shipmentListData.issueAddrLiat&&null!==t.shipmentListData.issueAddrLiat&&1==t.shipmentListData.issueAddrLiat.length?a("div",[a("span",[t._v("联 系  人：")]),t._v(" "),a("span",[t._v(t._s(t.shipmentListData.issueAddrLiat[0].issueUser)+"    "+t._s(t.shipmentListData.issueAddrLiat[0].issuePhone))]),t._v("      "),t.shipmentListData.issueAddrLiat[0].issuePhone?a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(e){return t.callPhone(t.shipmentListData.issueAddrLiat[0].issuePhone)}}}):t._e()]):t._e(),t._v(" "),void 0!==t.shipmentListData.issueAddrLiat&&null!==t.shipmentListData.issueAddrLiat&&1==t.shipmentListData.issueAddrLiat.length?a("div",[a("span",[t._v("装货地址：")]),t._v(" "),a("span",[t._v(t._s(t.shipmentListData.issueAddrLiat[0].issueAddr1))])]):t._e(),t._v(" "),void 0!==t.shipmentListData.issueAddrLiat&&null!==t.shipmentListData.issueAddrLiat&&1!=t.shipmentListData.issueAddrLiat.length&&0!=t.shipmentListData.issueAddrLiat.length?a("div",{on:{click:function(e){return t.MultiAddress(null)}}},[a("i",{staticClass:"iconfont icon-tishi"}),t._v(" "),a("span",{staticStyle:{color:"#038EEA"}},[t._v("查看多装货地址")])]):t._e(),t._v(" "),void 0!==t.shipmentListData.issueAddrLiat&&null!==t.shipmentListData.issueAddrLiat&&1==t.shipmentListData.issueAddrLiat.length&&t.shipmentListData.issueAddrLiat[0].phoneAppointTime?a("div",[a("span",[t._v("预约时间：")]),t._v(" "),a("span",[t._v(t._s(t.shipmentListData.issueAddrLiat[0].phoneAppointTime))])]):t._e(),t._v(" "),void 0!==t.shipmentListData.issueAddrLiat&&null!==t.shipmentListData.issueAddrLiat&&1==t.shipmentListData.issueAddrLiat.length&&t.shipmentListData.issueAddrLiat[0].phoneAppointTime?a("div",[a("span",[t._v("预约状态：")]),t._v(" "),a("span",[t._v(t._s("NEW"==t.shipmentListData.issueAddrLiat[0].appointLoadingStatus?"新预约":"YI"==t.shipmentListData.issueAddrLiat[0].appointLoadingStatus?"已确定":"REFUSE"==t.shipmentListData.issueAddrLiat[0].appointLoadingStatus?"已拒绝":""))])]):t._e()]),t._v(" "),t.orderList.length?a("OrderInfo_template",{attrs:{_orderInfo:t.orderList,historyList:t.historyList,LinkStatus:t.LinkStatus}}):t._e()],1),t._v(" "),a("div",{staticClass:"MultiAddress"},[a("div",[a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:t.closeAddress}}),t._v(" "),a("div",{staticClass:"addressHead"},t._l(t.address_listData,function(e,i){return a("span",{key:i,attrs:{id:i},on:{click:function(e){return t.address_SwitchView(i,"usedtemplate")}}},[t._v("地址"+t._s(i+1))])}),0),t._v(" "),a("div",{staticClass:"addressContent"},[a("div",[a("span",[t._v("地址：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.issueAddr1))])]),t._v(" "),a("div",[a("span",[t._v("联系人：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.issueUser))])]),t._v(" "),a("div",[a("span",[t._v("电话：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.issuePhone))]),t._v("       "),a("i",{staticClass:"iconfont icon-dianhua-copy",staticStyle:{color:"#038EEA"},on:{click:function(e){return t.callPhone(t.currentAddressInfo.issuePhone)}}})]),t._v(" "),t.currentAddressInfo.phoneAppointTime?a("div",[a("span",[t._v("预约时间：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.phoneAppointTime))])]):t._e(),t._v(" "),t.currentAddressInfo.phoneAppointTime?a("div",[a("span",[t._v("预约状态：")]),t._v(" "),a("span",[t._v(t._s(t.currentAddressInfo.appointLoadingStatus))])]):t._e()])])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var wa=a("VU/8")(Ia,Da,!1,function(t){a("P6eH")},"data-v-04419110",null).exports,ka={data:function(){return{orderNum:"",orderSF:{},WaybillTrackList:[],code:"",carShow:!1}},created:function(){var t=this;if(this.$route.query.shipmentCode&&(this.orderNum=this.$route.query.shipmentCode),t.orderNum.length){t.orderNum;this.httpRequest("getOrderRoute.do",postData,function(e){t.orderSF=e.data.orderSF;for(var a=e.data.orderTrack,i=0;i<a.length;i++)a[i].dataTime=a[i].operateTime.substring(0,10),a[i].detailTime=a[i].operateTime.substring(11,16);t.WaybillTrackList=a.sort(function(t,e){return Date.parse(e.operateTime)-Date.parse(t.operateTime)})})}else t.$alert("未获取到订单号,请稍后重试","异常提示",{confirmButtonText:"确定",callback:function(e){t.$router.back(-1)}})},methods:{}},Ta={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"WaybillTrack"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:function(e){return t.$router.back(-1)}}}),a("span",[t._v("路由详情")])]),t._v(" "),a("div",{staticClass:"container"},[t.orderNum?a("div",{staticClass:"orderInfo"},[a("div",[a("span",[t._v("配载单号：")]),t._v(" "),a("span",[t._v(t._s(t.orderNum))]),t._v(" "),t.orderNum?a("icon",{staticClass:"iconfont icon-fuzhi",on:{click:function(e){return e.stopPropagation(),t.CopyNum(t.orderNum)}}}):t._e()],1)]):t._e(),t._v(" "),a("div",{staticClass:"TrackingInfo"},t._l(t.WaybillTrackList,function(e,i){return a("div",{key:i,staticClass:"TrackDetailList",attrs:{id:i}},[a("div",{staticClass:"TrackOfTime"},[a("div",[t._v(t._s(e.dataTime))]),t._v(" "),a("div",[t._v(t._s(e.detailTime))])]),t._v(" "),t._m(0,!0),t._v(" "),a("div",{staticClass:"TrackProgress"},[a("span",[t._v(t._s(e.routeDescribe))])])])}),0)]),t._v(" "),t.WaybillTrackList.length?t._e():a("div",{staticClass:"noData"},[a("i",{staticClass:"iconfont icon-rBEhWVIxcboIAAAAAAHkLwWBmsAADFGgISYAAeRHjpg"}),t._v(" "),a("div",[t._v("该单号暂无物流进展")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"TraceListStyle_outter"},[e("div",{staticClass:"TraceListStyle"},[e("div",{staticClass:"TraceListStyle_lineTop"}),this._v(" "),e("div",{staticClass:"TraceListStyle_dot"},[e("div"),this._v(" "),e("img",{attrs:{src:"/static/images/TrackLine_Up.png"}})]),this._v(" "),e("div",{staticClass:"TraceListStyle_lineBottom"})])])}]};var xa=a("VU/8")(ka,Ta,!1,function(t){a("kB+v")},"data-v-eb0635dc",null).exports,$a={name:"AviationWaybillDetail",data:function(){return{shipmentListData:[],deliveryId:"",orderList:[],tips_Msg:"",ifTips:!1}},created:function(){var t=this,e={deliveryId:t.deliveryId};this.httpRequest("queryAviationOrderDetailData.do",e,function(e){if(e.data.length){e.data[0].length?t.shipmentListData=e.data[0][0]:t.shipmentListData=t.$store.state.search_WaybillDetail,t.orderList=e.data[1];for(var a=0;a<e.data[1].length;a++)t.orderList[a].ifDeliver=!1}})},methods:{goprev:function(){this.$router.push({name:"AviationHistoryList"})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)}}},Pa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AviationWaybillDetail"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goprev}}),a("span",[t._v("订单详情")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"listHead"},[a("div",[a("span",[t._v("物流公司：")]),t._v(" "),a("span",[t._v(t._s(t.shipmentListData.transPartyName))])]),t._v(" "),void 0!==t.shipmentListData.issueAddrLiat&&null!==t.shipmentListData.issueAddrLiat&&1==t.shipmentListData.issueAddrLiat.length?a("div",[a("span",[t._v("联 系  人：")]),t._v(" "),a("span",[t._v(t._s(t.shipmentListData.issueAddrLiat[0].issueUser)+"    "+t._s(t.shipmentListData.issueAddrLiat[0].issuePhone))]),t._v("      "),t.shipmentListData.issueAddrLiat[0].issuePhone?a("i",{staticClass:"iconfont icon-dianhua-copy",on:{click:function(e){return t.callPhone(t.shipmentListData.issueAddrLiat[0].issuePhone)}}}):t._e()]):t._e()])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var Ba=a("VU/8")($a,Pa,!1,function(t){a("ixuM")},"data-v-02966ec1",null).exports,Aa={name:"AviationHistoryList",data:function(){return{shipmentListData:[],is_NoData:!1,is_NoData_text:"没有任务",numberPerPage:15,loadPage:1,allLoaded:!1,autoFill:!1,tips_Msg:"",ifTips:!1}},components:{FooterIndex:Tt},created:function(){this.loadData()},methods:{loadData:function(t){var e=this,a={currentPage:e.loadPage,numberPerPage:e.numberPerPage,aviationIsLoaded:"YI",transporterId:e.$store.state.userInfo.orgnizationId,searchNumberNo:e.$store.state.Aviation_HistoryWaybill.Waybill_SearchData,searchType:e.$store.state.Aviation_HistoryWaybill.Waybill_SearchType,flightDepcode:e.$store.state.userInfo.aiportCode};this.httpRequest("queryAviationDeliveryData.do",a,function(a){t&&("TopLoad"==t?e.$refs.loadmore.onTopLoaded():"BottomLoad"==t&&e.$refs.loadmore.onBottomLoaded()),e.loadPage>1?e.shipmentListData=e.shipmentListData.concat(a.data):(e.shipmentListData=a.data,a.data.length?e.is_NoData=!1:(e.is_NoData_text="没有任务",e.is_NoData=!0)),a.data.length<e.numberPerPage?e.allLoaded=!0:e.allLoaded=!1})},currentTask:function(){this.$router.push({name:"AviationWaybill"})},searchLabel_close:function(){this.$store.state.Aviation_HistoryWaybill.Waybill_SearchData="",this.$store.state.Aviation_HistoryWaybill.Waybill_SearchType=0,f()(".SearchBoxSFOrder").css("color","#038EEA").siblings().css("color","#000"),this.loadData()},SearchSelect:function(t){"order"==t?(this.$store.state.Aviation_HistoryWaybill.Waybill_SearchType=1,f()(".SearchBoxOrder").css("color","#038EEA").siblings().css("color","#000")):(this.$store.state.Aviation_HistoryWaybill.Waybill_SearchType=2,f()(".SearchBoxSFOrder").css("color","#038EEA").siblings().css("color","#000"))},SearchWaybill:function(){0==this.$store.state.Aviation_HistoryWaybill.Waybill_SearchType&&(this.$store.state.Aviation_HistoryWaybill.Waybill_SearchType=2),""==this.$store.state.Aviation_HistoryWaybill.Waybill_SearchData&&(this.$store.state.Aviation_HistoryWaybill.Waybill_SearchType=0),this.loadData()},toOrderDeliver:function(t){this.$router.push({name:"AviationWaybillDetail",query:{deliveryId:t}})},toAviationSearch:function(t){this.$router.push({name:"AviationSearch",query:{thisPage:t}})},onCopy:function(){var t=this;t.ifTips=!0,t.tips_Msg="复制成功",setTimeout(function(){t.ifTips=!1},1e3)},loadTop_history:function(){this.loadPage=1,this.allLoaded=!1,this.loadData("TopLoad")},loadBottom_history:function(){this.allLoaded?this.$refs.loadmore.onBottomLoaded():(this.loadPage+=1,this.loadData("BottomLoad"))}}},Fa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AviationHistoryList"},[a("header",[a("div",{staticClass:"currentTask",on:{click:t.currentTask}},[t._v("当前任务")]),t._v(" "),a("div",{staticClass:"historyTask"},[t._v("历史任务")])]),t._v(" "),a("div",{staticClass:"container",staticStyle:{overflow:"scroll"}},[a("div",{staticClass:"topKong"}),t._v(" "),t.$store.state.Aviation_HistoryWaybill.Waybill_SearchData?a("div",{staticClass:"search_Label"},[t.$store.state.Aviation_HistoryWaybill.Waybill_SearchData?a("div",{on:{click:t.searchLabel_close}},[a("span",[t._v(t._s(t.$store.state.Aviation_HistoryWaybill.Waybill_SearchData))]),a("i",{staticClass:"iconfont icon-guanbi"})]):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"SearchBox"},[a("div",[a("div",{staticClass:"SearchBoxInput"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.Aviation_HistoryWaybill.Waybill_SearchData,expression:"$store.state.Aviation_HistoryWaybill.Waybill_SearchData"}],attrs:{type:"text",placeholder:"支持模糊查询"},domProps:{value:t.$store.state.Aviation_HistoryWaybill.Waybill_SearchData},on:{input:function(e){e.target.composing||t.$set(t.$store.state.Aviation_HistoryWaybill,"Waybill_SearchData",e.target.value)}}}),t._v(" "),a("div",[a("span",{staticClass:"SearchBoxOrder",on:{click:function(e){return t.SearchSelect("order")}}},[t._v("订单号")]),t._v(" "),a("span",{staticClass:"SearchBoxSFOrder",on:{click:function(e){return t.SearchSelect("SFOrder")}}},[t._v("SF运单号")])])]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"SearchBoxBtnquery"},[a("div",{on:{click:t.SearchWaybill}},[t._v("查询")])])]),t._v(" "),a("mt-loadmore",{ref:"loadmore",staticStyle:{"text-align":"center"},attrs:{topDropText:"下拉刷新",topLoadingText:"",topPullText:"",bottomPullText:"",bottomDropText:"上拉加载",bottomLoadingText:"","top-method":t.loadTop_history,"bottom-method":t.loadBottom_history,autoFill:t.autoFill}},[a("div",{staticClass:"waybillContainer"},[t._l(t.shipmentListData,function(e,i){return a("div",{key:i,staticClass:"bigList",attrs:{id:i}},[a("div",{staticClass:"place"},[a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.omsNo,expression:"dataItem.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"OrderNum"},[t._v("订单号："+t._s(e.omsNo))]),t._v(" "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.omsNo,expression:"dataItem.omsNo",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})]),t._v(" "),a("div",{staticClass:"searchResult",on:{click:function(a){return t.toOrderDeliver(e.deliveryId)}}},[a("div",[a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.deliveryNoSF,expression:"dataItem.deliveryNoSF",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"OrderNum"},[t._v("运单号："+t._s(e.deliveryNoSF))]),t._v(" "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.deliveryNoSF,expression:"dataItem.deliveryNoSF",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"iconfont icon-fuzhi"})]),t._v(" "),a("div",[a("span",[t._v("创建时间：")]),a("span",{staticClass:"dateLoading"},[t._v(t._s(e.addDate))])]),t._v(" "),a("div",[a("span",[t._v("联系人：")])]),t._v(" "),a("div",{staticClass:"detailBtn"},[a("span",{staticClass:"g_btn",on:{click:function(a){return t.toOrderDeliver(e.deliveryId)}}},[t._v("详情")])])])])}),t._v(" "),t.allLoaded&&t.shipmentListData.length?a("div",{staticClass:"nodata_label"},[t._v("没有更多数据")]):t._e(),t._v(" "),a("div",{staticClass:"kong"}),t._v(" "),t.is_NoData?a("div",{staticClass:"nodata_kong"}):t._e()],2)]),t._v(" "),t.is_NoData?a("div",{staticClass:"NoData"},[a("div",[a("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),t._v(" "),a("div",[t._v(t._s(t.is_NoData_text))])])]):t._e()],1),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips msg_tips1"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("span",[t._v(t._s(t.tips_Msg))])])]):t._e(),t._v(" "),a("FooterIndex")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"SearchBoxBtn"},[e("i",{staticClass:"iconfont icon-sousuoxiawu-"})])}]};var Oa=a("VU/8")(Aa,Fa,!1,function(t){a("Gzb/")},"data-v-3cef5c43",null).exports,Ua={name:"Search",data:function(){return{startvalue:null,endValue:null,orderNum:null,order_WaybillNum:null,TsptLinkList:[{value:"提货",label:"提货"},{value:"中转",label:"中转"},{value:"派件",label:"派件"},{value:"签收",label:"签收"}],TransportLink:""}},created:function(){this.startvalue=this.$store.state.history_SearchData.startDate,this.endValue=this.$store.state.history_SearchData.endDate,this.orderNum=this.$store.state.history_SearchData.orderNoinput,this.order_WaybillNum=this.$store.state.history_SearchData.shipmentCodeinput,this.TransportLink=this.$store.state.history_SearchData.TransportLink},methods:{goPrev:function(){this.$store.state.history_needRefresh=!1,this.$router.push({name:"historyList",query:{}})},sureScreen:function(){var t,e;t=f()("#startvalue").val()?f()("#startvalue").val():null,e=f()("#endValue").val()?f()("#endValue").val():null;var a=this.$store.state.history_LinkStatus;this.$store.state.history_SearchData={startDate:t,endDate:e,orderNoinput:this.orderNum,shipmentCodeinput:this.order_WaybillNum,TransportLink:this.TransportLink,cellphone:this.$store.state.userInfo.cellphone,transportLinks:"Link_PickUp"==a?"提货":"Link_Transit"==a?"中转":"Link_ToSend"==a?"派件":""},this.$store.state.history_NoSearchFrom=!1,this.$router.push({name:"historyList",query:{}})},reset:function(){this.startvalue=null,this.endValue=null,this.orderNum=null,this.order_WaybillNum=null,this.TransportLink=null}}},Wa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Search"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goPrev}}),a("span",[t._v("搜索")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"CompetitionScreen"},[a("div",{staticClass:"screen"},[a("div",[a("span",[t._v("开始日期")]),a("el-date-picker",{attrs:{id:"startvalue",editable:!1,type:"date",placeholder:"选择日期"},model:{value:t.startvalue,callback:function(e){t.startvalue=e},expression:"startvalue"}})],1),t._v(" "),a("div",[a("span",[t._v("结束日期")]),a("el-date-picker",{attrs:{id:"endValue",editable:!1,type:"date",placeholder:"选择日期"},model:{value:t.endValue,callback:function(e){t.endValue=e},expression:"endValue"}})],1),t._v(" "),a("div",[a("span",[t._v(" 订 单 号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderNum,expression:"orderNum"}],attrs:{placeholder:"请输入订单号"},domProps:{value:t.orderNum},on:{input:function(e){e.target.composing||(t.orderNum=e.target.value)}}}),t._v(" "),t.orderNum?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("orderNum")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("配载单号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.order_WaybillNum,expression:"order_WaybillNum"}],attrs:{placeholder:"请输入配载单号"},domProps:{value:t.order_WaybillNum},on:{input:function(e){e.target.composing||(t.order_WaybillNum=e.target.value)}}}),t._v(" "),t.order_WaybillNum?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("order_WaybillNum")}}}):t._e()])]),t._v(" "),a("div",{staticClass:"g_doubleBtn"},[a("div",{on:{click:t.reset}},[t._v("重置")]),t._v(" "),a("div",{on:{click:t.sureScreen}},[t._v("搜索")])])])])])},staticRenderFns:[]};var Ra=a("VU/8")(Ua,Wa,!1,function(t){a("vdeg")},"data-v-bb8d472e",null).exports,Ma={name:"Search",data:function(){return{startvalue:null,endValue:null,orderNum:"",deliveryNoSF:"",order_WaybillNum:null,TransportLink:""}},created:function(){this.startvalue=this.$store.state.history_SearchData.startDate,this.endValue=this.$store.state.history_SearchData.endDate,this.orderNum=this.$store.state.history_SearchData.orderNoinput},methods:{goPrev:function(){this.$store.state.history_needRefresh=!1,this.$router.push({name:"AviationHistoryList",query:{}})},sureScreen:function(){var t,e;t=f()("#startvalue").val()?f()("#startvalue").val():null,e=f()("#endValue").val()?f()("#endValue").val():null;var a=this.$store.state.history_LinkStatus;this.$store.state.history_SearchData={startDate:t,endDate:e,orderNoinput:this.orderNum,cellphone:this.$store.state.userInfo.cellphone,transportLinks:"Link_PickUp"==a?"提货":"Link_Transit"==a?"中转":"Link_ToSend"==a?"派件":""},this.$store.state.history_NoSearchFrom=!1,this.$router.push({name:"AviationHistoryList",query:{}})},reset:function(){this.startvalue=null,this.endValue=null,this.orderNum=null}}},qa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Search"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goPrev}}),a("span",[t._v("搜索")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"CompetitionScreen"},[a("div",{staticClass:"screen"},[a("div",[a("span",[t._v("开始日期")]),a("el-date-picker",{attrs:{id:"startvalue",editable:!1,type:"date",placeholder:"选择日期"},model:{value:t.startvalue,callback:function(e){t.startvalue=e},expression:"startvalue"}})],1),t._v(" "),a("div",[a("span",[t._v("结束日期")]),a("el-date-picker",{attrs:{id:"endValue",editable:!1,type:"date",placeholder:"选择日期"},model:{value:t.endValue,callback:function(e){t.endValue=e},expression:"endValue"}})],1),t._v(" "),a("div",[a("span",[t._v(" 订 单 号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderNum,expression:"orderNum"}],attrs:{placeholder:"请输入订单号"},domProps:{value:t.orderNum},on:{input:function(e){e.target.composing||(t.orderNum=e.target.value)}}}),t._v(" "),t.orderNum?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("orderNum")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v(" 运 单 号")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.deliveryNoSF,expression:"deliveryNoSF"}],attrs:{placeholder:"请输入运单号"},domProps:{value:t.deliveryNoSF},on:{input:function(e){e.target.composing||(t.deliveryNoSF=e.target.value)}}}),t._v(" "),t.deliveryNoSF?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("deliveryNoSF")}}}):t._e()])]),t._v(" "),a("div",{staticClass:"g_doubleBtn"},[a("div",{on:{click:t.reset}},[t._v("重置")]),t._v(" "),a("div",{on:{click:t.sureScreen}},[t._v("搜索")])])])])])},staticRenderFns:[]};var Ea=a("VU/8")(Ma,qa,!1,function(t){a("A5uk")},"data-v-2c221eb1",null).exports,Ha={name:"HomeIndex",data:function(){return{userName:"",cellphone:"",VersionNum:"",iosorandroid:"android"}},components:{FooterIndex:x},created:function(){this.userName=this.$store.state.userInfo.userName,this.cellphone=this.$store.state.userInfo.cellphone,this.VersionNum=this.$store.state.App_Version},mounted:function(){this.iosorandroid=this.$store.state.Device},methods:{updateapp:function(){try{CallAndroidOrIOS.updateAPP()}catch(t){}try{window.webkit.messageHandlers.messageSend.postMessage({a:"检查版本更新"})}catch(t){}},toPassword:function(){this.$router.push({name:"RePassword",query:{}})},toHistoricalTrack:function(){this.$router.push({name:"HistoricalTrack",query:{}})},exit:function(){var t=this;this.$confirm("确定要退出登录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){localStorage.removeItem("SXJF_USERDATA"),t.pluginGetUser("",""),t.$store.state.AviationWaybill.Waybill_SearchData="",t.$store.state.AviationWaybill.Waybill_SearchType=0,t.$store.state.Waybill.Waybill_SearchData="",t.$store.state.Waybill.Waybill_SearchType=0,t.$router.push({name:"Login",query:{}})}).catch(function(){})},pluginGetUser:function(t,e){try{CallAndroidOrIOS.callAndroidTrack(t,e)}catch(t){}try{window.webkit.messageHandlers.messageSend.postMessage({a:"记住帐号密码",b:t,c:e})}catch(t){}}}},Qa={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"HomeIndex"},[i("div",{staticClass:"container"},[i("div",{staticClass:"headImg"},[i("div",{staticClass:"background"}),t._v(" "),i("div",{staticClass:"background_blank"}),t._v(" "),i("div",{staticClass:"head"},[i("div",{staticClass:"image"}),t._v(" "),i("img",{staticClass:"userinfo-avatar",attrs:{src:a("7ADV")}}),t._v(" "),i("div",{staticClass:"userName"},[t._v(t._s(t.userName))]),t._v(" "),i("div",{staticClass:"userName"},[t._v(t._s(t.cellphone))])]),t._v(" "),i("div",{staticClass:"stripInfo"},[t.$store.state.userInfo.aiportName?i("div",[i("i",{staticClass:"iconfont icon-jiesongjifuwu"}),i("span",[t._v("所属机场："+t._s(t.$store.state.userInfo.aiportName))])]):t._e(),t._v(" "),i("div",{on:{click:t.toHistoricalTrack}},[i("i",{staticClass:"iconfont icon-lishiguiji"}),i("span",[t._v("历史轨迹")]),i("i",{staticClass:"iconfont icon-xiangshang"})]),t._v(" "),i("div",{on:{click:t.toPassword}},[i("i",{staticClass:"iconfont icon-xiugaimima"}),i("span",[t._v("修改密码")]),i("i",{staticClass:"iconfont icon-xiangshang"})]),t._v(" "),i("div",{on:{click:t.updateapp}},[i("i",{staticClass:"iconfont icon-guanyu"}),i("span",[t._v("版本更新")]),i("i",{staticClass:"iconfont icon-xiangshang"}),i("span",[t._v(t._s(t.VersionNum))])])]),t._v(" "),i("div",{staticClass:"Exit_logon"},[i("i",{staticClass:"iconfont icon-icon-yxj-switch-account",on:{click:t.exit}}),t._v(" "),i("div",[i("span",{on:{click:t.exit}},[t._v("退出登录")])])])])]),t._v(" "),i("FooterIndex")],1)},staticRenderFns:[]};var Va=a("VU/8")(Ha,Qa,!1,function(t){a("PqFU")},"data-v-7599bcb1",null).exports,za={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"HistoricalTrack"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goPrev}}),a("span",[t._v("历史轨迹")])]),t._v(" "),a("div",{staticClass:"container"},[t._l(t.TrackListData,function(e,i){return a("div",{key:i,staticClass:"TrackList",attrs:{id:i}},[a("div",[t._v(t._s(e.trackingTime))]),t._v(" "),a("div",[t._v(t._s(e.vehicleLocation))])])}),t._v(" "),t.is_NoData?a("div",{staticClass:"NoData"},[a("div",[a("i",{staticClass:"iconfont icon-meiyouwuliuxinxi"}),t._v(" "),a("div",[t._v(t._s(t.is_NoData_text))])])]):t._e()],2)])},staticRenderFns:[]};var Ga=a("VU/8")({name:"HistoricalTrack",data:function(){return{TrackListData:[],is_NoData:!1,is_NoData_text:"没有任务"}},created:function(){var t=this,e={cellphone:t.$store.state.userInfo.cellphone};this.httpRequest("queryTrajectoryData.do",e,function(e){t.TrackListData=e.data,e.data.length||(t.is_NoData_text="没有结果",t.is_NoData=!0)})},methods:{goPrev:function(){this.$router.push({name:"HomeIndex",query:{}})}}},za,!1,function(t){a("1bEl")},"data-v-65f559d4",null).exports,ja={name:"RePassword",data:function(){return{oldpwd:"",newpwd:"",reNewpwd:"",tips_Msg:"",ifTips:!1}},created:function(){},methods:{goPrev:function(){this.$router.push({name:"HomeIndex",query:{}})},submit:function(){var t=this,e=t.$store.state.userInfo.cellphone;if(this.oldpwd)if(this.newpwd)if(this.reNewpwd)if(this.reNewpwd==this.newpwd)if(this.newpwd.length<6)t.$alert("密码不能小于6位数！","提示",{confirmButtonText:"确定"});else if(this.oldpwd!=this.newpwd){var a={cellphone:e,next_page:"xiugaimima",oldPassword:t.oldpwd,password:t.newpwd};t.httpRequest("updateUserPassword.do",a,function(e){t.ifTips=!0,t.tips_Msg="修改成功",setTimeout(function(){t.ifTips=!1,localStorage.removeItem("SXJF_USERDATA"),t.pluginGetUser("",""),t.$router.push({name:"Login",query:{}})},1500)})}else t.$alert("新密码不能与原密码相同！","提示",{confirmButtonText:"确定"});else t.$alert("两次新密码不一致！","提示",{confirmButtonText:"确定"});else t.$alert("请确认新密码！","提示",{confirmButtonText:"确定"});else t.$alert("请输入新密码！","提示",{confirmButtonText:"确定"});else t.$alert("请输入原密码！","提示",{confirmButtonText:"确定"})},pluginGetUser:function(t,e){try{plus.plugintest.PluginGetUserFunction(t,e,function(t){},function(t){})}catch(t){}}}},Xa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"RePassword"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goPrev}}),a("span",[t._v("修改密码")])]),t._v(" "),a("div",{staticClass:"container"},[a("div",[a("span",[t._v("原密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpwd,expression:"oldpwd"}],ref:"oldpwd",attrs:{placeholder:"请输入原密码"},domProps:{value:t.oldpwd},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("newpwd")},input:function(e){e.target.composing||(t.oldpwd=e.target.value)}}}),t._v(" "),t.oldpwd?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("oldpwd")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("新密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newpwd,expression:"newpwd"}],ref:"newpwd",attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:t.newpwd},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFocus("reNewpwd")},input:function(e){e.target.composing||(t.newpwd=e.target.value)}}}),t._v(" "),t.newpwd?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("newpwd")}}}):t._e()]),t._v(" "),a("div",[a("span",[t._v("确认密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reNewpwd,expression:"reNewpwd"}],ref:"reNewpwd",attrs:{type:"password",placeholder:"请再次输入新密码"},domProps:{value:t.reNewpwd},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},input:function(e){e.target.composing||(t.reNewpwd=e.target.value)}}}),t._v(" "),t.reNewpwd?a("i",{staticClass:"iconfont icon-iconfontcuowu",on:{click:function(e){return t.clearInput("reNewpwd")}}}):t._e()]),t._v(" "),a("div",{staticClass:"g_signBtn",on:{click:t.submit}},[t._v("提交")])]),t._v(" "),t.ifTips?a("div",{staticClass:"msg_tips"},[a("div",{staticClass:"tips_content"},[a("i",{staticClass:"iconfont icon-chenggong1"}),t._v(" "),a("p",[t._v(t._s(t.tips_Msg))])])]):t._e()])},staticRenderFns:[]};var Ya=a("VU/8")(ja,Xa,!1,function(t){a("coR/")},"data-v-1f2bf2ac",null).exports;r.default.use(d.a);var Ka=new d.a({routes:[{path:"/",name:"Login",component:y},{path:"/ForgotPwd",name:"ForgotPwd",component:I},{path:"/Reg",name:"Reg",component:L},{path:"/Identifying",name:"Identifying",component:k},{path:"/Search",name:"Search",component:Ra},{path:"/AviationSearch",name:"AviationSearch",component:Ea},{path:"/Index",name:"Index",component:B},{path:"/ExceptionList",name:"ExceptionList",component:O},{path:"/ScanQueryOrderInfo",name:"ScanQueryOrderInfo",component:H},{path:"/PrintExpress",name:"PrintExpress",component:z},{path:"/PrintExpressShein",name:"PrintExpressShein",component:X},{path:"/AuditWeight",name:"AuditWeight",component:J},{path:"/AirMasterScan",name:"AirMasterScan",component:mt},{path:"/SweepCodePrinting",name:"SweepCodePrinting",component:gt},{path:"/LightBehind",name:"LightBehind",component:bt},{path:"/Waybill",name:"Waybill",component:wt},{path:"/AviationWaybill",name:"AviationWaybill",component:At},{path:"/PickUpRandomScan",name:"PickUpRandomScan",component:jt},{path:"/ToSendRandomScan",name:"ToSendRandomScan",component:te},{path:"/SignRandomScan",name:"SignRandomScan",component:ne},{path:"/DepartTakingPictures",name:"DepartTakingPictures",component:ce},{path:"/UnloadingTakingPictures",name:"UnloadingTakingPictures",component:he},{path:"/WaybillInfo",name:"WaybillInfo",component:ha},{path:"/AviationWaybillInfo",name:"AviationWaybillInfo",component:_a},{path:"/DeliveryScanXH",name:"DeliveryScanXH",component:ge},{path:"/DeliveryScan",name:"DeliveryScan",component:be},{path:"/TransitScan",name:"TransitScan",component:Se},{path:"/AviationTransitScan",name:"AviationTransitScan",component:Te},{path:"/AviationAllTransitScan",name:"AviationAllTransitScan",component:sa},{path:"/DeliveryOrderPickScan",name:"DeliveryOrderPickScan",component:Pe},{path:"/ReceiptScan",name:"ReceiptScan",component:Fe},{path:"/AbnormalScan",name:"AbnormalScan",component:We},{path:"/Abnormal",name:"Abnormal",component:qe},{path:"/TrackOnTheWay",name:"TrackOnTheWay",component:Qe},{path:"/MassTransfer",name:"MassTransfer",component:Ge},{path:"/CollectCustomerNum",name:"CollectCustomerNum",component:Ye},{path:"/UnloadDelivery",name:"UnloadDelivery",component:Ze},{path:"/WaybillDetail",name:"WaybillDetail",component:wa},{path:"/AviationWaybillDetail",name:"AviationWaybillDetail",component:Ba},{path:"/RoutingInfo",name:"RoutingInfo",component:xa},{path:"/QRCode",name:"QRCode",component:ba},{path:"/historyList",name:"historyList",component:Sa},{path:"/AviationHistoryList",name:"AviationHistoryList",component:Oa},{path:"/HomeIndex",name:"HomeIndex",component:Va},{path:"/HistoricalTrack",name:"HistoricalTrack",component:Ga},{path:"/RePassword",name:"RePassword",component:Ya}]}),Ja=(a("uKUT"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:this.Loading,expression:"Loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{id:"app",type:"primary","element-loading-text":this.loadingText,"element-loading-background":"rgba(0, 0, 0, 0)"}},[e("router-view",{on:{isLoading:this.fullscreenLoading}})],1)},staticRenderFns:[]});var Za=a("VU/8")({name:"App",data:function(){return{Loading:!1,loadingText:"拼命加载中"}},mounted:function(){},methods:{fullscreenLoading:function(t,e){this.Loading=t,e&&(this.loadingText=e)}}},Ja,!1,function(t){a("fTOU")},null,null).exports,ti=a("8+8L"),ei=a("mw3O"),ai=a.n(ei),ii=a("NYxO");r.default.use(ii.a);var si=new ii.a.Store({state:{userInfo:[],typeOfCarList:[],Waybill:{waybillLinkStatus:"Link_PickUp",WaybillInfo:{clickWaybillInfo:[],clickShipmentId:""},Waybill_SearchData:"",Waybill_SearchType:0},AviationWaybill:{Waybill_SearchData:"",Waybill_SearchType:0},Aviation_HistoryWaybill:{Waybill_SearchData:"",Waybill_SearchType:0},Waybill_needRefresh:!0,IF_Navigation:!0,history_Data:[],history_NoSearchFrom:!0,history_SearchData:{},history_needRefresh:!0,search_WaybillDetail:[],history_LinkStatus:"Link_PickUp",ScanQRCodeInputName:"",App_Version:"",Device:"",flashStatus:!1,scan:!1},mutations:{activeScan:function(t){t.scan=!0},offScan:function(t){t.scan=!1}}}),oi=(a("6q5P"),a("nFqq"),a("U7mS")),ni=a.n(oi),ri=a("wvfG"),li=a.n(ri),ci=a("Au9i");a("d8/S");r.default.use(li.a),r.default.component(ci.Loadmore.name,ci.Loadmore),r.default.prototype.BaiDuMap="http://api.map.baidu.com/geocoder/v2/",r.default.use(ti.a),r.default.use(c.a),r.default.use(l.DatePicker),r.default.use(l.Upload),r.default.use(l.Loading),r.default.use(l.Image),r.default.prototype.$notify=l.Notification,r.default.prototype.$msgbox=l.MessageBox,r.default.prototype.$alert=l.MessageBox.alert,r.default.prototype.$confirm=l.MessageBox.confirm,r.default.prototype.$prompt=l.MessageBox.prompt,r.default.config.productionTip=!1,r.default.prototype.HOST="http://113.105.119.25:8099/tmsApp/",r.default.prototype.HOSTimg="http://113.105.119.25:8099/","Login"!=Ka.name&&Ka.push({name:"Login",query:{}}),r.default.prototype.TelliOSORAndroidVueMounted=function(t){try{CallAndroidOrIOS.callAndroid("获取当前位置页面已加载","")}catch(t){}},r.default.prototype.androidScan=function(t){window.QRScanAjax=this.QRScanAjax,window.TellVue_QRScanResult_Ajax=this.QRScanAjax,this.$store.state.ScanQRCodeInputName=t;try{CallAndroidOrIOS.VueSCAN()}catch(t){}try{window.webkit.messageHandlers.messageSend.postMessage({a:"调用app原生扫描二维码/条码",b:t})}catch(t){}},r.default.prototype.httpRequest=function(t,e,a,i){var s=this;i&&"isLoading_"==i?s.$emit("isLoading_",!0,"拼命加载中"):s.$emit("isLoading",!0,"拼命加载中"),v.a.post(s.HOST+t,{params:n()(e)}).then(function(t){var e;(i&&"isLoading_"==i?s.$emit("isLoading_",!1):s.$emit("isLoading",!1),1==t.data.status||1==t.data.type)?a(t.data):(e=t.data.Msg?t.data.Msg:"请求失败",s.$alert(e,"提示",{confirmButtonText:"确定",callback:function(t){}}))}).catch(function(t){i&&"isLoading_"==i?s.$emit("isLoading_",!1):s.$emit("isLoading",!1),s.$alert("请求失败","提示",{confirmButtonText:"确定"})})},r.default.prototype.onPlusReady=function(t){"e"!=t&&this.$emit(t,!0,"正在获取当前位置"),"android"==this.$store.state.Device?(this.TelliOSORAndroidVueMounted("获取当前位置页面已加载"),window.SetCurrAddress=this.SetCurrAddress):this.Geolocation(t)},r.default.prototype.Geolocation=function(t){var e=this;(new BMap.Geolocation).getCurrentPosition(function(a){a.point&&(e.longitude=parseFloat(a.point.lng),e.latitude=parseFloat(a.point.lat),AMap.plugin("AMap.Geocoder",function(){var i=new AMap.Geocoder({city:"010"}),s=[parseFloat(a.point.lng),parseFloat(a.point.lat)];e.longitude=parseFloat(a.point.lng),e.latitude=parseFloat(a.point.lat),i.getAddress(s,function(a,i){"e"!=t&&e.$emit(t,!1),"complete"===a&&"OK"===i.info?(e.CurrentCity=i.regeocode.addressComponent.city?i.regeocode.addressComponent.city:i.regeocode.addressComponent.province,e.CurrentLocation=i.regeocode.formattedAddress,e.CurrentDistrict=i.regeocode.addressComponent.district?i.regeocode.addressComponent.district:i.regeocode.addressComponent.township):e.$alert("位置信息解析失败","提示",{confirmButtonText:"确定"})})}))},{enableHighAccuracy:!0})},r.default.prototype.beforeUpload=function(t){try{return ni()(t).then(function(t){return t.file}).catch(function(e){return t})}catch(a){var e=t.size/1024/1024<10;return e||this.$alert("上传图片大小不能超过 10MB!","提示",{confirmButtonText:"确定",callback:function(t){}}),e}},r.default.prototype.uploadSuccess=function(t,e,a){},r.default.prototype.uploadError=function(t,e,a){alert(t)},r.default.prototype.callPhone=function(t){event.stopPropagation(),window.location.href="tel://"+t},r.default.prototype.getFocus=function(t){this.$refs[t].focus()},r.default.prototype.clearInput=function(t){this[t]=""},r.default.prototype.toWaybill=function(){si.state.Waybill_needRefresh=!0,Ka.push({name:"Waybill",query:{}})},r.default.prototype.toLogin=function(){Ka.push({name:"Login",query:{}})},r.default.prototype.search=function(t){Ka.push({name:"Search",query:{thisPage:t}})},r.default.prototype.typeSelect=function(t){this.typeMShow=!0},r.default.prototype.selectCancel=function(t){this.typeMShow=!1},r.default.prototype.Navigation=function(t){event.stopPropagation();var e=this;this.Navigate_addressList=[];var a=e.shipmentListData[t].issueAddrLiat,i=[];e.$emit("isLoading_",!0,"拼命加载中");var s={shipmentId:e.shipmentListData[t].shipmentID};this.httpRequest("queryDeliverReceiveAddrInfo.do",s,function(t){if(e.$emit("isLoading_",!1),t.data.length){for(var s=0;s<t.data.length;s++)i[s]={issueAddr1:t.data[s].receivePartyAddr1,issuePhone:t.data[s].receivePartyPhone,issueUser:t.data[s].receivePartyContactName,ORFlag:"收"};e.Navigate_addressList=a.concat(i),e.Navigate_addressList.length?e.typeMShow=!0:e.$alert("没有要导航的地址信息","提示",{confirmButtonText:"确定",callback:function(t){}})}else e.Navigate_addressList=a,e.Navigate_addressList.length?e.typeMShow=!0:e.$alert("没有要导航的地址信息","提示",{confirmButtonText:"确定",callback:function(t){}})},"isLoading_")},r.default.prototype.Navigate_SelectComit=function(t){t=t;this.typeMShow=!1;try{CallAndroidOrIOS.callAndroid("导航",t)}catch(t){}try{window.webkit.messageHandlers.messageSend.postMessage({a:"导航",b:t})}catch(t){}},r.default.prototype.MultiAddress=function(t){event.stopPropagation(),null==t?(this.address_listData=this.shipmentListData.issueAddrLiat,this.currentAddressInfo=this.shipmentListData.issueAddrLiat[0]):(this.addressWaybill_Idx=t,this.address_listData=this.shipmentListData[t].issueAddrLiat,this.currentAddressInfo=this.shipmentListData[this.addressWaybill_Idx].issueAddrLiat[0]),"NEW"==this.currentAddressInfo.appointLoadingStatus?this.currentAddressInfo.appointLoadingStatus="新预约":"YI"==this.currentAddressInfo.appointLoadingStatus?this.currentAddressInfo.appointLoadingStatus="已确定":"REFUSE"==this.currentAddressInfo.appointLoadingStatus&&(this.currentAddressInfo.appointLoadingStatus="已拒绝"),f()(".MultiAddress").css("display","block"),f()(".addressHead>span").eq(0).css("border-bottom-color","#5965D8").siblings().css("border-bottom-color","#eee")},r.default.prototype.closeAddress=function(){event.stopPropagation(),f()(".MultiAddress").css("display","none")},r.default.prototype.address_SwitchView=function(t,e){event.stopPropagation(),this.currentAddressInfo=e?this.shipmentListData.issueAddrLiat[t]:this.shipmentListData[this.addressWaybill_Idx].issueAddrLiat[t],"NEW"==this.currentAddressInfo.appointLoadingStatus?this.currentAddressInfo.appointLoadingStatus="新预约":"YI"==this.currentAddressInfo.appointLoadingStatus?this.currentAddressInfo.appointLoadingStatus="已确定":"REFUSE"==this.currentAddressInfo.appointLoadingStatus&&(this.currentAddressInfo.appointLoadingStatus="已拒绝"),f()(".addressHead>span").eq(t).css("border-bottom-color","#5965D8").siblings().css("border-bottom-color","#eee")},r.default.prototype.onError=function(t){},r.default.prototype.stopevent=function(){event.stopPropagation()},v.a.interceptors.request.use(function(t){return"post"==t.method&&(t.data=ai.a.stringify(t.data)),t},function(t){return s.a.reject(t)}),v.a.interceptors.response.use(function(t){return t},function(t){return s.a.reject(t)}),new r.default({el:"#app",router:Ka,Axios:v.a,store:si,$:f.a,components:{App:Za},template:"<App/>"})},Omus:function(t,e){},OxpD:function(t,e){},P6eH:function(t,e){},PP7d:function(t,e){},PpkV:function(t,e){},PqFU:function(t,e){},"Pt+5":function(t,e){},Ro8Z:function(t,e,a){t.exports=a.p+"img/zfb_logo.7ae63c4.jpg"},SH5p:function(t,e){},"WA/e":function(t,e){},WY5s:function(t,e){},Xf70:function(t,e){},YRCf:function(t,e){},aSkb:function(t,e){},al6c:function(t,e){},b2XV:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABN0lEQVRYR+2X71ECMRTEdyuQDqADtQKhArQCxwq0FK1AOsAOwA6gA+1AK1hnmeDcMPHygnCfko/c+/PLssm9I4JL0i2AVwCjQMqM5DoQB0aCHJMAFgAuAjmnBwg0PSokrMBR1QNJWQBJGwCXgfyakA3J68OEIQG2JK+iAHa6XWwVrIZN9VWzXUmusQLgplsA01yNPz0gaZKa2/ULkg+VAG8A5gC+DUHyI5ffa0JJprcSVRCSfFzvU3Pv3CpmV/EUHEC8kHzqU0LSM4DHSHPXKQJ0LqElgHeS0wKAFbsBcEfSf0PvigK4qQ1VAxC6DRtAU+BfCkiy40Vytrd6+s2n4PwmlKTdWSZ/N9IAhlZgN/d1b8dBAXJ3bANoCjQFmgLnVqA04nWfn+5tmAZTz/XjIMEnSX9XFNcPHYwoMMvZ5+4AAAAASUVORK5CYII="},ckZq:function(t,e){},"coR/":function(t,e){},"d8/S":function(t,e){},fTOU:function(t,e){},foXA:function(t,e){},"g1e/":function(t,e){},gPS4:function(t,e){},h4wV:function(t,e){},hGeb:function(t,e){},i1Yn:function(t,e,a){t.exports=a.p+"img/input.1ac59c7.png"},i5pW:function(t,e){document.addEventListener("plusready",function(){var t="plugintest",e=window.plus.bridge,a={PluginScanFunction:function(a,i){var s="function"!=typeof a?null:function(t){a(t)},o="function"!=typeof i?null:function(t){i(t)};return callbackID=e.callbackId(s,o),e.exec(t,"PluginScanFunction",[callbackID])},PluginUpdateAPPFunction:function(a,i){var s="function"!=typeof a?null:function(t){a(t)},o="function"!=typeof i?null:function(t){i(t)};return callbackID=e.callbackId(s,o),e.exec(t,"PluginUpdateAPPFunction",[callbackID])},PluginGetUserFunction:function(a,i,s,o){var n="function"!=typeof s?null:function(t){s(t)},r="function"!=typeof o?null:function(t){o(t)};return callbackID=e.callbackId(n,r),e.exec(t,"PluginGetUserFunction",[callbackID,a,i])},PluginSetUserFunction:function(a,i){var s="function"!=typeof a?null:function(t){a(t)},o="function"!=typeof i?null:function(t){i(t)};return callbackID=e.callbackId(s,o),e.exec(t,"PluginSetUserFunction",[callbackID])},PluginPrintIosFunction:function(a,i,s){var o="function"!=typeof i?null:function(t){i(t)},n="function"!=typeof s?null:function(t){s(t)};return callbackID=e.callbackId(o,n),e.exec(t,"PluginPrintIosFunction",[callbackID,a])},PluginNavigationFunction:function(a,i,s){var o="function"!=typeof i?null:function(t){i(t)},n="function"!=typeof s?null:function(t){s(t)};return callbackID=e.callbackId(o,n),e.exec(t,"PluginNavigationFunction",[callbackID,a])},PluginTrackIosFunction:function(a,i,s){var o="function"!=typeof i?null:function(t){i(t)},n="function"!=typeof s?null:function(t){s(t)};return callbackID=e.callbackId(o,n),e.exec(t,"PluginTrackIosFunction",[callbackID,a])},PluginWXLoginFunction:function(a,i){var s="function"!=typeof a?null:function(t){a(t)},o="function"!=typeof i?null:function(t){i(t)};return callbackID=e.callbackId(s,o),e.exec(t,"PluginWXLoginFunction",[callbackID])},PluginTestFunctionArrayArgu:function(a,i,s){var o="function"!=typeof i?null:function(t){i(t)},n="function"!=typeof s?null:function(t){s(t)};return callbackID=e.callbackId(o,n),e.exec(t,"PluginTestFunctionArrayArgu",[callbackID,a])},PluginTestFunctionSync:function(a,i,s,o){return e.execSync(t,"PluginTestFunctionSync",[a,i,s,o])},PluginTestFunctionSyncArrayArgu:function(a){return e.execSync(t,"PluginTestFunctionSyncArrayArgu",[a])}};window.plus.plugintest=a},!0)},iF6f:function(t,e){},iQH9:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN0AAABsCAYAAADuUrfKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3ZDQ0M2NhNy0wMzc1LTkyNDctOWMyNi1lODU2NjllMTc4NGYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTYyNUQ0MTg2MTAwMTFFQUFDRDlGQzUxNkFGNDM3NzgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTYyNUQ0MTc2MTAwMTFFQUFDRDlGQzUxNkFGNDM3NzgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmNmODc0NjY0LTI3MzItNWY0Ni04YjgxLTkyNWFkMTA3YTVhNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3ZDQ0M2NhNy0wMzc1LTkyNDctOWMyNi1lODU2NjllMTc4NGYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5kPptMAAAcSUlEQVR42uxdCZAc1Xn+X3fPzN7SohUSEiAhIIAUJIHFkbJNCHFCSIWkTGIbQxWkcHBwKrYhxk6KhNjgGAGFi2CIywUBBBTCJhBuYyFUAikCcUqc0upAQtdKu9r7mLP75f+73+z0zM5098x098zuvr/0a2anZ/p1//2+9x/vf/9jnHOQJElSeKRIEUiSJEEnSZIEnSRJkvwjrfCDDSP9sH64FzQWMB4Z/cfFa+F729eYq88ZQ25Ajor7iU6iAa8JOYO8DzkefJMcOD5XvaURYl290P7KZvyI5G4JPpVKwUUXXQSLFy+WyAgTdGuGjsJtB7YBqJHgQccMG/hKADAfdASuU5HPxOMn4SvxicjHIs9EpotW61jeTFwj8RDyVuSnkI8EDjoFm27A8SmjQ2RdJ8x+eh20vvMpcE0bB93Q0BC0t7dL0IUNugZFMQHXqGohgI67gg41XQu+/BHyHyP/oQDZMZNY5geRXxRgewfvczBYOTMwGglsGWh9txM6XtgIzVs7gekGGMdMFGM0GpWoCBt0dUQLkK/gnH0DX5dCUeNz0hCp69eRV+Mg8hK+HgreeEWwoWZjqNla3/4EOp7fAC1bdyDYdNBjMeBRJnu/BN04zUK+DrvptQJ4k5mGkX+L/DAOGevJbQregGWgN0ZBsYGtWYCNQAjRiOz1EnR59KfIt2PPOWuSy7VXmI8PopJ7J5ywTE6ztaGv1vFcVrMZoDdEUbNJsEnQFXQZ5B+hdvt3fG2cxPLsR34C+Veo2T4KFWxp9NneRrC9gGDb0glAPhuCDaQZKUFXhCjkfzdw9p1JLMck8m+Q/xMY3xJWoxQgMX021Gyz0IxslWCToPPY/i/QnPz2JA6RrEOgoUkMr4bZLM21tWzZAcc++Sq0fLDDnAowo5QSbBJ0LnQzdtrJCjia0F5pBkksTRci4Jqg9b1PYcHPVoE6NAJ6c6MMkEjQeaKvokn5r5NUbo8i34pqbnfYExl6a5NpTp64chUoiST+3WxllUiazKBjNg6M5mFHuRPqO3ukGNH82k3Ij9Ri1tAE3Lvb4MTbUMPFk+i7RSTgpgTouI2DoxsR1KdMMlm9gvxP6L99UgO/EfQ2C3ALbnsYlHjCCpZIvE0h85Izi4Oh05H/dpLJiaKSN+PrSC0azwLuRALcWFICTmq6sulbyO2TRD6jyP+CpuR9tbqAPJNyLGtSyo4rfTrvRKsBvjpJZNODfC328OfqA3AJCbipCjou/gvIP78A+eRJIJcDyFcyBhtqBriWnEkpNdy0MC8D8+n+ZBLIZD/y19GH2xzI2bNLmegNL63hWt7bbjMpozJKOeXNy2BAR+leX6hzedBi0st9BVxWjIoAjUGyVaz1g6puLSDNyhqBpTfTxPd2oeESEnDTRtMZEET1lIXI8+tYFrSY9CoEyRtVn4kARvLTmQAZ/htuNMFmjDbg53gwkgHWlACG32UtCQuPsZiZ2mUCblQCbhppusDMSwLcrDqVA6oc+B5qn1cq1mYENEPIbCRmASsRA57SUJQ00aZaX8yWn0hGgCei1rHBZusimpuhadNGiPT3Q6ZtRk0Ax5jM3ayBpgvMvDwW+1y9Jgj+B1Bq17iZZ/1nel6KMAOLgSxbViKFgEqgKEeiFtgyKuKFyl7kiv6Y7wuduCwAMyIxJ62CoSEQNbVmGk6nleW6LpHhEymKMmEgCzP38tQ6jb49ZYKO2cxruzOW7fz2mRQ0G9kYgQyZNJkAmgWyLCgN7zMvWfCx4FOBnKgZNe0DDzwAq1evLjxEEeflyMcJx+M95E0SUs40OjoK11xzDVxxxRU1My+X1KFctiF/Hzt7pmRf5yLwYaDvlcL3AyiyhIrvNSvmRFW2TB/OsPnBk9NEo1G5t7cXuru7sx9RtbUbkf+qwB9fLUHnTsPDw9Df318z8zIKVum8eqI43uT3gZKYS90riQH9NDasgjKEZsKogthkFqY0odUUmNwlkwpIVVWTkS5BpkycRUW+9skUuNUJto3fRJXVhCy9aDrfL4VGybl1JvS7Ue5rSwdGrPCKMsxA6RPIUoQvx2BqIW0iUa0aKjsxo8TxHSFfD+XrXoV8Bli1T6vtndTvdyLfALliUVT49+tgzSXPFD2AVwlqRcQLNrpoukDMy9PASgGrF3oX+U4oVj1aiEoZRLANoHZLoig04W9Nj8jePKHhSgGOoiz7Q7yeryHfizzH5/PS/aXFe/JVV4nBxm/6uQdNF4h5uQjqpwgSrfK+CW9wMO8eRdCDJQhwaGahhjMhqU51pTaBvuHiClCls6MhXcvZyPcLzeM37RIqRrOsnkAAN4bc5cGngyByL0+vo071KCqstYVurCmMPsRYH7OSA7RpB7YsXeJynMpUHAnpWq4LCHDZ+yBaIQaaQGIpABMreIcRvSRdcWaddKhDCKSV5kaYdH+KFRQhEzLSZYCStAKVNd3LqLzRjgkfp1r/IzvcUgc/0VWGlonZ5FMwIwPFa8zQPb0GVhn6dJnnpe9T5PXvHZ7m5zZg/FjcEy9TXsRXOyiVw+L8bprOd/OSHuTCOgHdPXhje8xnrVmmpNZngDoktHsdmJJluo2LhS/S4hPoKD/Wrao27Sfxjk9DE0n8MRFsKCSyN1ZXce4LhaYsRQfF6ydQXTT2YgfQdXkDnR3D/hBNrHbUAeA+RX4g26vVfgMi3RyUBAeDpKDV3pZUUkkYWHYezF7/MqjxMRwEVC+yXRHyZc5wCLJUQkHtVrTEYQjNCN/UD1k4BQiPiLa8+HS+arozxEhcYxUCd6Pp2K8kOUQQcFqvYZqSvI58N2YYkGrvgMScedCya5sX0B03BXzIbS6a8BrRT3cJzUHmbZ+H8zqZyX0F5zgP+SLkTqEBDwnT0M2sne0yABX1fUtELxU/QVf7AkQKbMHB5NfasAHRrgywFEew1WGUBEFnNDbC0QsvgdYdHyMIdXwUqtuANtnpsMMxSqr4AVhTTlmwZEGxTwB2uwAjdfBu4ZsRzXM4b2+BpqNt2H4m3ifE+Q6K1x3CStoLVjUB+mzEBrpjXPxfD6Dzt0YK2f2/X1vAMR0y/I5od2ZEG9DNK+J1XPhPTcRhYOk5cPCyq2HeC0+YO6c6OHo0gf2WraNV69N9F/nLDt+hTnez6LCKD32DOvhOh++QhWTf2+IYwWcWMVEpMPI3wj9jLi4NTXnY87Psc4ANIghzUhH50H3THOYtNtA1Oshzf5mazpcQHgqN1y7nkia5x4wjsf0pBc3KSyDKSKARM2hiH1oYWIsKGGQXdRcOOzEonjZUanjiwjSKFHyWlTl13t8VBQulcWbScOQrl0Jr50fQuv1DMKKxUnf4lmC/yK3aNpl490N4WdlzPbom1PFPsF1XqwCEE+gyBWaiu4NiAbnZ9pmTP0cDygGPoPNVpCgIVrtMFAOHrT2pOZHBzCNGBO20DGdoNTMKmjABSq4ycxfm3FQBLeVhPLsVN6dFpjS3QO/ND5WcjMwvmMet33MbNO3aaaKmWo1ffsnJzKR2es+7ANo+fh+NrFgY0moD9+mC/RDuMogF4H3X3X02k3GmCyAOFWi2hWVck117He8SIOr2bl4agqsPXiwVDzN0oux/BBtow7rKVQQcswMFCkqUTAAIs6tLnjtp7kdMZKzQcQ62c7K8gYszVjiQkWQfcoveKKk0xOcvguSceRDp77X2Bg+WqAO5lUY8FPJjTAvtmtUwEZegxYANdLNdAGrHwAEBkFZw36qty2OwhszX0TJ8Ot+il6fXLDaI16/1ZEwDjkdzYLDwwcZtSPM+BVi4DYBcAJSPgwtyv2G291BwvEDbFZnrfh4/fc29u2UgPm8hJDvmQrTnSBigO8ED6D4P+SmuQz5fgIh8rN8TWok04MnitU0EXKiTJ22+X4PH+6CgyDUiCknR4FNF8I/ksUjwsQL0hg10qgvoDkGJ4sRB1r2k3liT9C/ScujLAQVO6L21HIdZ44iJMZbTQCwfbAB2gNrkYFeAXGgwm9YbH6yYTetNHLgoJehW7iHwoTc0wZxXnoGWXZ+atVNCoHngnB9LHW53yI8yY4s0Utv27chmiEGCgiDLC/yn410CRoUae0QwRSzfLfDlqY1ZAoh03k5bZNXNhI17Ah0XnYdXr+naahW5JLBo/TooaW76bIW+qv3WxjVaYWhEgIdnizRxW9dTC8xH+zGWG7tYtq2ctqOo1xbnAY0jyBoh1tsNc9Y/b00bqKGEW09wOU6Bgc+gfmhQ8N4iwSSnrJoRmxnqRqQ5DwsuzFppd3GdukodCDIjZa7LiBMYMQRbpC9tC2AIYCjMZgaygnVxLN8Hy2owheUUHMuZormgiU0r2o0EDoXWwn/jn/e4CZYAFxnohUUP34X+6AAY0cawYhduRYD7wZ8sjjDIyezrKQN0TjTHBXTd3kHnX+4labnQM1HMAMpQBtRRYVoyyJmW43MBLKfdGLMBJ6eisr/LysH++zwz0g5ebgdcnhZ8Ahi/XujNkhpOR8BFB/rg5AfvgKZ9u0FvbAoLcJoH0FHwYbgOAcaE33XYFrg4zgUMfRW00yGCLPs9gu5gGaADq5ScwaoVxVKoRb4+BVD6M8DQazI0luejActqI5anBXmeL1sYgRSA5Szff2N215XBeARFmJg2wP0XAu5HYK2tcjApmxBwvQi42xFwuxBwzWFKrQGcMzhARBFH6wBkijAfKV5AyddfEKD7S2ECRsB5mqHH430cI4I35yJ/SbTzLNCGMjnQlbL7U+WBzq9ACjcjTaGPeUqKm1MFplloNymzmo3bBhcGeaZlnmnNYWIABfI/43nnsQVZLG25H9/cKsxKZ1FpUYj2dcNJq+7yCjgmOoXqgyrURQd2W7fWL/wYv8Kog5ArleBEEeGmkOVEe2EsFYETexDjMOTWrc0C52yUHgdNRiD7IlhJ5MtEtDRq+05fgXlZikbLBJ0vPh1FlkLPCyRzUkPTkiUNMFRWXHuB0OQqy49c8iL+Xc6Zy70Uajy7uWnRUfzjcTx2L2o4T9E+IxKBuWufhtbPtkG6ZaYX4c8Wo24HVD+jagg3wA1030T+ClS/ey4TYLscnJfUUOj+WrBWjy8TYGIOpq9X0B0s6P9Xi/s6C6zpiJjH4MjxLqDrK8+8rN6nmws12J2HIZgiA2mznEmubqxtJlzJBUqKTozn/U78rIgmG496wrgPR6bjNnx9Bv9+Gnm75x4fiULT/j3Q/sFmyDS1eh3tFojROMzivbPBW7qUFxr2YOJdivxDj+frsp2vHZznG+0ZJeT73Qbe6vekIZecTSauU7SX0sziYWu6JaEHURBMLMFBG9GFP8Vs0wUsT4uZtSrBFkhhuUCJdeeM5ocy+EUDPyJNoKPWS+ORDIobW6HoF6N5mM/wsx3MgM3Y1nb87ki5gjNiDTB70xpQR4fK8eNOChlwftMeyE84LgVyrzRg0/izHWIJ9HDsE+MzwXvGlGEDXdRF0x1w8uGDil6GvjsPVxSIDCfRpzMsUGUjj0qBmWhFKxGZOBoxtkcZ03eDxrr0mNqDYO3Gz/tRvP14bARN1ARTCHzmJK1uApEAySCJ5xrBM2U4q3x0okTm2W+shfb3N5pTBWXQQr/FB+FmDu3xEAn1Uv2LTLgPkJ/3aPalID+UPwucM1eIkuJ6X7UBthGc9+U4AA4JEEHUSGEQdiEiZo1D5M9xyKZuid1yuNBsChvCvzfj32+gz7cB9cRerqhHtZH0sN6AYmhQ80P+YUTqEdEzt74J2tgImpZlGQa/FR0g5QPYaNSmtWRO6x7J97pFmFjVgpM09E4XXzRSAjw9AmQfIW8Q17UP8musOFUyI5NvyAWgdK5O0cbbyG9Cbi2d3X1y8hu7nQRQXNMZVWWkzIIaVP+iFeEqmZaKYtsbwLQyduM9rcbu9RTTjY85Uw1mr3bGWE1XjhvRqHXN5dHHgv0gmgy83eU7tHfB/4QollZhQveIzv++AFknWFkxGRdttr3Id1Txe7tZe5rQSB+CtVB1o2iL2nBKBCA/YAcUL3yriHOVAbrqfbr5YQdRqNOqI8K01MSAoShD+PILvI9fMc4PcpBbQDn4h27LZ/aHfE2UcvYPot3OMnvjT4EKCU/UpNmoqb0k3jPIawSwB8tog77/Zw5212CZmq5q85KCKLHQHs+4aZkWl29OZuPIzL6Hf71Rz72dIpdcrXkN3oUegl4HQr4mCkKsrfC35YDn/QrbSELxsoGeKIgKz+eG688xNC0N9ItE1FJRXmSM/x0PryBqRUSRypbdn0Dznu0m+Gqs6Zzm3jKQv/5MUpWklVYfrNLzLQ7VtKQVBQg4mhDnUWUdV9nVTOd99WxNEuCa9+6ARQ/eCREzqdmPPTGqcgeciAIPe+pIfKoIYrAS/hQNEn3gT90YFUpn/ggby/T99OpAN557WdFFzsNLOQ3CRR1ow+aKgp1cU74FlSWzhnatepMFuJMfugOvuz/MVQSlRtcFHkB3qI6kSEWJ/lcAwSjSnyko8tc+ge40EUBqKdIWtb8XrJ1+DlcJuqrMS/IPTgizy1CupRbXEzyifhc/+NwKrKhgFj5htezPRQDXjID7HDUcAW6o35qb4zW9wCaYWPWqkChtarSOQHe2yzVvEYEYP2iui+VGmScjtTYvl0OIYULy4dRkBpS4/gC2uoZl7GvhDLPUnhFV8goq1BRwZFI+dCdEB/vNZTw1BhwRhebdihHtAucQfdh0lsvxN31syy0r5oA/oBPzdBUt7WF8RZgdmYIo2kj6YGQoddcElWZugsQg06ZCpkWrKeJMk/LzTlPDRYb6LMDVhwqmHEW3Euk7oL7IbfXKez625bYIu8vHQEqFpgpnoftzDYdHH2roGdtnaBMnmJnBITKgQHx+I6TbI8D08KMrFCQxTcqHEXCDfSLdqyLAkVZqBn/qtIHQXpSu55Z/NibA6Veupyq0Q6k0sOvBWl5TmG1D901TUec4iRtoD3mAK6vs21z4hG5KhNbZrYL8jdVITpS4sBJKlGX3Mw3sFA+jkI/+HCOz8misO/4Y0w1zV+KiT3g0A43742A0qNa+BWGOCaoG2tgQnPTYz9Gk7K1Ww1Gq1l9A9alfWaJORZE5t3SYG8FaYuNXoRaaH6EMmPuLHCNQ0V5x51d4brqXPw/xES8u4fM1QTm5l1wAroI0MNJyM8MDHV58Qt+YnN20MzHHOTufYiqQpB8YofpRpOVmb3oJYj2Hql0JTmg910PQIwiaD+7TCuVSqQz8GaH2oeDIMbfUzzSw80O9LRxH0i3RJwcWe1kKZWUyq6kMREdHQB1L5hcgCgJwkRj6m4PQsXkN8EjVlhnd5FTYoYcom1BcjEjznjwF7vFomYGUisxLUutnh3xj+xBHG70NDta9ZCi5GFpATaQD1Xhci0Cs7zDMf/lRiPb3gKFVnXHSIbjc3ULdRiIvG4X5GbkkEzW7804xIj/vHpg42ZNd/3G5S3CDVtNv88H/pHueK9prcLjWx8FKO1NtHY3erys/kFI+6E7AH4Q9Qm3GR3GwPIvUAD0ShVRTE0RTI4FNJdA8YWSoH9q3/h9k/CkwtBesSVi/gii60J73uphzlAx8N/hUfVgMzhREKbX0hZ5nqdXiM138NdKgtPxoq08yoiDKNx2Ofyb83bLnMP2aHD8jALvfDULPVvQrnUOquQX0WBQakoMBXRs3Vz7o5S1MdSJKNXrJ54s8BfKL7hSjDQJ49UAUM1jkcJwSI7p8bG8+OCfuU25vRZPwfvl0y3Lb2YRCe3Hcfa3iCAzZD5EGyOhJiPAE+BeYm1REUbcml+901dH1LgLnVd7kJ/b42J6bD30EKkw180vTfSnkB/A7HBSq6hB0d8nYDGhQRmqfsVIbcnMHuM+d2A9zD1zMPcPH9twixRXn+BbXdEZZoOuAcMvtpfDiHvfjRAZquHS0BTQ+PB1B59apSCiH6+RaqTMud/nOzpDlM+Qf6Mrf/ng5hJnkDPA6PoO3/TiRohsQn9EGKo9BxBipRT3qWpJbRWdatV0vKWA0sDtFLcnM8zP9S/VgXu7xD3TlL2Jd5sEh95MeBMb9ycqgWikaajtoMbccViGOH00L5LV5GCgfrmY095lOAedAHW0lvcXH9igC1u7iz633WdOVBbovhij8txBwL/q0YeX4/ZJPl1EQeDwB04RoEtppdcEqoD0Y6sv/LDX3QvNyP4AqyicUIVpdMMNBq/4bWNM4lVlYJTWAN6a5k6UhCv+XCLjRvGCPL0zVZKMozUZRW3ZagK5Y3UaaQ/sJ8nfAvzVpflCpmMELYFWC7vS5vWNLgI4CS98G2p+iCqp2A5HlCLyw5uc2IT8VZAMZylZh00LbUWJ6pCAoQMVU7wJ/16P54nojf9n2tyH8t1+ClRGSDqBN6tOtBYMRAZyqjFU9+V5tIIWWWTSEIHgS9B3guN1U9Xamjq6pzmOgIfCmeMm+LtM3trIpKNT+OvIHjDGeSCQglUrVG+jWCjOSykZQEG0jVLB4tAw6IgZ4Gox2iQHpnXJPMjQ0VFSWJRaxKhY7E9llYc3PUZ2Kl4LGgVlpBkEHU1/bvS44j+LxOFx22WVwzjnn1NO1Uh7kT0Nuc5PgqiidTsOSJUu8mJfg1bREu5cFv2cBNzO2bzG1XQhz2BnejJouDoylYboRjcorVqyASy+9FCQFR9UkPNP6rjnBXyJfKUyLcIirqO2ioEJq2nUGNC8hmUxKVIQOOu8+3Xngb7mHYrQGu0LooeuM3oSOxJjsHZLC0nSeJscp8hX0/Bw6+/x6c1uqkMkwIsANEo0OIPdAkBSOpnMF3ULsi8sCdZ45XG/uaFqLXGSugZFpBCU2bEYxJewkBa/p3OfpLgDO2wO8LirC82RtHRxD9g5JYYEOrFkxpz7HaClPYOP/alQ1t1kap3Y6Rk83AuNxYFLNSaoD87IDtdwFAV3Pq4jlf0RA1zh0yNC8bBAy4LKXSAoWdFxELh3q9qzATrkwgGvZhH39Kga8vz5EI8EmKUyfjjv6dBeD/yvPKN/vcmy4Sz4SSdPTpyttXrbhgQt9vgZKR7oSMX5QPg5J09inK2ldnYUa8Ewf238OqGQ34z3yUUiS5mVRTccpKc+v0ln3YVP/jCxTPyRJTVdC080Exi72oU1aknETNnCvFL8kCTq7tpsYSPkDBOKSKtv7APkGNCfXS9FLkqArpu3y6WtQ+Yw4TbXTEvcf4xkOS7FLkqDLA1xRn45qAF5SYRtUpelW1G7PSnFLkuR9yoC03Nwyz92HWu0+PNE9UEU1XEmSpolPl2dqUsWvq8o4Zxz5Nwg42u3lQyliSZLcQEcl1fPLqtN2QV4CKFTE5Xn8IVVpelOKVpKksn068y8qx3CDyzn2gVU56RHUblKzSZJUmU8H2T3Hf4J8agmttpnAxhh/GV8PSFFKklQh6DIU3M9AB8/A9fjuOtsh2jDhU7A2J9yU9dfy4i2F74sdG/+cF3nPLa4HwutI6Nyq+MxtOeBcGb9n80+z1LX93jjV8cPf6maRH9occrIsyqPr1XVdoiJs0B3Xxk5bPE/5IYsxKpf+a+SPBL9fNCl5Akj4RHBNAB19ptg+z4GO1QXomLnHZaStEV94PugUNnEw4WYRsfF71qNRaOyYCQvOOMMC3SShsbExaG9vl6gIfDyfuHBOFZyS4pEkKRzQSZIkKUBSpAgkSZKgkyRpStP/CzAAln1PpiT6kIoAAAAASUVORK5CYII="},ixuM:function(t,e){},"kB+v":function(t,e){},l9IN:function(t,e,a){t.exports=a.p+"img/ad_pic_2.aa96f5f.jpg"},n55d:function(t,e,a){t.exports=a.p+"img/ad_pic_1.45c1b81.png"},nFsX:function(t,e){},nIrN:function(t,e){},ndWM:function(t,e){},"nt/e":function(t,e){},rRKO:function(t,e){},rrS7:function(t,e){},tf4A:function(t,e){},tvR6:function(t,e){},uKUT:function(t,e){},ueb9:function(t,e){},upgA:function(t,e){},vdeg:function(t,e){},wBii:function(t,e){},wMEB:function(t,e){},xlxA:function(t,e){}},["NHnr"]);